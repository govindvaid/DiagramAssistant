<html>

<head>
    <script>
        /* build: `node build.js modules=ALL exclude=gestures,cufon,json minifier=uglifyjs` */ /*! Fabric.js Copyright 2008-2013, Printio (Juriy Zaytsev, Maxim Chernyak) */
        var fabric = fabric || {
            version: "1.4.0"
        };
        typeof exports != "undefined" && (exports.fabric = fabric), typeof document != "undefined" && typeof window !=
            "undefined" ? (fabric.document = document, fabric.window = window) : (fabric.document = require("jsdom")
                .jsdom("<!DOCTYPE html><html><head></head><body></body></html>"), fabric.window = fabric.document
                .createWindow()), fabric.isTouchSupported = "ontouchstart" in fabric.document.documentElement, fabric
            .isLikelyNode = typeof Buffer != "undefined" && typeof window == "undefined", fabric.SHARED_ATTRIBUTES = [
                "transform", "fill", "fill-opacity", "fill-rule", "opacity", "stroke", "stroke-dasharray",
                "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width"
            ],
            function () {
                function e(e, t) {
                    if (!this.__eventListeners[e]) return;
                    t ? fabric.util.removeFromArray(this.__eventListeners[e], t) : this.__eventListeners[e].length = 0
                }

                function t(e, t) {
                    this.__eventListeners || (this.__eventListeners = {});
                    if (arguments.length === 1)
                        for (var n in e) this.on(n, e[n]);
                    else this.__eventListeners[e] || (this.__eventListeners[e] = []), this.__eventListeners[e].push(t);
                    return this
                }

                function n(t, n) {
                    if (!this.__eventListeners) return;
                    if (arguments.length === 0) this.__eventListeners = {};
                    else if (arguments.length === 1 && typeof arguments[0] == "object")
                        for (var r in t) e.call(this, r, t[r]);
                    else e.call(this, t, n);
                    return this
                }

                function r(e, t) {
                    if (!this.__eventListeners) return;
                    var n = this.__eventListeners[e];
                    if (!n) return;
                    for (var r = 0, i = n.length; r < i; r++) n[r].call(this, t || {});
                    return this
                }
                fabric.Observable = {
                    observe: t,
                    stopObserving: n,
                    fire: r,
                    on: t,
                    off: n,
                    trigger: r
                }
            }(), fabric.Collection = {
                add: function () {
                    this._objects.push.apply(this._objects, arguments);
                    for (var e = arguments.length; e--;) this._onObjectAdded(arguments[e]);
                    return this.renderOnAddRemove && this.renderAll(), this
                },
                insertAt: function (e, t, n) {
                    var r = this.getObjects();
                    return n ? r[t] = e : r.splice(t, 0, e), this._onObjectAdded(e), this.renderOnAddRemove && this
                        .renderAll(), this
                },
                remove: function (e) {
                    var t = this.getObjects(),
                        n = t.indexOf(e);
                    return n !== -1 && (t.splice(n, 1), this._onObjectRemoved(e)), this.renderOnAddRemove && this
                        .renderAll(), e
                },
                forEachObject: function (e, t) {
                    var n = this.getObjects(),
                        r = n.length;
                    while (r--) e.call(t, n[r], r, n);
                    return this
                },
                getObjects: function (e) {
                    return typeof e == "undefined" ? this._objects : this._objects.filter(function (t) {
                        return t.type === e
                    })
                },
                item: function (e) {
                    return this.getObjects()[e]
                },
                isEmpty: function () {
                    return this.getObjects().length === 0
                },
                size: function () {
                    return this.getObjects().length
                },
                contains: function (e) {
                    return this.getObjects().indexOf(e) > -1
                },
                complexity: function () {
                    return this.getObjects().reduce(function (e, t) {
                        return e += t.complexity ? t.complexity() : 0, e
                    }, 0)
                }
            },
            function (e) {
                var t = Math.sqrt,
                    n = Math.atan2,
                    r = Math.PI / 180;
                fabric.util = {
                    removeFromArray: function (e, t) {
                        var n = e.indexOf(t);
                        return n !== -1 && e.splice(n, 1), e
                    },
                    getRandomInt: function (e, t) {
                        return Math.floor(Math.random() * (t - e + 1)) + e
                    },
                    degreesToRadians: function (e) {
                        return e * r
                    },
                    radiansToDegrees: function (e) {
                        return e / r
                    },
                    rotatePoint: function (e, t, n) {
                        var r = Math.sin(n),
                            i = Math.cos(n);
                        e.subtractEquals(t);
                        var s = e.x * i - e.y * r,
                            o = e.x * r + e.y * i;
                        return (new fabric.Point(s, o)).addEquals(t)
                    },
                    toFixed: function (e, t) {
                        return parseFloat(Number(e).toFixed(t))
                    },
                    falseFunction: function () {
                        return !1
                    },
                    getKlass: function (e, t) {
                        return e = fabric.util.string.camelize(e.charAt(0).toUpperCase() + e.slice(1)), fabric
                            .util.resolveNamespace(t)[e]
                    },
                    resolveNamespace: function (t) {
                        if (!t) return fabric;
                        var n = t.split("."),
                            r = n.length,
                            i = e || fabric.window;
                        for (var s = 0; s < r; ++s) i = i[n[s]];
                        return i
                    },
                    loadImage: function (e, t, n, r) {
                        if (!e) {
                            t && t.call(n, e);
                            return
                        }
                        var i = fabric.util.createImage();
                        i.onload = function () {
                                t && t.call(n, i), i = i.onload = i.onerror = null
                            }, i.onerror = function () {
                                fabric.log("Error loading " + i.src), t && t.call(n, null, !0), i = i.onload = i
                                    .onerror = null
                            }, e.indexOf("data") !== 0 && typeof r != "undefined" && (i.crossOrigin = r), i
                            .src = e
                    },
                    enlivenObjects: function (e, t, n, r) {
                        function i() {
                            ++o === u && t && t(s)
                        }
                        e = e || [];
                        var s = [],
                            o = 0,
                            u = e.length;
                        if (!u) {
                            t && t(s);
                            return
                        }
                        e.forEach(function (e, t) {
                            if (!e || !e.type) {
                                i();
                                return
                            }
                            var o = fabric.util.getKlass(e.type, n);
                            o.async ? o.fromObject(e, function (n, o) {
                                o || (s[t] = n, r && r(e, s[t])), i()
                            }) : (s[t] = o.fromObject(e), r && r(e, s[t]), i())
                        })
                    },
                    groupSVGElements: function (e, t, n) {
                        var r;
                        return e.length > 1 ? r = new fabric.PathGroup(e, t) : r = e[0], typeof n !=
                            "undefined" && r.setSourcePath(n), r
                    },
                    populateWithProperties: function (e, t, n) {
                        if (n && Object.prototype.toString.call(n) === "[object Array]")
                            for (var r = 0, i = n.length; r < i; r++) n[r] in e && (t[n[r]] = e[n[r]])
                    },
                    drawDashedLine: function (e, r, i, s, o, u) {
                        var a = s - r,
                            f = o - i,
                            l = t(a * a + f * f),
                            c = n(f, a),
                            h = u.length,
                            p = 0,
                            d = !0;
                        e.save(), e.translate(r, i), e.moveTo(0, 0), e.rotate(c), r = 0;
                        while (l > r) r += u[p++ % h], r > l && (r = l), e[d ? "lineTo" : "moveTo"](r, 0), d = !
                            d;
                        e.restore()
                    },
                    createCanvasElement: function (e) {
                        return e || (e = fabric.document.createElement("canvas")), !e.getContext &&
                            typeof G_vmlCanvasManager != "undefined" && G_vmlCanvasManager.initElement(e), e
                    },
                    createImage: function () {
                        return fabric.isLikelyNode ? new(require("canvas").Image) : fabric.document
                            .createElement("img")
                    },
                    createAccessors: function (e) {
                        var t = e.prototype;
                        for (var n = t.stateProperties.length; n--;) {
                            var r = t.stateProperties[n],
                                i = r.charAt(0).toUpperCase() + r.slice(1),
                                s = "set" + i,
                                o = "get" + i;
                            t[o] || (t[o] = function (e) {
                                return new Function('return this.get("' + e + '")')
                            }(r)), t[s] || (t[s] = function (e) {
                                return new Function("value", 'return this.set("' + e + '", value)')
                            }(r))
                        }
                    },
                    clipContext: function (e, t) {
                        t.save(), t.beginPath(), e.clipTo(t), t.clip()
                    },
                    multiplyTransformMatrices: function (e, t) {
                        var n = [
                                [e[0], e[2], e[4]],
                                [e[1], e[3], e[5]],
                                [0, 0, 1]
                            ],
                            r = [
                                [t[0], t[2], t[4]],
                                [t[1], t[3], t[5]],
                                [0, 0, 1]
                            ],
                            i = [];
                        for (var s = 0; s < 3; s++) {
                            i[s] = [];
                            for (var o = 0; o < 3; o++) {
                                var u = 0;
                                for (var a = 0; a < 3; a++) u += n[s][a] * r[a][o];
                                i[s][o] = u
                            }
                        }
                        return [i[0][0], i[1][0], i[0][1], i[1][1], i[0][2], i[1][2]]
                    },
                    getFunctionBody: function (e) {
                        return (String(e).match(/function[^{]*\{([\s\S]*)\}/) || {})[1]
                    },
                    normalizePoints: function (e, t) {
                        var n = fabric.util.array.min(e, "x"),
                            r = fabric.util.array.min(e, "y");
                        n = n < 0 ? n : 0, r = n < 0 ? r : 0;
                        for (var i = 0, s = e.length; i < s; i++) e[i].x -= t.width / 2 + n || 0, e[i].y -= t
                            .height / 2 + r || 0
                    },
                    isTransparent: function (e, t, n, r) {
                        r > 0 && (t > r ? t -= r : t = 0, n > r ? n -= r : n = 0);
                        var i = !0,
                            s = e.getImageData(t, n, r * 2 || 1, r * 2 || 1);
                        for (var o = 3, u = s.data.length; o < u; o += 4) {
                            var a = s.data[o];
                            i = a <= 0;
                            if (i === !1) break
                        }
                        return s = null, i
                    }
                }
            }(typeof exports != "undefined" ? exports : this),
            function () {
                function i(t, i, o, u, a, f, l, c, h) {
                    r = n.call(arguments);
                    if (e[r]) return e[r];
                    var p = s(l, o, u, c, h, t, i),
                        d = (p.x1 - p.x0) * (p.x1 - p.x0) + (p.y1 - p.y0) * (p.y1 - p.y0),
                        v = 1 / d - .25;
                    v < 0 && (v = 0);
                    var m = Math.sqrt(v);
                    f === a && (m = -m);
                    var g = .5 * (p.x0 + p.x1) - m * (p.y1 - p.y0),
                        y = .5 * (p.y0 + p.y1) + m * (p.x1 - p.x0),
                        b = Math.atan2(p.y0 - y, p.x0 - g),
                        w = Math.atan2(p.y1 - y, p.x1 - g),
                        E = w - b;
                    E < 0 && f === 1 ? E += 2 * Math.PI : E > 0 && f === 0 && (E -= 2 * Math.PI);
                    var S = Math.ceil(Math.abs(E / (Math.PI * .5 + .001))),
                        x = [];
                    for (var T = 0; T < S; T++) {
                        var N = b + T * E / S,
                            C = b + (T + 1) * E / S;
                        x[T] = [g, y, N, C, o, u, p.sin_th, p.cos_th]
                    }
                    return e[r] = x, x
                }

                function s(e, t, n, r, i, s, o) {
                    var u = e * (Math.PI / 180),
                        a = Math.sin(u),
                        f = Math.cos(u);
                    t = Math.abs(t), n = Math.abs(n);
                    var l = f * (r - s) * .5 + a * (i - o) * .5,
                        c = f * (i - o) * .5 - a * (r - s) * .5,
                        h = l * l / (t * t) + c * c / (n * n);
                    h > 1 && (h = Math.sqrt(h), t *= h, n *= h);
                    var p = f / t,
                        d = a / t,
                        v = -a / n,
                        m = f / n;
                    return {
                        x0: p * r + d * i,
                        y0: v * r + m * i,
                        x1: p * s + d * o,
                        y1: v * s + m * o,
                        sin_th: a,
                        cos_th: f
                    }
                }

                function o(e, i, s, o, u, a, f, l) {
                    r = n.call(arguments);
                    if (t[r]) return t[r];
                    var c = l * u,
                        h = -f * a,
                        p = f * u,
                        d = l * a,
                        v = .5 * (o - s),
                        m = 8 / 3 * Math.sin(v * .5) * Math.sin(v * .5) / Math.sin(v),
                        g = e + Math.cos(s) - m * Math.sin(s),
                        y = i + Math.sin(s) + m * Math.cos(s),
                        b = e + Math.cos(o),
                        w = i + Math.sin(o),
                        E = b + m * Math.sin(o),
                        S = w - m * Math.cos(o);
                    return t[r] = [c * g + h * y, p * g + d * y, c * E + h * S, p * E + d * S, c * b + h * w, p * b +
                        d * w
                    ], t[r]
                }
                var e = {},
                    t = {},
                    n = Array.prototype.join,
                    r;
                fabric.util.drawArc = function (e, t, n, r) {
                    var s = r[0],
                        u = r[1],
                        a = r[2],
                        f = r[3],
                        l = r[4],
                        c = r[5],
                        h = r[6],
                        p = i(c, h, s, u, f, l, a, t, n);
                    for (var d = 0; d < p.length; d++) {
                        var v = o.apply(this, p[d]);
                        e.bezierCurveTo.apply(e, v)
                    }
                }
            }(),
            function () {
                function t(t, n) {
                    var r = e.call(arguments, 2),
                        i = [];
                    for (var s = 0, o = t.length; s < o; s++) i[s] = r.length ? t[s][n].apply(t[s], r) : t[s][n].call(t[
                        s]);
                    return i
                }

                function n(e, t) {
                    return i(e, t, function (e, t) {
                        return e >= t
                    })
                }

                function r(e, t) {
                    return i(e, t, function (e, t) {
                        return e < t
                    })
                }

                function i(e, t, n) {
                    if (!e || e.length === 0) return undefined;
                    var r = e.length - 1,
                        i = t ? e[r][t] : e[r];
                    if (t)
                        while (r--) n(e[r][t], i) && (i = e[r][t]);
                    else
                        while (r--) n(e[r], i) && (i = e[r]);
                    return i
                }
                var e = Array.prototype.slice;
                Array.prototype.indexOf || (Array.prototype.indexOf = function (e) {
                    if (this === void 0 || this === null) throw new TypeError;
                    var t = Object(this),
                        n = t.length >>> 0;
                    if (n === 0) return -1;
                    var r = 0;
                    arguments.length > 0 && (r = Number(arguments[1]), r !== r ? r = 0 : r !== 0 && r !== Number
                        .POSITIVE_INFINITY && r !== Number.NEGATIVE_INFINITY && (r = (r > 0 || -1) * Math
                            .floor(Math.abs(r))));
                    if (r >= n) return -1;
                    var i = r >= 0 ? r : Math.max(n - Math.abs(r), 0);
                    for (; i < n; i++)
                        if (i in t && t[i] === e) return i;
                    return -1
                }), Array.prototype.forEach || (Array.prototype.forEach = function (e, t) {
                    for (var n = 0, r = this.length >>> 0; n < r; n++) n in this && e.call(t, this[n], n, this)
                }), Array.prototype.map || (Array.prototype.map = function (e, t) {
                    var n = [];
                    for (var r = 0, i = this.length >>> 0; r < i; r++) r in this && (n[r] = e.call(t, this[r],
                        r, this));
                    return n
                }), Array.prototype.every || (Array.prototype.every = function (e, t) {
                    for (var n = 0, r = this.length >>> 0; n < r; n++)
                        if (n in this && !e.call(t, this[n], n, this)) return !1;
                    return !0
                }), Array.prototype.some || (Array.prototype.some = function (e, t) {
                    for (var n = 0, r = this.length >>> 0; n < r; n++)
                        if (n in this && e.call(t, this[n], n, this)) return !0;
                    return !1
                }), Array.prototype.filter || (Array.prototype.filter = function (e, t) {
                    var n = [],
                        r;
                    for (var i = 0, s = this.length >>> 0; i < s; i++) i in this && (r = this[i], e.call(t, r,
                        i, this) && n.push(r));
                    return n
                }), Array.prototype.reduce || (Array.prototype.reduce = function (e) {
                    var t = this.length >>> 0,
                        n = 0,
                        r;
                    if (arguments.length > 1) r = arguments[1];
                    else
                        do {
                            if (n in this) {
                                r = this[n++];
                                break
                            }
                            if (++n >= t) throw new TypeError
                        } while (!0);
                    for (; n < t; n++) n in this && (r = e.call(null, r, this[n], n, this));
                    return r
                }), fabric.util.array = {
                    invoke: t,
                    min: r,
                    max: n
                }
            }(),
            function () {
                function e(e, t) {
                    for (var n in t) e[n] = t[n];
                    return e
                }

                function t(t) {
                    return e({}, t)
                }
                fabric.util.object = {
                    extend: e,
                    clone: t
                }
            }(),
            function () {
                function e(e) {
                    return e.replace(/-+(.)?/g, function (e, t) {
                        return t ? t.toUpperCase() : ""
                    })
                }

                function t(e, t) {
                    return e.charAt(0).toUpperCase() + (t ? e.slice(1) : e.slice(1).toLowerCase())
                }

                function n(e) {
                    return e.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&apos;").replace(/</g,
                        "&lt;").replace(/>/g, "&gt;")
                }
                String.prototype.trim || (String.prototype.trim = function () {
                    return this.replace(/^[\s\xA0]+/, "").replace(/[\s\xA0]+$/, "")
                }), fabric.util.string = {
                    camelize: e,
                    capitalize: t,
                    escapeXml: n
                }
            }(),
            function () {
                var e = Array.prototype.slice,
                    t = Function.prototype.apply,
                    n = function () {};
                Function.prototype.bind || (Function.prototype.bind = function (r) {
                    var i = this,
                        s = e.call(arguments, 1),
                        o;
                    return s.length ? o = function () {
                        return t.call(i, this instanceof n ? this : r, s.concat(e.call(arguments)))
                    } : o = function () {
                        return t.call(i, this instanceof n ? this : r, arguments)
                    }, n.prototype = this.prototype, o.prototype = new n, o
                })
            }(),
            function () {
                function i() {}

                function s(t) {
                    var n = this.constructor.superclass.prototype[t];
                    return arguments.length > 1 ? n.apply(this, e.call(arguments, 1)) : n.call(this)
                }

                function o() {
                    function u() {
                        this.initialize.apply(this, arguments)
                    }
                    var n = null,
                        o = e.call(arguments, 0);
                    typeof o[0] == "function" && (n = o.shift()), u.superclass = n, u.subclasses = [], n && (i
                        .prototype = n.prototype, u.prototype = new i, n.subclasses.push(u));
                    for (var a = 0, f = o.length; a < f; a++) r(u, o[a], n);
                    return u.prototype.initialize || (u.prototype.initialize = t), u.prototype.constructor = u, u
                        .prototype.callSuper = s, u
                }
                var e = Array.prototype.slice,
                    t = function () {},
                    n = function () {
                        for (var e in {
                                toString: 1
                            })
                            if (e === "toString") return !1;
                        return !0
                    }(),
                    r = function (e, t, r) {
                        for (var i in t) i in e.prototype && typeof e.prototype[i] == "function" && (t[i] + "").indexOf(
                            "callSuper") > -1 ? e.prototype[i] = function (e) {
                            return function () {
                                var n = this.constructor.superclass;
                                this.constructor.superclass = r;
                                var i = t[e].apply(this, arguments);
                                this.constructor.superclass = n;
                                if (e !== "initialize") return i
                            }
                        }(i) : e.prototype[i] = t[i], n && (t.toString !== Object.prototype.toString && (e.prototype
                            .toString = t.toString), t.valueOf !== Object.prototype.valueOf && (e.prototype
                            .valueOf = t.valueOf))
                    };
                fabric.util.createClass = o
            }(),
            function () {
                function t(e) {
                    var t = Array.prototype.slice.call(arguments, 1),
                        n, r, i = t.length;
                    for (r = 0; r < i; r++) {
                        n = typeof e[t[r]];
                        if (!/^(?:function|object|unknown)$/.test(n)) return !1
                    }
                    return !0
                }

                function s(e, t) {
                    return {
                        handler: t,
                        wrappedHandler: o(e, t)
                    }
                }

                function o(e, t) {
                    return function (n) {
                        t.call(r(e), n || fabric.window.event)
                    }
                }

                function u(e, t) {
                    return function (n) {
                        if (c[e] && c[e][t]) {
                            var r = c[e][t];
                            for (var i = 0, s = r.length; i < s; i++) r[i].call(this, n || fabric.window.event)
                        }
                    }
                }

                function d(t, n) {
                    t || (t = fabric.window.event);
                    var r = t.target || (typeof t.srcElement !== e ? t.srcElement : null),
                        i = fabric.util.getScrollLeftTop(r, n);
                    return {
                        x: v(t) + i.left,
                        y: m(t) + i.top
                    }
                }

                function g(e, t, n) {
                    var r = e.type === "touchend" ? "changedTouches" : "touches";
                    return e[r] && e[r][0] ? e[r][0][t] - (e[r][0][t] - e[r][0][n]) || e[n] : e[n]
                }
                var e = "unknown",
                    n = function () {
                        var e = 0;
                        return function (t) {
                            return t.__uniqueID || (t.__uniqueID = "uniqueID__" + e++)
                        }
                    }(),
                    r, i;
                (function () {
                    var e = {};
                    r = function (t) {
                        return e[t]
                    }, i = function (t, n) {
                        e[t] = n
                    }
                })();
                var a = t(fabric.document.documentElement, "addEventListener", "removeEventListener") && t(fabric
                        .window, "addEventListener", "removeEventListener"),
                    f = t(fabric.document.documentElement, "attachEvent", "detachEvent") && t(fabric.window,
                        "attachEvent", "detachEvent"),
                    l = {},
                    c = {},
                    h, p;
                a ? (h = function (e, t, n) {
                    e.addEventListener(t, n, !1)
                }, p = function (e, t, n) {
                    e.removeEventListener(t, n, !1)
                }) : f ? (h = function (e, t, r) {
                    var o = n(e);
                    i(o, e), l[o] || (l[o] = {}), l[o][t] || (l[o][t] = []);
                    var u = s(o, r);
                    l[o][t].push(u), e.attachEvent("on" + t, u.wrappedHandler)
                }, p = function (e, t, r) {
                    var i = n(e),
                        s;
                    if (l[i] && l[i][t])
                        for (var o = 0, u = l[i][t].length; o < u; o++) s = l[i][t][o], s && s.handler === r &&
                            (e.detachEvent("on" + t, s.wrappedHandler), l[i][t][o] = null)
                }) : (h = function (e, t, r) {
                    var i = n(e);
                    c[i] || (c[i] = {});
                    if (!c[i][t]) {
                        c[i][t] = [];
                        var s = e["on" + t];
                        s && c[i][t].push(s), e["on" + t] = u(i, t)
                    }
                    c[i][t].push(r)
                }, p = function (e, t, r) {
                    var i = n(e);
                    if (c[i] && c[i][t]) {
                        var s = c[i][t];
                        for (var o = 0, u = s.length; o < u; o++) s[o] === r && s.splice(o, 1)
                    }
                }), fabric.util.addListener = h, fabric.util.removeListener = p;
                var v = function (t) {
                        return typeof t.clientX !== e ? t.clientX : 0
                    },
                    m = function (t) {
                        return typeof t.clientY !== e ? t.clientY : 0
                    };
                fabric.isTouchSupported && (v = function (e) {
                    return g(e, "pageX", "clientX")
                }, m = function (e) {
                    return g(e, "pageY", "clientY")
                }), fabric.util.getPointer = d, fabric.util.object.extend(fabric.util, fabric.Observable)
            }(),
            function () {
                function e(e, t) {
                    var n = e.style;
                    if (!n) return e;
                    if (typeof t == "string") return e.style.cssText += ";" + t, t.indexOf("opacity") > -1 ? s(e, t
                        .match(/opacity:\s*(\d?\.?\d*)/)[1]) : e;
                    for (var r in t)
                        if (r === "opacity") s(e, t[r]);
                        else {
                            var i = r === "float" || r === "cssFloat" ? typeof n.styleFloat == "undefined" ?
                                "cssFloat" : "styleFloat" : r;
                            n[i] = t[r]
                        } return e
                }
                var t = fabric.document.createElement("div"),
                    n = typeof t.style.opacity == "string",
                    r = typeof t.style.filter == "string",
                    i = /alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,
                    s = function (e) {
                        return e
                    };
                n ? s = function (e, t) {
                    return e.style.opacity = t, e
                } : r && (s = function (e, t) {
                    var n = e.style;
                    return e.currentStyle && !e.currentStyle.hasLayout && (n.zoom = 1), i.test(n.filter) ? (t =
                        t >= .9999 ? "" : "alpha(opacity=" + t * 100 + ")", n.filter = n.filter.replace(i,
                            t)) : n.filter += " alpha(opacity=" + t * 100 + ")", e
                }), fabric.util.setStyle = e
            }(),
            function () {
                function t(e) {
                    return typeof e == "string" ? fabric.document.getElementById(e) : e
                }

                function s(e, t) {
                    var n = fabric.document.createElement(e);
                    for (var r in t) r === "class" ? n.className = t[r] : r === "for" ? n.htmlFor = t[r] : n
                        .setAttribute(r, t[r]);
                    return n
                }

                function o(e, t) {
                    (" " + e.className + " ").indexOf(" " + t + " ") === -1 && (e.className += (e.className ? " " :
                        "") + t)
                }

                function u(e, t, n) {
                    return typeof t == "string" && (t = s(t, n)), e.parentNode && e.parentNode.replaceChild(t, e), t
                        .appendChild(e), t
                }

                function a(e, t) {
                    var n, r, i = 0,
                        s = 0,
                        o = fabric.document.documentElement,
                        u = fabric.document.body || {
                            scrollLeft: 0,
                            scrollTop: 0
                        };
                    r = e;
                    while (e && e.parentNode && !n) e = e.parentNode, e !== fabric.document && fabric.util
                        .getElementStyle(e, "position") === "fixed" && (n = e), e !== fabric.document && r !== t &&
                        fabric.util.getElementStyle(e, "position") === "absolute" ? (i = 0, s = 0) : e === fabric
                        .document ? (i = u.scrollLeft || o.scrollLeft || 0, s = u.scrollTop || o.scrollTop || 0) : (i +=
                            e.scrollLeft || 0, s += e.scrollTop || 0);
                    return {
                        left: i,
                        top: s
                    }
                }

                function f(e) {
                    var t, n = {
                            left: 0,
                            top: 0
                        },
                        r = e && e.ownerDocument,
                        i = {
                            left: 0,
                            top: 0
                        },
                        s, o = {
                            borderLeftWidth: "left",
                            borderTopWidth: "top",
                            paddingLeft: "left",
                            paddingTop: "top"
                        };
                    if (!r) return {
                        left: 0,
                        top: 0
                    };
                    for (var u in o) i[o[u]] += parseInt(l(e, u), 10) || 0;
                    return t = r.documentElement, typeof e.getBoundingClientRect != "undefined" && (n = e
                        .getBoundingClientRect()), s = fabric.util.getScrollLeftTop(e, null), {
                        left: n.left + s.left - (t.clientLeft || 0) + i.left,
                        top: n.top + s.top - (t.clientTop || 0) + i.top
                    }
                }

                function l(e, t) {
                    e.style || (e.style = {});
                    if (fabric.document.defaultView && fabric.document.defaultView.getComputedStyle) return fabric
                        .document.defaultView.getComputedStyle(e, null)[t];
                    var n = e.style[t];
                    return !n && e.currentStyle && (n = e.currentStyle[t]), n
                }
                var e = Array.prototype.slice,
                    n = function (t) {
                        return e.call(t, 0)
                    },
                    r;
                try {
                    r = n(fabric.document.childNodes) instanceof Array
                } catch (i) {}
                r || (n = function (e) {
                        var t = new Array(e.length),
                            n = e.length;
                        while (n--) t[n] = e[n];
                        return t
                    }),
                    function () {
                        function n(e) {
                            return typeof e.onselectstart != "undefined" && (e.onselectstart = fabric.util
                                .falseFunction), t ? e.style[t] = "none" : typeof e.unselectable == "string" && (e
                                .unselectable = "on"), e
                        }

                        function r(e) {
                            return typeof e.onselectstart != "undefined" && (e.onselectstart = null), t ? e.style[t] =
                                "" : typeof e.unselectable == "string" && (e.unselectable = ""), e
                        }
                        var e = fabric.document.documentElement.style,
                            t = "userSelect" in e ? "userSelect" : "MozUserSelect" in e ? "MozUserSelect" :
                            "WebkitUserSelect" in e ? "WebkitUserSelect" : "KhtmlUserSelect" in e ? "KhtmlUserSelect" :
                            "";
                        fabric.util.makeElementUnselectable = n, fabric.util.makeElementSelectable = r
                    }(),
                    function () {
                        function e(e, t) {
                            var n = fabric.document.getElementsByTagName("head")[0],
                                r = fabric.document.createElement("script"),
                                i = !0;
                            r.onload = r.onreadystatechange = function (e) {
                                if (i) {
                                    if (typeof this.readyState == "string" && this.readyState !== "loaded" && this
                                        .readyState !== "complete") return;
                                    i = !1, t(e || fabric.window.event), r = r.onload = r.onreadystatechange = null
                                }
                            }, r.src = e, n.appendChild(r)
                        }
                        fabric.util.getScript = e
                    }(), fabric.util.getById = t, fabric.util.toArray = n, fabric.util.makeElement = s, fabric.util
                    .addClass = o, fabric.util.wrapElement = u, fabric.util.getScrollLeftTop = a, fabric.util
                    .getElementOffset = f, fabric.util.getElementStyle = l
            }(),
            function () {
                function e(e, t) {
                    return e + (/\?/.test(e) ? "&" : "?") + t
                }

                function n() {}

                function r(r, i) {
                    i || (i = {});
                    var s = i.method ? i.method.toUpperCase() : "GET",
                        o = i.onComplete || function () {},
                        u = t(),
                        a;
                    return u.onreadystatechange = function () {
                            u.readyState === 4 && (o(u), u.onreadystatechange = n)
                        }, s === "GET" && (a = null, typeof i.parameters == "string" && (r = e(r, i.parameters))), u
                        .open(s, r, !0), (s === "POST" || s === "PUT") && u.setRequestHeader("Content-Type",
                            "application/x-www-form-urlencoded"), u.send(a), u
                }
                var t = function () {
                    var e = [function () {
                        return new ActiveXObject("Microsoft.XMLHTTP")
                    }, function () {
                        return new ActiveXObject("Msxml2.XMLHTTP")
                    }, function () {
                        return new ActiveXObject("Msxml2.XMLHTTP.3.0")
                    }, function () {
                        return new XMLHttpRequest
                    }];
                    for (var t = e.length; t--;) try {
                        var n = e[t]();
                        if (n) return e[t]
                    } catch (r) {}
                }();
                fabric.util.request = r
            }(), fabric.log = function () {}, fabric.warn = function () {}, typeof console != "undefined" && ["log",
                "warn"
            ].forEach(function (e) {
                typeof console[e] != "undefined" && console[e].apply && (fabric[e] = function () {
                    return console[e].apply(console, arguments)
                })
            }),
            function () {
                function e(e) {
                    n(function (t) {
                        e || (e = {});
                        var r = t || +(new Date),
                            i = e.duration || 500,
                            s = r + i,
                            o, u = e.onChange || function () {},
                            a = e.abort || function () {
                                return !1
                            },
                            f = e.easing || function (e, t, n, r) {
                                return -n * Math.cos(e / r * (Math.PI / 2)) + n + t
                            },
                            l = "startValue" in e ? e.startValue : 0,
                            c = "endValue" in e ? e.endValue : 100,
                            h = e.byValue || c - l;
                        e.onStart && e.onStart(),
                            function p(t) {
                                o = t || +(new Date);
                                var c = o > s ? i : o - r;
                                if (a()) {
                                    e.onComplete && e.onComplete();
                                    return
                                }
                                u(f(c, l, h, i));
                                if (o > s) {
                                    e.onComplete && e.onComplete();
                                    return
                                }
                                n(p)
                            }(r)
                    })
                }
                var t = fabric.window.requestAnimationFrame || fabric.window.webkitRequestAnimationFrame || fabric
                    .window.mozRequestAnimationFrame || fabric.window.oRequestAnimationFrame || fabric.window
                    .msRequestAnimationFrame || function (e) {
                        fabric.window.setTimeout(e, 1e3 / 60)
                    },
                    n = function () {
                        return t.apply(fabric.window, arguments)
                    };
                fabric.util.animate = e, fabric.util.requestAnimFrame = n
            }(),
            function () {
                function e(e, t, n, r) {
                    return e < Math.abs(t) ? (e = t, r = n / 4) : r = n / (2 * Math.PI) * Math.asin(t / e), {
                        a: e,
                        c: t,
                        p: n,
                        s: r
                    }
                }

                function t(e, t, n) {
                    return e.a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * n - e.s) * 2 * Math.PI / e.p)
                }

                function n(e, t, n, r) {
                    return n * ((e = e / r - 1) * e * e + 1) + t
                }

                function r(e, t, n, r) {
                    return e /= r / 2, e < 1 ? n / 2 * e * e * e + t : n / 2 * ((e -= 2) * e * e + 2) + t
                }

                function i(e, t, n, r) {
                    return n * (e /= r) * e * e * e + t
                }

                function s(e, t, n, r) {
                    return -n * ((e = e / r - 1) * e * e * e - 1) + t
                }

                function o(e, t, n, r) {
                    return e /= r / 2, e < 1 ? n / 2 * e * e * e * e + t : -n / 2 * ((e -= 2) * e * e * e - 2) + t
                }

                function u(e, t, n, r) {
                    return n * (e /= r) * e * e * e * e + t
                }

                function a(e, t, n, r) {
                    return n * ((e = e / r - 1) * e * e * e * e + 1) + t
                }

                function f(e, t, n, r) {
                    return e /= r / 2, e < 1 ? n / 2 * e * e * e * e * e + t : n / 2 * ((e -= 2) * e * e * e * e + 2) +
                        t
                }

                function l(e, t, n, r) {
                    return -n * Math.cos(e / r * (Math.PI / 2)) + n + t
                }

                function c(e, t, n, r) {
                    return n * Math.sin(e / r * (Math.PI / 2)) + t
                }

                function h(e, t, n, r) {
                    return -n / 2 * (Math.cos(Math.PI * e / r) - 1) + t
                }

                function p(e, t, n, r) {
                    return e === 0 ? t : n * Math.pow(2, 10 * (e / r - 1)) + t
                }

                function d(e, t, n, r) {
                    return e === r ? t + n : n * (-Math.pow(2, -10 * e / r) + 1) + t
                }

                function v(e, t, n, r) {
                    return e === 0 ? t : e === r ? t + n : (e /= r / 2, e < 1 ? n / 2 * Math.pow(2, 10 * (e - 1)) + t :
                        n / 2 * (-Math.pow(2, -10 * --e) + 2) + t)
                }

                function m(e, t, n, r) {
                    return -n * (Math.sqrt(1 - (e /= r) * e) - 1) + t
                }

                function g(e, t, n, r) {
                    return n * Math.sqrt(1 - (e = e / r - 1) * e) + t
                }

                function y(e, t, n, r) {
                    return e /= r / 2, e < 1 ? -n / 2 * (Math.sqrt(1 - e * e) - 1) + t : n / 2 * (Math.sqrt(1 - (e -=
                        2) * e) + 1) + t
                }

                function b(n, r, i, s) {
                    var o = 1.70158,
                        u = 0,
                        a = i;
                    if (n === 0) return r;
                    n /= s;
                    if (n === 1) return r + i;
                    u || (u = s * .3);
                    var f = e(a, i, u, o);
                    return -t(f, n, s) + r
                }

                function w(t, n, r, i) {
                    var s = 1.70158,
                        o = 0,
                        u = r;
                    if (t === 0) return n;
                    t /= i;
                    if (t === 1) return n + r;
                    o || (o = i * .3);
                    var a = e(u, r, o, s);
                    return a.a * Math.pow(2, -10 * t) * Math.sin((t * i - a.s) * 2 * Math.PI / a.p) + a.c + n
                }

                function E(n, r, i, s) {
                    var o = 1.70158,
                        u = 0,
                        a = i;
                    if (n === 0) return r;
                    n /= s / 2;
                    if (n === 2) return r + i;
                    u || (u = s * .3 * 1.5);
                    var f = e(a, i, u, o);
                    return n < 1 ? -0.5 * t(f, n, s) + r : f.a * Math.pow(2, -10 * (n -= 1)) * Math.sin((n * s - f.s) *
                        2 * Math.PI / f.p) * .5 + f.c + r
                }

                function S(e, t, n, r, i) {
                    return i === undefined && (i = 1.70158), n * (e /= r) * e * ((i + 1) * e - i) + t
                }

                function x(e, t, n, r, i) {
                    return i === undefined && (i = 1.70158), n * ((e = e / r - 1) * e * ((i + 1) * e + i) + 1) + t
                }

                function T(e, t, n, r, i) {
                    return i === undefined && (i = 1.70158), e /= r / 2, e < 1 ? n / 2 * e * e * (((i *= 1.525) + 1) *
                        e - i) + t : n / 2 * ((e -= 2) * e * (((i *= 1.525) + 1) * e + i) + 2) + t
                }

                function N(e, t, n, r) {
                    return n - C(r - e, 0, n, r) + t
                }

                function C(e, t, n, r) {
                    return (e /= r) < 1 / 2.75 ? n * 7.5625 * e * e + t : e < 2 / 2.75 ? n * (7.5625 * (e -= 1.5 /
                            2.75) * e + .75) + t : e < 2.5 / 2.75 ? n * (7.5625 * (e -= 2.25 / 2.75) * e + .9375) + t :
                        n * (7.5625 * (e -= 2.625 / 2.75) * e + .984375) + t
                }

                function k(e, t, n, r) {
                    return e < r / 2 ? N(e * 2, 0, n, r) * .5 + t : C(e * 2 - r, 0, n, r) * .5 + n * .5 + t
                }
                fabric.util.ease = {
                    easeInQuad: function (e, t, n, r) {
                        return n * (e /= r) * e + t
                    },
                    easeOutQuad: function (e, t, n, r) {
                        return -n * (e /= r) * (e - 2) + t
                    },
                    easeInOutQuad: function (e, t, n, r) {
                        return e /= r / 2, e < 1 ? n / 2 * e * e + t : -n / 2 * (--e * (e - 2) - 1) + t
                    },
                    easeInCubic: function (e, t, n, r) {
                        return n * (e /= r) * e * e + t
                    },
                    easeOutCubic: n,
                    easeInOutCubic: r,
                    easeInQuart: i,
                    easeOutQuart: s,
                    easeInOutQuart: o,
                    easeInQuint: u,
                    easeOutQuint: a,
                    easeInOutQuint: f,
                    easeInSine: l,
                    easeOutSine: c,
                    easeInOutSine: h,
                    easeInExpo: p,
                    easeOutExpo: d,
                    easeInOutExpo: v,
                    easeInCirc: m,
                    easeOutCirc: g,
                    easeInOutCirc: y,
                    easeInElastic: b,
                    easeOutElastic: w,
                    easeInOutElastic: E,
                    easeInBack: S,
                    easeOutBack: x,
                    easeInOutBack: T,
                    easeInBounce: N,
                    easeOutBounce: C,
                    easeInOutBounce: k
                }
            }(),
            function (e) {
                "use strict";

                function f(e) {
                    return e in u ? u[e] : e
                }

                function l(e, n, r) {
                    var i;
                    e !== "fill" && e !== "stroke" || n !== "none" ? e === "fillRule" ? n = n === "evenodd" ?
                        "destination-over" : n : e === "strokeDashArray" ? n = n.replace(/,/g, " ").split(/\s+/) : e ===
                        "transformMatrix" && (r && r.transformMatrix ? n = o(r.transformMatrix, t
                            .parseTransformAttribute(n)) : n = t.parseTransformAttribute(n)) : n = "", i = Object
                        .prototype.toString.call(n) === "[object Array]";
                    var s = i ? n.map(parseFloat) : parseFloat(n);
                    return !i && isNaN(s) ? n : s
                }

                function c(e) {
                    for (var n in a) {
                        if (!e[n] || typeof e[a[n]] == "undefined") continue;
                        if (e[n].indexOf("url(") === 0) continue;
                        var r = new t.Color(e[n]);
                        e[n] = r.setAlpha(s(r.getAlpha() * e[a[n]], 2)).toRgba(), delete e[a[n]]
                    }
                    return e
                }

                function h(e, t) {
                    var n = e.match(
                        /(normal|italic)?\s*(normal|small-caps)?\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\s*(\d+)px(?:\/(normal|[\d\.]+))?\s+(.*)/
                    );
                    if (!n) return;
                    var r = n[1],
                        i = n[3],
                        s = n[4],
                        o = n[5],
                        u = n[6];
                    r && (t.fontStyle = r), i && (t.fontSize = isNaN(parseFloat(i)) ? i : parseFloat(i)), s && (t
                        .fontSize = parseFloat(s)), u && (t.fontFamily = u), o && (t.lineHeight = o === "normal" ?
                        1 : o)
                }

                function p(e, t) {
                    var n, r;
                    e.replace(/;$/, "").split(";").forEach(function (e) {
                        var i = e.split(":");
                        n = f(i[0].trim().toLowerCase()), r = l(n, i[1].trim()), n === "font" ? h(r, t) : t[n] =
                            r
                    })
                }

                function d(e, t) {
                    var n, r;
                    for (var i in e) {
                        if (typeof e[i] == "undefined") continue;
                        n = f(i.toLowerCase()), r = l(n, e[i]), n === "font" ? h(r, t) : t[n] = r
                    }
                }

                function v(e) {
                    var n = e.nodeName,
                        r = e.getAttribute("class"),
                        i = e.getAttribute("id"),
                        s = {};
                    for (var o in t.cssRules) {
                        var u = r && (new RegExp("^\\." + r)).test(o) || i && (new RegExp("^#" + i)).test(o) || (
                            new RegExp("^" + n)).test(o);
                        if (u)
                            for (var a in t.cssRules[o]) s[a] = t.cssRules[o][a]
                    }
                    return s
                }

                function g(e) {
                    var n = e.objects,
                        i = e.options;
                    return n = n.map(function (e) {
                        return t[r(e.type)].fromObject(e)
                    }), {
                        objects: n,
                        options: i
                    }
                }

                function y(e, t, n) {
                    t[n] && t[n].toSVG && e.push('<pattern x="0" y="0" id="', n, 'Pattern" ', 'width="', t[n].source
                        .width, '" height="', t[n].source.height, '" patternUnits="userSpaceOnUse">',
                        '<image x="0" y="0" ', 'width="', t[n].source.width, '" height="', t[n].source.height,
                        '" xlink:href="', t[n].source.src, '"></image></pattern>')
                }
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend,
                    r = t.util.string.capitalize,
                    i = t.util.object.clone,
                    s = t.util.toFixed,
                    o = t.util.multiplyTransformMatrices,
                    u = {
                        "fill-opacity": "fillOpacity",
                        "fill-rule": "fillRule",
                        "font-family": "fontFamily",
                        "font-size": "fontSize",
                        "font-style": "fontStyle",
                        "font-weight": "fontWeight",
                        cx: "left",
                        x: "left",
                        r: "radius",
                        "stroke-dasharray": "strokeDashArray",
                        "stroke-linecap": "strokeLineCap",
                        "stroke-linejoin": "strokeLineJoin",
                        "stroke-miterlimit": "strokeMiterLimit",
                        "stroke-opacity": "strokeOpacity",
                        "stroke-width": "strokeWidth",
                        "text-decoration": "textDecoration",
                        cy: "top",
                        y: "top",
                        transform: "transformMatrix"
                    },
                    a = {
                        stroke: "strokeOpacity",
                        fill: "fillOpacity"
                    };
                t.parseTransformAttribute = function () {
                    function e(e, t) {
                        var n = t[0];
                        e[0] = Math.cos(n), e[1] = Math.sin(n), e[2] = -Math.sin(n), e[3] = Math.cos(n)
                    }

                    function n(e, t) {
                        var n = t[0],
                            r = t.length === 2 ? t[1] : t[0];
                        e[0] = n, e[3] = r
                    }

                    function r(e, t) {
                        e[2] = t[0]
                    }

                    function i(e, t) {
                        e[1] = t[0]
                    }

                    function s(e, t) {
                        e[4] = t[0], t.length === 2 && (e[5] = t[1])
                    }
                    var o = [1, 0, 0, 1, 0, 0],
                        u = "(?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)",
                        a = "(?:\\s+,?\\s*|,\\s*)",
                        f = "(?:(skewX)\\s*\\(\\s*(" + u + ")\\s*\\))",
                        l = "(?:(skewY)\\s*\\(\\s*(" + u + ")\\s*\\))",
                        c = "(?:(rotate)\\s*\\(\\s*(" + u + ")(?:" + a + "(" + u + ")" + a + "(" + u +
                        "))?\\s*\\))",
                        h = "(?:(scale)\\s*\\(\\s*(" + u + ")(?:" + a + "(" + u + "))?\\s*\\))",
                        p = "(?:(translate)\\s*\\(\\s*(" + u + ")(?:" + a + "(" + u + "))?\\s*\\))",
                        d = "(?:(matrix)\\s*\\(\\s*(" + u + ")" + a + "(" + u + ")" + a + "(" + u + ")" + a + "(" +
                        u + ")" + a + "(" + u + ")" + a + "(" + u + ")" + "\\s*\\))",
                        v = "(?:" + d + "|" + p + "|" + h + "|" + c + "|" + f + "|" + l + ")",
                        m = "(?:" + v + "(?:" + a + v + ")*" + ")",
                        g = "^\\s*(?:" + m + "?)\\s*$",
                        y = new RegExp(g),
                        b = new RegExp(v, "g");
                    return function (u) {
                        var a = o.concat(),
                            f = [];
                        if (!u || u && !y.test(u)) return a;
                        u.replace(b, function (t) {
                            var u = (new RegExp(v)).exec(t).filter(function (e) {
                                    return e !== "" && e != null
                                }),
                                l = u[1],
                                c = u.slice(2).map(parseFloat);
                            switch (l) {
                                case "translate":
                                    s(a, c);
                                    break;
                                case "rotate":
                                    e(a, c);
                                    break;
                                case "scale":
                                    n(a, c);
                                    break;
                                case "skewX":
                                    r(a, c);
                                    break;
                                case "skewY":
                                    i(a, c);
                                    break;
                                case "matrix":
                                    a = c
                            }
                            f.push(a.concat()), a = o.concat()
                        });
                        var l = f[0];
                        while (f.length > 1) f.shift(), l = t.util.multiplyTransformMatrices(l, f[0]);
                        return l
                    }
                }(), t.parseSVGDocument = function () {
                    function s(e, t) {
                        while (e && (e = e.parentNode))
                            if (t.test(e.nodeName)) return !0;
                        return !1
                    }
                    var e = /^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/,
                        n = "(?:[-+]?\\d+(?:\\.\\d+)?(?:e[-+]?\\d+)?)",
                        r = new RegExp("^\\s*(" + n + "+)\\s*,?" + "\\s*(" + n + "+)\\s*,?" + "\\s*(" + n +
                            "+)\\s*,?" + "\\s*(" + n + "+)\\s*" + "$");
                    return function (n, o, u) {
                        if (!n) return;
                        var a = new Date,
                            f = t.util.toArray(n.getElementsByTagName("*"));
                        if (f.length === 0) {
                            f = n.selectNodes("//*[name(.)!='svg']");
                            var l = [];
                            for (var c = 0, h = f.length; c < h; c++) l[c] = f[c];
                            f = l
                        }
                        var p = f.filter(function (t) {
                            return e.test(t.tagName) && !s(t, /^(?:pattern|defs)$/)
                        });
                        if (!p || p && !p.length) return;
                        var d = n.getAttribute("viewBox"),
                            v = n.getAttribute("width"),
                            m = n.getAttribute("height"),
                            g = null,
                            y = null,
                            b, w;
                        d && (d = d.match(r)) && (b = parseInt(d[1], 10), w = parseInt(d[2], 10), g = parseInt(
                                d[3], 10), y = parseInt(d[4], 10)), g = v ? parseFloat(v) : g, y = m ?
                            parseFloat(m) : y;
                        var E = {
                            width: g,
                            height: y
                        };
                        t.gradientDefs = t.getGradientDefs(n), t.cssRules = t.getCSSRules(n), t.parseElements(p,
                            function (e) {
                                t.documentParsingTime = new Date - a, o && o(e, E)
                            }, i(E), u)
                    }
                }();
                var m = {
                    has: function (e, t) {
                        t(!1)
                    },
                    get: function () {},
                    set: function () {}
                };
                n(t, {
                    resolveGradients: function (e) {
                        for (var n = e.length; n--;) {
                            var r = e[n].get("fill");
                            if (!/^url\(/.test(r)) continue;
                            var i = r.slice(5, r.length - 1);
                            t.gradientDefs[i] && e[n].set("fill", t.Gradient.fromElement(t.gradientDefs[i],
                                e[n]))
                        }
                    },
                    getGradientDefs: function (e) {
                        var t = e.getElementsByTagName("linearGradient"),
                            n = e.getElementsByTagName("radialGradient"),
                            r, i, s = {};
                        i = t.length;
                        for (; i--;) r = t[i], s[r.getAttribute("id")] = r;
                        i = n.length;
                        for (; i--;) r = n[i], s[r.getAttribute("id")] = r;
                        return s
                    },
                    parseAttributes: function (e, r) {
                        if (!e) return;
                        var i, s = {};
                        e.parentNode && /^g$/i.test(e.parentNode.nodeName) && (s = t.parseAttributes(e
                            .parentNode, r));
                        var o = r.reduce(function (t, n) {
                            return i = e.getAttribute(n), i && (n = f(n), i = l(n, i, s), t[n] = i),
                                t
                        }, {});
                        return o = n(o, n(v(e), t.parseStyleAttribute(e))), c(n(s, o))
                    },
                    parseElements: function (e, n, r, i) {
                        t.ElementsParser.parse(e, n, r, i)
                    },
                    parseStyleAttribute: function (e) {
                        var t = {},
                            n = e.getAttribute("style");
                        return n ? (typeof n == "string" ? p(n, t) : d(n, t), t) : t
                    },
                    parsePointsAttribute: function (e) {
                        if (!e) return null;
                        e = e.trim();
                        var t = e.indexOf(",") > -1;
                        e = e.split(/\s+/);
                        var n = [],
                            r, i;
                        if (t) {
                            r = 0, i = e.length;
                            for (; r < i; r++) {
                                var s = e[r].split(",");
                                n.push({
                                    x: parseFloat(s[0]),
                                    y: parseFloat(s[1])
                                })
                            }
                        } else {
                            r = 0, i = e.length;
                            for (; r < i; r += 2) n.push({
                                x: parseFloat(e[r]),
                                y: parseFloat(e[r + 1])
                            })
                        }
                        return n.length % 2 !== 0, n
                    },
                    getCSSRules: function (e) {
                        var t = e.getElementsByTagName("style"),
                            n = {},
                            r;
                        for (var i = 0, s = t.length; i < s; i++) {
                            var o = t[0].textContent;
                            o = o.replace(/\/\*[\s\S]*?\*\//g, ""), r = o.match(/[^{]*\{[\s\S]*?\}/g), r = r
                                .map(function (e) {
                                    return e.trim()
                                }), r.forEach(function (e) {
                                    var t = e.match(/([\s\S]*?)\s*\{([^}]*)\}/);
                                    e = t[1];
                                    var r = t[2].trim(),
                                        i = r.replace(/;$/, "").split(/\s*;\s*/);
                                    n[e] || (n[e] = {});
                                    for (var s = 0, o = i.length; s < o; s++) {
                                        var u = i[s].split(/\s*:\s*/),
                                            a = u[0],
                                            f = u[1];
                                        n[e][a] = f
                                    }
                                })
                        }
                        return n
                    },
                    loadSVGFromURL: function (e, n, r) {
                        function i(i) {
                            var s = i.responseXML;
                            !s.documentElement && t.window.ActiveXObject && i.responseText && (s =
                                new ActiveXObject("Microsoft.XMLDOM"), s.async = "false", s.loadXML(i
                                    .responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i, "")));
                            if (!s.documentElement) return;
                            t.parseSVGDocument(s.documentElement, function (r, i) {
                                m.set(e, {
                                    objects: t.util.array.invoke(r, "toObject"),
                                    options: i
                                }), n(r, i)
                            }, r)
                        }
                        e = e.replace(/^\n\s*/, "").trim(), m.has(e, function (r) {
                            r ? m.get(e, function (e) {
                                var t = g(e);
                                n(t.objects, t.options)
                            }) : new t.util.request(e, {
                                method: "get",
                                onComplete: i
                            })
                        })
                    },
                    loadSVGFromString: function (e, n, r) {
                        e = e.trim();
                        var i;
                        if (typeof DOMParser != "undefined") {
                            var s = new DOMParser;
                            s && s.parseFromString && (i = s.parseFromString(e, "text/xml"))
                        } else t.window.ActiveXObject && (i = new ActiveXObject("Microsoft.XMLDOM"), i
                            .async = "false", i.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,
                                "")));
                        t.parseSVGDocument(i.documentElement, function (e, t) {
                            n(e, t)
                        }, r)
                    },
                    createSVGFontFacesMarkup: function (e) {
                        var t = "";
                        for (var n = 0, r = e.length; n < r; n++) {
                            if (e[n].type !== "text" || !e[n].path) continue;
                            t += ["@font-face {", "font-family: ", e[n].fontFamily, "; ", "src: url('", e[n]
                                .path, "')", "}"
                            ].join("")
                        }
                        return t && (t = ['<style type="text/css">', "<![CDATA[", t, "]]>", "</style>"]
                            .join("")), t
                    },
                    createSVGRefElementsMarkup: function (e) {
                        var t = [];
                        return y(t, e, "backgroundColor"), y(t, e, "overlayColor"), t.join("")
                    }
                })
            }(typeof exports != "undefined" ? exports : this), fabric.ElementsParser = {
                parse: function (e, t, n, r) {
                    this.elements = e, this.callback = t, this.options = n, this.reviver = r, this.instances =
                        new Array(e.length), this.numElements = e.length, this.createObjects()
                },
                createObjects: function () {
                    for (var e = 0, t = this.elements.length; e < t; e++) this.createObject(this.elements[e], e)
                },
                createObject: function (e, t) {
                    var n = fabric[fabric.util.string.capitalize(e.tagName)];
                    if (n && n.fromElement) try {
                        this._createObject(n, e, t)
                    } catch (r) {
                        fabric.log(r)
                    } else this.checkIfDone()
                },
                _createObject: function (e, t, n) {
                    if (e.async) e.fromElement(t, this.createCallback(n, t), this.options);
                    else {
                        var r = e.fromElement(t, this.options);
                        this.reviver && this.reviver(t, r), this.instances.splice(n, 0, r), this.checkIfDone()
                    }
                },
                createCallback: function (e, t) {
                    var n = this;
                    return function (r) {
                        n.reviver && n.reviver(t, r), n.instances.splice(e, 0, r), n.checkIfDone()
                    }
                },
                checkIfDone: function () {
                    --this.numElements === 0 && (this.instances = this.instances.filter(function (e) {
                        return e != null
                    }), fabric.resolveGradients(this.instances), this.callback(this.instances))
                }
            },
            function (e) {
                "use strict";

                function n(e, t) {
                    this.x = e, this.y = t
                }
                var t = e.fabric || (e.fabric = {});
                if (t.Point) {
                    t.warn("fabric.Point is already defined");
                    return
                }
                t.Point = n,
                    n.prototype = {
                        constructor: n,
                        add: function (e) {
                            return new n(this.x + e.x, this.y + e.y)
                        },
                        addEquals: function (e) {
                            return this.x += e.x, this.y += e.y, this
                        },
                        scalarAdd: function (e) {
                            return new n(this.x + e, this.y + e)
                        },
                        scalarAddEquals: function (e) {
                            return this.x += e, this.y += e, this
                        },
                        subtract: function (e) {
                            return new n(this.x - e.x, this.y - e.y)
                        },
                        subtractEquals: function (e) {
                            return this.x -= e.x, this.y -= e.y, this
                        },
                        scalarSubtract: function (e) {
                            return new n(this.x - e, this.y - e)
                        },
                        scalarSubtractEquals: function (e) {
                            return this.x -= e, this.y -= e, this
                        },
                        multiply: function (e) {
                            return new n(this.x * e, this.y * e)
                        },
                        multiplyEquals: function (e) {
                            return this.x *= e, this.y *= e, this
                        },
                        divide: function (e) {
                            return new n(this.x / e, this.y / e)
                        },
                        divideEquals: function (e) {
                            return this.x /= e, this.y /= e, this
                        },
                        eq: function (e) {
                            return this.x === e.x && this.y === e.y
                        },
                        lt: function (e) {
                            return this.x < e.x && this.y < e.y
                        },
                        lte: function (e) {
                            return this.x <= e.x && this.y <= e.y
                        },
                        gt: function (e) {
                            return this.x > e.x && this.y > e.y
                        },
                        gte: function (e) {
                            return this.x >= e.x && this.y >= e.y
                        },
                        lerp: function (e, t) {
                            return new n(this.x + (e.x - this.x) * t, this.y + (e.y - this.y) * t)
                        },
                        distanceFrom: function (e) {
                            var t = this.x - e.x,
                                n = this.y - e.y;
                            return Math.sqrt(t * t + n * n)
                        },
                        midPointFrom: function (e) {
                            return new n(this.x + (e.x - this.x) / 2, this.y + (e.y - this.y) / 2)
                        },
                        min: function (e) {
                            return new n(Math.min(this.x, e.x), Math.min(this.y, e.y))
                        },
                        max: function (e) {
                            return new n(Math.max(this.x, e.x), Math.max(this.y, e.y))
                        },
                        toString: function () {
                            return this.x + "," + this.y
                        },
                        setXY: function (e, t) {
                            this.x = e, this.y = t
                        },
                        setFromPoint: function (e) {
                            this.x = e.x, this.y = e.y
                        },
                        swap: function (e) {
                            var t = this.x,
                                n = this.y;
                            this.x = e.x, this.y = e.y, e.x = t, e.y = n
                        }
                    }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";

                function n(e) {
                    this.status = e, this.points = []
                }
                var t = e.fabric || (e.fabric = {});
                if (t.Intersection) {
                    t.warn("fabric.Intersection is already defined");
                    return
                }
                t.Intersection = n, t.Intersection.prototype = {
                    appendPoint: function (e) {
                        this.points.push(e)
                    },
                    appendPoints: function (e) {
                        this.points = this.points.concat(e)
                    }
                }, t.Intersection.intersectLineLine = function (e, r, i, s) {
                    var o, u = (s.x - i.x) * (e.y - i.y) - (s.y - i.y) * (e.x - i.x),
                        a = (r.x - e.x) * (e.y - i.y) - (r.y - e.y) * (e.x - i.x),
                        f = (s.y - i.y) * (r.x - e.x) - (s.x - i.x) * (r.y - e.y);
                    if (f !== 0) {
                        var l = u / f,
                            c = a / f;
                        0 <= l && l <= 1 && 0 <= c && c <= 1 ? (o = new n("Intersection"), o.points.push(new t
                            .Point(e.x + l * (r.x - e.x), e.y + l * (r.y - e.y)))) : o = new n
                    } else u === 0 || a === 0 ? o = new n("Coincident") : o = new n("Parallel");
                    return o
                }, t.Intersection.intersectLinePolygon = function (e, t, r) {
                    var i = new n,
                        s = r.length;
                    for (var o = 0; o < s; o++) {
                        var u = r[o],
                            a = r[(o + 1) % s],
                            f = n.intersectLineLine(e, t, u, a);
                        i.appendPoints(f.points)
                    }
                    return i.points.length > 0 && (i.status = "Intersection"), i
                }, t.Intersection.intersectPolygonPolygon = function (e, t) {
                    var r = new n,
                        i = e.length;
                    for (var s = 0; s < i; s++) {
                        var o = e[s],
                            u = e[(s + 1) % i],
                            a = n.intersectLinePolygon(o, u, t);
                        r.appendPoints(a.points)
                    }
                    return r.points.length > 0 && (r.status = "Intersection"), r
                }, t.Intersection.intersectPolygonRectangle = function (e, r, i) {
                    var s = r.min(i),
                        o = r.max(i),
                        u = new t.Point(o.x, s.y),
                        a = new t.Point(s.x, o.y),
                        f = n.intersectLinePolygon(s, u, e),
                        l = n.intersectLinePolygon(u, o, e),
                        c = n.intersectLinePolygon(o, a, e),
                        h = n.intersectLinePolygon(a, s, e),
                        p = new n;
                    return p.appendPoints(f.points), p.appendPoints(l.points), p.appendPoints(c.points), p
                        .appendPoints(h.points), p.points.length > 0 && (p.status = "Intersection"), p
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";

                function n(e) {
                    e ? this._tryParsingColor(e) : this.setSource([0, 0, 0, 1])
                }

                function r(e, t, n) {
                    return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e + (t - e) * 6 * n : n < .5 ? t : n < 2 /
                        3 ? e + (t - e) * (2 / 3 - n) * 6 : e
                }
                var t = e.fabric || (e.fabric = {});
                if (t.Color) {
                    t.warn("fabric.Color is already defined.");
                    return
                }
                t.Color = n, t.Color.prototype = {
                        _tryParsingColor: function (e) {
                            var t;
                            e in n.colorNameMap && (e = n.colorNameMap[e]), t = n.sourceFromHex(e), t || (t = n
                                .sourceFromRgb(e)), t || (t = n.sourceFromHsl(e)), t && this.setSource(t)
                        },
                        _rgbToHsl: function (e, n, r) {
                            e /= 255, n /= 255, r /= 255;
                            var i, s, o, u = t.util.array.max([e, n, r]),
                                a = t.util.array.min([e, n, r]);
                            o = (u + a) / 2;
                            if (u === a) i = s = 0;
                            else {
                                var f = u - a;
                                s = o > .5 ? f / (2 - u - a) : f / (u + a);
                                switch (u) {
                                    case e:
                                        i = (n - r) / f + (n < r ? 6 : 0);
                                        break;
                                    case n:
                                        i = (r - e) / f + 2;
                                        break;
                                    case r:
                                        i = (e - n) / f + 4
                                }
                                i /= 6
                            }
                            return [Math.round(i * 360), Math.round(s * 100), Math.round(o * 100)]
                        },
                        getSource: function () {
                            return this._source
                        },
                        setSource: function (e) {
                            this._source = e
                        },
                        toRgb: function () {
                            var e = this.getSource();
                            return "rgb(" + e[0] + "," + e[1] + "," + e[2] + ")"
                        },
                        toRgba: function () {
                            var e = this.getSource();
                            return "rgba(" + e[0] + "," + e[1] + "," + e[2] + "," + e[3] + ")"
                        },
                        toHsl: function () {
                            var e = this.getSource(),
                                t = this._rgbToHsl(e[0], e[1], e[2]);
                            return "hsl(" + t[0] + "," + t[1] + "%," + t[2] + "%)"
                        },
                        toHsla: function () {
                            var e = this.getSource(),
                                t = this._rgbToHsl(e[0], e[1], e[2]);
                            return "hsla(" + t[0] + "," + t[1] + "%," + t[2] + "%," + e[3] + ")"
                        },
                        toHex: function () {
                            var e = this.getSource(),
                                t = e[0].toString(16);
                            t = t.length === 1 ? "0" + t : t;
                            var n = e[1].toString(16);
                            n = n.length === 1 ? "0" + n : n;
                            var r = e[2].toString(16);
                            return r = r.length === 1 ? "0" + r : r, t.toUpperCase() + n.toUpperCase() + r
                                .toUpperCase()
                        },
                        getAlpha: function () {
                            return this.getSource()[3]
                        },
                        setAlpha: function (e) {
                            var t = this.getSource();
                            return t[3] = e, this.setSource(t), this
                        },
                        toGrayscale: function () {
                            var e = this.getSource(),
                                t = parseInt((e[0] * .3 + e[1] * .59 + e[2] * .11).toFixed(0), 10),
                                n = e[3];
                            return this.setSource([t, t, t, n]), this
                        },
                        toBlackWhite: function (e) {
                            var t = this.getSource(),
                                n = (t[0] * .3 + t[1] * .59 + t[2] * .11).toFixed(0),
                                r = t[3];
                            return e = e || 127, n = Number(n) < Number(e) ? 0 : 255, this.setSource([n, n, n, r]),
                                this
                        },
                        overlayWith: function (e) {
                            e instanceof n || (e = new n(e));
                            var t = [],
                                r = this.getAlpha(),
                                i = .5,
                                s = this.getSource(),
                                o = e.getSource();
                            for (var u = 0; u < 3; u++) t.push(Math.round(s[u] * (1 - i) + o[u] * i));
                            return t[3] = r, this.setSource(t), this
                        }
                    }, t.Color.reRGBa =
                    /^rgba?\(\s*(\d{1,3}\%?)\s*,\s*(\d{1,3}\%?)\s*,\s*(\d{1,3}\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,
                    t.Color.reHSLa =
                    /^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/, t
                    .Color.reHex = /^#?([0-9a-f]{6}|[0-9a-f]{3})$/i, t.Color.colorNameMap = {
                        aqua: "#00FFFF",
                        black: "#000000",
                        blue: "#0000FF",
                        fuchsia: "#FF00FF",
                        gray: "#808080",
                        green: "#008000",
                        lime: "#00FF00",
                        maroon: "#800000",
                        navy: "#000080",
                        olive: "#808000",
                        orange: "#FFA500",
                        purple: "#800080",
                        red: "#FF0000",
                        silver: "#C0C0C0",
                        teal: "#008080",
                        white: "#FFFFFF",
                        yellow: "#FFFF00"
                    }, t.Color.fromRgb = function (e) {
                        return n.fromSource(n.sourceFromRgb(e))
                    }, t.Color.sourceFromRgb = function (e) {
                        var t = e.match(n.reRGBa);
                        if (t) {
                            var r = parseInt(t[1], 10) / (/%$/.test(t[1]) ? 100 : 1) * (/%$/.test(t[1]) ? 255 : 1),
                                i = parseInt(t[2], 10) / (/%$/.test(t[2]) ? 100 : 1) * (/%$/.test(t[2]) ? 255 : 1),
                                s = parseInt(t[3], 10) / (/%$/.test(t[3]) ? 100 : 1) * (/%$/.test(t[3]) ? 255 : 1);
                            return [parseInt(r, 10), parseInt(i, 10), parseInt(s, 10), t[4] ? parseFloat(t[4]) : 1]
                        }
                    }, t.Color.fromRgba = n.fromRgb, t.Color.fromHsl = function (e) {
                        return n.fromSource(n.sourceFromHsl(e))
                    }, t.Color.sourceFromHsl = function (e) {
                        var t = e.match(n.reHSLa);
                        if (!t) return;
                        var i = (parseFloat(t[1]) % 360 + 360) % 360 / 360,
                            s = parseFloat(t[2]) / (/%$/.test(t[2]) ? 100 : 1),
                            o = parseFloat(t[3]) / (/%$/.test(t[3]) ? 100 : 1),
                            u, a, f;
                        if (s === 0) u = a = f = o;
                        else {
                            var l = o <= .5 ? o * (s + 1) : o + s - o * s,
                                c = o * 2 - l;
                            u = r(c, l, i + 1 / 3), a = r(c, l, i), f = r(c, l, i - 1 / 3)
                        }
                        return [Math.round(u * 255), Math.round(a * 255), Math.round(f * 255), t[4] ? parseFloat(t[4]) :
                            1
                        ]
                    }, t.Color.fromHsla = n.fromHsl, t.Color.fromHex = function (e) {
                        return n.fromSource(n.sourceFromHex(e))
                    }, t.Color.sourceFromHex = function (e) {
                        if (e.match(n.reHex)) {
                            var t = e.slice(e.indexOf("#") + 1),
                                r = t.length === 3,
                                i = r ? t.charAt(0) + t.charAt(0) : t.substring(0, 2),
                                s = r ? t.charAt(1) + t.charAt(1) : t.substring(2, 4),
                                o = r ? t.charAt(2) + t.charAt(2) : t.substring(4, 6);
                            return [parseInt(i, 16), parseInt(s, 16), parseInt(o, 16), 1]
                        }
                    }, t.Color.fromSource = function (e) {
                        var t = new n;
                        return t.setSource(e), t
                    }
            }(typeof exports != "undefined" ? exports : this),
            function () {
                function e(e) {
                    var t = e.getAttribute("style"),
                        n = e.getAttribute("offset"),
                        r, i;
                    n = parseFloat(n) / (/%$/.test(n) ? 100 : 1);
                    if (t) {
                        var s = t.split(/\s*;\s*/);
                        s[s.length - 1] === "" && s.pop();
                        for (var o = s.length; o--;) {
                            var u = s[o].split(/\s*:\s*/),
                                a = u[0].trim(),
                                f = u[1].trim();
                            a === "stop-color" ? r = f : a === "stop-opacity" && (i = f)
                        }
                    }
                    return r || (r = e.getAttribute("stop-color") || "rgb(0,0,0)"), i || (i = e.getAttribute(
                        "stop-opacity")), r = (new fabric.Color(r)).toRgb(), {
                        offset: n,
                        color: r,
                        opacity: isNaN(parseFloat(i)) ? 1 : parseFloat(i)
                    }
                }

                function t(e) {
                    return {
                        x1: e.getAttribute("x1") || 0,
                        y1: e.getAttribute("y1") || 0,
                        x2: e.getAttribute("x2") || "100%",
                        y2: e.getAttribute("y2") || 0
                    }
                }

                function n(e) {
                    return {
                        x1: e.getAttribute("fx") || e.getAttribute("cx") || "50%",
                        y1: e.getAttribute("fy") || e.getAttribute("cy") || "50%",
                        r1: 0,
                        x2: e.getAttribute("cx") || "50%",
                        y2: e.getAttribute("cy") || "50%",
                        r2: e.getAttribute("r") || "50%"
                    }
                }

                function r(e, t) {
                    for (var n in t) {
                        if (typeof t[n] == "string" && /^\d+%$/.test(t[n])) {
                            var r = parseFloat(t[n], 10);
                            if (n === "x1" || n === "x2" || n === "r2") t[n] = fabric.util.toFixed(e.width * r / 100,
                                2);
                            else if (n === "y1" || n === "y2") t[n] = fabric.util.toFixed(e.height * r / 100, 2)
                        }
                        i(t, n, e)
                    }
                }

                function i(e, t, n) {
                    if (t === "x1" || t === "x2") e[t] -= fabric.util.toFixed(n.width / 2, 2);
                    else if (t === "y1" || t === "y2") e[t] -= fabric.util.toFixed(n.height / 2, 2)
                }

                function s(e, t) {
                    for (var n in t) {
                        i(t, n, e);
                        if (n === "x1" || n === "x2" || n === "r2") t[n] = fabric.util.toFixed(t[n] / e.width * 100,
                            2) + "%";
                        else if (n === "y1" || n === "y2") t[n] = fabric.util.toFixed(t[n] / e.height * 100, 2) + "%"
                    }
                }
                fabric.Gradient = fabric.util.createClass({
                    initialize: function (e) {
                        e || (e = {});
                        var t = {};
                        this.id = fabric.Object.__uid++, this.type = e.type || "linear", t = {
                                x1: e.coords.x1 || 0,
                                y1: e.coords.y1 || 0,
                                x2: e.coords.x2 || 0,
                                y2: e.coords.y2 || 0
                            }, this.type === "radial" && (t.r1 = e.coords.r1 || 0, t.r2 = e.coords.r2 || 0),
                            this.coords = t, this.gradientUnits = e.gradientUnits || "objectBoundingBox",
                            this.colorStops = e.colorStops.slice()
                    },
                    addColorStop: function (e) {
                        for (var t in e) {
                            var n = new fabric.Color(e[t]);
                            this.colorStops.push({
                                offset: t,
                                color: n.toRgb(),
                                opacity: n.getAlpha()
                            })
                        }
                        return this
                    },
                    toObject: function () {
                        return {
                            type: this.type,
                            coords: this.coords,
                            gradientUnits: this.gradientUnits,
                            colorStops: this.colorStops
                        }
                    },
                    toSVG: function (e, t) {
                        var n = fabric.util.object.clone(this.coords),
                            r;
                        this.colorStops.sort(function (e, t) {
                                return e.offset - t.offset
                            }), t && this.gradientUnits === "userSpaceOnUse" ? (n.x1 += e.width / 2, n.y1 +=
                                e.height / 2, n.x2 += e.width / 2, n.y2 += e.height / 2) : this
                            .gradientUnits === "objectBoundingBox" && s(e, n), this.type === "linear" ?
                            r = ["<linearGradient ", 'id="SVGID_', this.id, '" gradientUnits="', this
                                .gradientUnits, '" x1="', n.x1, '" y1="', n.y1, '" x2="', n.x2, '" y2="', n
                                .y2, '">'
                            ] : this.type === "radial" && (r = ["<radialGradient ", 'id="SVGID_', this.id,
                                '" gradientUnits="', this.gradientUnits, '" cx="', n.x2, '" cy="', n.y2,
                                '" r="', n.r2, '" fx="', n.x1, '" fy="', n.y1, '">'
                            ]);
                        for (var i = 0; i < this.colorStops.length; i++) r.push("<stop ", 'offset="', this
                            .colorStops[i].offset * 100 + "%", '" style="stop-color:', this.colorStops[
                                i].color, this.colorStops[i].opacity ? ";stop-opacity: " + this
                            .colorStops[i].opacity : ";", '"/>');
                        return r.push(this.type === "linear" ? "</linearGradient>" : "</radialGradient>"), r
                            .join("")
                    },
                    toLive: function (e) {
                        var t;
                        if (!this.type) return;
                        this.type === "linear" ? t = e.createLinearGradient(this.coords.x1, this.coords.y1,
                            this.coords.x2, this.coords.y2) : this.type === "radial" && (t = e
                            .createRadialGradient(this.coords.x1, this.coords.y1, this.coords.r1, this
                                .coords.x2, this.coords.y2, this.coords.r2));
                        for (var n = 0, r = this.colorStops.length; n < r; n++) {
                            var i = this.colorStops[n].color,
                                s = this.colorStops[n].opacity,
                                o = this.colorStops[n].offset;
                            typeof s != "undefined" && (i = (new fabric.Color(i)).setAlpha(s).toRgba()), t
                                .addColorStop(parseFloat(o), i)
                        }
                        return t
                    }
                }), fabric.util.object.extend(fabric.Gradient, {
                    fromElement: function (i, s) {
                        var o = i.getElementsByTagName("stop"),
                            u = i.nodeName === "linearGradient" ? "linear" : "radial",
                            a = i.getAttribute("gradientUnits") || "objectBoundingBox",
                            f = [],
                            l = {};
                        u === "linear" ? l = t(i) : u === "radial" && (l = n(i));
                        for (var c = o.length; c--;) f.push(e(o[c]));
                        return r(s, l), new fabric.Gradient({
                            type: u,
                            coords: l,
                            gradientUnits: a,
                            colorStops: f
                        })
                    },
                    forObject: function (e, t) {
                        return t || (t = {}), r(e, t), new fabric.Gradient(t)
                    }
                })
            }(), fabric.Pattern = fabric.util.createClass({
                repeat: "repeat",
                offsetX: 0,
                offsetY: 0,
                initialize: function (e) {
                    e || (e = {}), this.id = fabric.Object.__uid++;
                    if (e.source)
                        if (typeof e.source == "string")
                            if (typeof fabric.util.getFunctionBody(e.source) != "undefined") this.source =
                                new Function(fabric.util.getFunctionBody(e.source));
                            else {
                                var t = this;
                                this.source = fabric.util.createImage(), fabric.util.loadImage(e.source,
                                    function (e) {
                                        t.source = e
                                    })
                            }
                    else this.source = e.source;
                    e.repeat && (this.repeat = e.repeat), e.offsetX && (this.offsetX = e.offsetX), e.offsetY &&
                        (this.offsetY = e.offsetY)
                },
                toObject: function () {
                    var e;
                    return typeof this.source == "function" ? e = String(this.source) : typeof this.source
                        .src == "string" && (e = this.source.src), {
                            source: e,
                            repeat: this.repeat,
                            offsetX: this.offsetX,
                            offsetY: this.offsetY
                        }
                },
                toSVG: function (e) {
                    var t = typeof this.source == "function" ? this.source() : this.source,
                        n = t.width / e.getWidth(),
                        r = t.height / e.getHeight(),
                        i = "";
                    return t.src ? i = t.src : t.toDataURL && (i = t.toDataURL()), '<pattern id="SVGID_' + this
                        .id + '" x="' + this.offsetX + '" y="' + this.offsetY + '" width="' + n + '" height="' +
                        r + '">' + '<image x="0" y="0"' + ' width="' + t.width + '" height="' + t.height +
                        '" xlink:href="' + i + '"></image>' + "</pattern>"
                },
                toLive: function (e) {
                    var t = typeof this.source == "function" ? this.source() : this.source;
                    if (typeof t.src != "undefined") {
                        if (!t.complete) return "";
                        if (t.naturalWidth === 0 || t.naturalHeight === 0) return ""
                    }
                    return e.createPattern(t, this.repeat)
                }
            }),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {});
                if (t.Shadow) {
                    t.warn("fabric.Shadow is already defined.");
                    return
                }
                t.Shadow = t.util.createClass({
                        color: "rgb(0,0,0)",
                        blur: 0,
                        offsetX: 0,
                        offsetY: 0,
                        affectStroke: !1,
                        includeDefaultValues: !0,
                        initialize: function (e) {
                            typeof e == "string" && (e = this._parseShadow(e));
                            for (var n in e) this[n] = e[n];
                            this.id = t.Object.__uid++
                        },
                        _parseShadow: function (e) {
                            var n = e.trim(),
                                r = t.Shadow.reOffsetsAndBlur.exec(n) || [],
                                i = n.replace(t.Shadow.reOffsetsAndBlur, "") || "rgb(0,0,0)";
                            return {
                                color: i.trim(),
                                offsetX: parseInt(r[1], 10) || 0,
                                offsetY: parseInt(r[2], 10) || 0,
                                blur: parseInt(r[3], 10) || 0
                            }
                        },
                        toString: function () {
                            return [this.offsetX, this.offsetY, this.blur, this.color].join("px ")
                        },
                        toSVG: function (e) {
                            var t = "SourceAlpha";
                            return e && (e.fill === this.color || e.stroke === this.color) && (t =
                                    "SourceGraphic"), '<filter id="SVGID_' + this.id +
                                '" y="-40%" height="180%">' + '<feGaussianBlur in="' + t + '" stdDeviation="' +
                                (this.blur ? this.blur / 3 : 0) + '"></feGaussianBlur>' + '<feOffset dx="' +
                                this.offsetX + '" dy="' + this.offsetY + '"></feOffset>' + "<feMerge>" +
                                "<feMergeNode></feMergeNode>" +
                                '<feMergeNode in="SourceGraphic"></feMergeNode>' + "</feMerge>" + "</filter>"
                        },
                        toObject: function () {
                            if (this.includeDefaultValues) return {
                                color: this.color,
                                blur: this.blur,
                                offsetX: this.offsetX,
                                offsetY: this.offsetY
                            };
                            var e = {},
                                n = t.Shadow.prototype;
                            return this.color !== n.color && (e.color = this.color), this.blur !== n.blur && (e
                                .blur = this.blur), this.offsetX !== n.offsetX && (e.offsetX = this
                                .offsetX), this.offsetY !== n.offsetY && (e.offsetY = this.offsetY), e
                        }
                    }), t.Shadow.reOffsetsAndBlur =
                    /(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/
            }(typeof exports != "undefined" ? exports : this),
            function () {
                "use strict";
                if (fabric.StaticCanvas) {
                    fabric.warn("fabric.StaticCanvas is already defined.");
                    return
                }
                var e = fabric.util.object.extend,
                    t = fabric.util.getElementOffset,
                    n = fabric.util.removeFromArray,
                    r = new Error("Could not initialize `canvas` element");
                fabric.StaticCanvas = fabric.util.createClass({
                    initialize: function (e, t) {
                        t || (t = {}), this._initStatic(e, t), fabric.StaticCanvas.activeInstance = this
                    },
                    backgroundColor: "",
                    backgroundImage: null,
                    overlayColor: "",
                    overlayImage: null,
                    includeDefaultValues: !0,
                    stateful: !0,
                    renderOnAddRemove: !0,
                    clipTo: null,
                    controlsAboveOverlay: !1,
                    allowTouchScrolling: !1,
                    onBeforeScaleRotate: function () {},
                    _initStatic: function (e, t) {
                        this._objects = [], this._createLowerCanvas(e), this._initOptions(t), t
                            .overlayImage && this.setOverlayImage(t.overlayImage, this.renderAll.bind(
                                this)), t.backgroundImage && this.setBackgroundImage(t.backgroundImage, this
                                .renderAll.bind(this)), t.backgroundColor && this.setBackgroundColor(t
                                .backgroundColor, this.renderAll.bind(this)), t.overlayColor && this
                            .setOverlayColor(t.overlayColor, this.renderAll.bind(this)), this.calcOffset()
                    },
                    calcOffset: function () {
                        return this._offset = t(this.lowerCanvasEl), this
                    },
                    setOverlayImage: function (e, t, n) {
                        return this.__setBgOverlayImage("overlayImage", e, t, n)
                    },
                    setBackgroundImage: function (e, t, n) {
                        return this.__setBgOverlayImage("backgroundImage", e, t, n)
                    },
                    setOverlayColor: function (e, t) {
                        return this.__setBgOverlayColor("overlayColor", e, t)
                    },
                    setBackgroundColor: function (e, t) {
                        return this.__setBgOverlayColor("backgroundColor", e, t)
                    },
                    __setBgOverlayImage: function (e, t, n, r) {
                        return typeof t == "string" ? fabric.util.loadImage(t, function (t) {
                            this[e] = new fabric.Image(t, r), n && n()
                        }, this) : (this[e] = t, n && n()), this
                    },
                    __setBgOverlayColor: function (e, t, n) {
                        if (t.source) {
                            var r = this;
                            fabric.util.loadImage(t.source, function (i) {
                                r[e] = new fabric.Pattern({
                                    source: i,
                                    repeat: t.repeat,
                                    offsetX: t.offsetX,
                                    offsetY: t.offsetY
                                }), n && n()
                            })
                        } else this[e] = t, n && n();
                        return this
                    },
                    _createCanvasElement: function () {
                        var e = fabric.document.createElement("canvas");
                        e.style || (e.style = {});
                        if (!e) throw r;
                        return this._initCanvasElement(e), e
                    },
                    _initCanvasElement: function (e) {
                        fabric.util.createCanvasElement(e);
                        if (typeof e.getContext == "undefined") throw r
                    },
                    _initOptions: function (e) {
                        for (var t in e) this[t] = e[t];
                        this.width = parseInt(this.lowerCanvasEl.width, 10) || 0, this.height = parseInt(
                            this.lowerCanvasEl.height, 10) || 0;
                        if (!this.lowerCanvasEl.style) return;
                        this.lowerCanvasEl.style.width = this.width + "px", this.lowerCanvasEl.style
                            .height = this.height + "px"
                    },
                    _createLowerCanvas: function (e) {
                        this.lowerCanvasEl = fabric.util.getById(e) || this._createCanvasElement(), this
                            ._initCanvasElement(this.lowerCanvasEl), fabric.util.addClass(this
                                .lowerCanvasEl, "lower-canvas"), this.interactive && this._applyCanvasStyle(
                                this.lowerCanvasEl), this.contextContainer = this.lowerCanvasEl.getContext(
                                "2d")
                    },
                    getWidth: function () {
                        return this.width
                    },
                    getHeight: function () {
                        return this.height
                    },
                    setWidth: function (e) {
                        return this._setDimension("width", e)
                    },
                    setHeight: function (e) {
                        return this._setDimension("height", e)
                    },
                    setDimensions: function (e) {
                        for (var t in e) this._setDimension(t, e[t]);
                        return this
                    },
                    _setDimension: function (e, t) {
                        return this.lowerCanvasEl[e] = t, this.lowerCanvasEl.style[e] = t + "px", this
                            .upperCanvasEl && (this.upperCanvasEl[e] = t, this.upperCanvasEl.style[e] = t +
                                "px"), this.cacheCanvasEl && (this.cacheCanvasEl[e] = t), this.wrapperEl &&
                            (this.wrapperEl.style[e] = t + "px"), this[e] = t, this.calcOffset(), this
                            .renderAll(), this
                    },
                    getElement: function () {
                        return this.lowerCanvasEl
                    },
                    getActiveObject: function () {
                        return null
                    },
                    getActiveGroup: function () {
                        return null
                    },
                    _draw: function (e, t) {
                        if (!t) return;
                        if (this.controlsAboveOverlay) {
                            var n = t.hasBorders,
                                r = t.hasControls;
                            t.hasBorders = t.hasControls = !1, t.render(e), t.hasBorders = n, t
                                .hasControls = r
                        } else t.render(e)
                    },
                    _onObjectAdded: function (e) {
                        this.stateful && e.setupState(), e.setCoords(), e.canvas = this, this.fire(
                            "object:added", {
                                target: e
                            }), e.fire("added")
                    },
                    _onObjectRemoved: function (e) {
                        this.getActiveObject() === e && (this.fire("before:selection:cleared", {
                            target: e
                        }), this._discardActiveObject(), this.fire("selection:cleared")), this.fire(
                            "object:removed", {
                                target: e
                            }), e.fire("removed")
                    },
                    clearContext: function (e) {
                        return e.clearRect(0, 0, this.width, this.height), this
                    },
                    getContext: function () {
                        return this.contextContainer
                    },
                    clear: function () {
                        return this._objects.length = 0, this.discardActiveGroup && this
                            .discardActiveGroup(), this.discardActiveObject && this.discardActiveObject(),
                            this.clearContext(this.contextContainer), this.contextTop && this.clearContext(
                                this.contextTop), this.fire("canvas:cleared"), this.renderAll(), this
                    },
                    renderAll: function (e) {
                        var t = this[e === !0 && this.interactive ? "contextTop" : "contextContainer"],
                            n = this.getActiveGroup();
                        return this.contextTop && this.selection && !this._groupSelector && this
                            .clearContext(this.contextTop), e || this.clearContext(t), this.fire(
                                "before:render"), this.clipTo && fabric.util.clipContext(this, t), this
                            ._renderBackground(t), this._renderObjects(t, n), this._renderActiveGroup(t, n),
                            this.clipTo && t.restore(), this._renderOverlay(t), this.controlsAboveOverlay &&
                            this.interactive && this.drawControls(t), this.fire("after:render"), this
                    },
                    _renderObjects: function (e, t) {
                        for (var n = 0, r = this._objects.length; n < r; ++n)(!t || t && this._objects[n] &&
                            !t.contains(this._objects[n])) && this._draw(e, this._objects[n])
                    },
                    _renderActiveGroup: function (e, t) {
                        if (t) {
                            var n = [];
                            this.forEachObject(function (e) {
                                t.contains(e) && n.push(e)
                            }), t._set("objects", n), this._draw(e, t)
                        }
                    },
                    _renderBackground: function (e) {
                        this.backgroundColor && (e.fillStyle = this.backgroundColor.toLive ? this
                                .backgroundColor.toLive(e) : this.backgroundColor, e.fillRect(this
                                    .backgroundColor.offsetX || 0, this.backgroundColor.offsetY || 0, this
                                    .width, this.height)), this.backgroundImage && this.backgroundImage
                            .render(e)
                    },
                    _renderOverlay: function (e) {
                        this.overlayColor && (e.fillStyle = this.overlayColor.toLive ? this.overlayColor
                                .toLive(e) : this.overlayColor, e.fillRect(this.overlayColor.offsetX || 0,
                                    this.overlayColor.offsetY || 0, this.width, this.height)), this
                            .overlayImage && this.overlayImage.render(e)
                    },
                    renderTop: function () {
                        var e = this.contextTop || this.contextContainer;
                        this.clearContext(e), this.selection && this._groupSelector && this
                            ._drawSelection();
                        var t = this.getActiveGroup();
                        return t && t.render(e), this.overlayImage && e.drawImage(this.overlayImage, this
                            .overlayImageLeft, this.overlayImageTop), this.fire("after:render"), this
                    },
                    getCenter: function () {
                        return {
                            top: this.getHeight() / 2,
                            left: this.getWidth() / 2
                        }
                    },
                    centerObjectH: function (e) {
                        return this._centerObject(e, new fabric.Point(this.getCenter().left, e
                            .getCenterPoint().y)), this.renderAll(), this
                    },
                    centerObjectV: function (e) {
                        return this._centerObject(e, new fabric.Point(e.getCenterPoint().x, this.getCenter()
                            .top)), this.renderAll(), this
                    },
                    centerObject: function (e) {
                        var t = this.getCenter();
                        return this._centerObject(e, new fabric.Point(t.left, t.top)), this.renderAll(),
                            this
                    },
                    _centerObject: function (e, t) {
                        return e.setPositionByOrigin(t, "center", "center"), this
                    },
                    toDatalessJSON: function (e) {
                        return this.toDatalessObject(e)
                    },
                    toObject: function (e) {
                        return this._toObjectMethod("toObject", e)
                    },
                    toDatalessObject: function (e) {
                        return this._toObjectMethod("toDatalessObject", e)
                    },
                    _toObjectMethod: function (t, n) {
                        var r = this.getActiveGroup();
                        r && this.discardActiveGroup();
                        var i = {
                            objects: this._toObjects(t, n)
                        };
                        return e(i, this.__serializeBgOverlay()), fabric.util.populateWithProperties(this,
                            i, n), r && (this.setActiveGroup(new fabric.Group(r.getObjects())), r
                            .forEachObject(function (e) {
                                e.set("active", !0)
                            })), i
                    },
                    _toObjects: function (e, t) {
                        return this.getObjects().map(function (n) {
                            return this._toObject(n, e, t)
                        }, this)
                    },
                    _toObject: function (e, t, n) {
                        var r;
                        this.includeDefaultValues || (r = e.includeDefaultValues, e.includeDefaultValues = !
                            1);
                        var i = e[t](n);
                        return this.includeDefaultValues || (e.includeDefaultValues = r), i
                    },
                    __serializeBgOverlay: function () {
                        var e = {
                            background: this.backgroundColor && this.backgroundColor.toObject ? this
                                .backgroundColor.toObject() : this.backgroundColor
                        };
                        return this.overlayColor && (e.overlay = this.overlayColor.toObject ? this
                            .overlayColor.toObject() : this.overlayColor), this.backgroundImage && (e
                            .backgroundImage = this.backgroundImage.toObject()), this.overlayImage && (e
                            .overlayImage = this.overlayImage.toObject()), e
                    },
                    toSVG: function (e, t) {
                        e || (e = {});
                        var n = [];
                        return this._setSVGPreamble(n, e), this._setSVGHeader(n, e), this
                            ._setSVGBgOverlayColor(n, "backgroundColor"), this._setSVGBgOverlayImage(n,
                                "backgroundImage"), this._setSVGObjects(n, t), this._setSVGBgOverlayColor(n,
                                "overlayColor"), this._setSVGBgOverlayImage(n, "overlayImage"), n.push(
                                "</svg>"), n.join("")
                    },
                    _setSVGPreamble: function (e, t) {
                        t.suppressPreamble || e.push('<?xml version="1.0" encoding="', t.encoding ||
                            "UTF-8", '" standalone="no" ?>',
                            '<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',
                            '"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')
                    },
                    _setSVGHeader: function (e, t) {
                        e.push("<svg ", 'xmlns="http://www.w3.org/2000/svg" ',
                            'xmlns:xlink="http://www.w3.org/1999/xlink" ', 'version="1.1" ', 'width="',
                            t.viewBox ? t.viewBox.width : this.width, '" ', 'height="', t.viewBox ? t
                            .viewBox.height : this.height, '" ', this.backgroundColor && !this
                            .backgroundColor.toLive ? 'style="background-color: ' + this
                            .backgroundColor + '" ' : null, t.viewBox ? 'viewBox="' + t.viewBox.x +
                            " " + t.viewBox.y + " " + t.viewBox.width + " " + t.viewBox.height + '" ' :
                            null, 'xml:space="preserve">', "<desc>Created with Fabric.js ", fabric
                            .version, "</desc>", "<defs>", fabric.createSVGFontFacesMarkup(this
                                .getObjects()), fabric.createSVGRefElementsMarkup(this), "</defs>")
                    },
                    _setSVGObjects: function (e, t) {
                        var n = this.getActiveGroup();
                        n && this.discardActiveGroup();
                        for (var r = 0, i = this.getObjects(), s = i.length; r < s; r++) e.push(i[r].toSVG(
                            t));
                        n && (this.setActiveGroup(new fabric.Group(n.getObjects())), n.forEachObject(
                            function (e) {
                                e.set("active", !0)
                            }))
                    },
                    _setSVGBgOverlayImage: function (e, t) {
                        this[t] && this[t].toSVG && e.push(this[t].toSVG())
                    },
                    _setSVGBgOverlayColor: function (e, t) {
                        this[t] && this[t].source ? e.push('<rect x="', this[t].offsetX, '" y="', this[t]
                            .offsetY, '" ', 'width="', this[t].repeat === "repeat-y" || this[t]
                            .repeat === "no-repeat" ? this[t].source.width : this.width, '" height="',
                            this[t].repeat === "repeat-x" || this[t].repeat === "no-repeat" ? this[t]
                            .source.height : this.height, '" fill="url(#' + t + 'Pattern)"', "></rect>"
                        ) : this[t] && t === "overlayColor" && e.push('<rect x="0" y="0" ',
                            'width="', this.width, '" height="', this.height, '" fill="', this[t], '"',
                            "></rect>")
                    },
                    sendToBack: function (e) {
                        return n(this._objects, e), this._objects.unshift(e), this.renderAll && this
                            .renderAll()
                    },
                    bringToFront: function (e) {
                        return n(this._objects, e), this._objects.push(e), this.renderAll && this
                            .renderAll()
                    },
                    sendBackwards: function (e, t) {
                        var r = this._objects.indexOf(e);
                        if (r !== 0) {
                            var i = this._findNewLowerIndex(e, r, t);
                            n(this._objects, e), this._objects.splice(i, 0, e), this.renderAll && this
                                .renderAll()
                        }
                        return this
                    },
                    _findNewLowerIndex: function (e, t, n) {
                        var r;
                        if (n) {
                            r = t;
                            for (var i = t - 1; i >= 0; --i) {
                                var s = e.intersectsWithObject(this._objects[i]) || e
                                    .isContainedWithinObject(this._objects[i]) || this._objects[i]
                                    .isContainedWithinObject(e);
                                if (s) {
                                    r = i;
                                    break
                                }
                            }
                        } else r = t - 1;
                        return r
                    },
                    bringForward: function (e, t) {
                        var r = this._objects.indexOf(e);
                        if (r !== this._objects.length - 1) {
                            var i = this._findNewUpperIndex(e, r, t);
                            n(this._objects, e), this._objects.splice(i, 0, e), this.renderAll && this
                                .renderAll()
                        }
                        return this
                    },
                    _findNewUpperIndex: function (e, t, n) {
                        var r;
                        if (n) {
                            r = t;
                            for (var i = t + 1; i < this._objects.length; ++i) {
                                var s = e.intersectsWithObject(this._objects[i]) || e
                                    .isContainedWithinObject(this._objects[i]) || this._objects[i]
                                    .isContainedWithinObject(e);
                                if (s) {
                                    r = i;
                                    break
                                }
                            }
                        } else r = t + 1;
                        return r
                    },
                    moveTo: function (e, t) {
                        return n(this._objects, e), this._objects.splice(t, 0, e), this.renderAll && this
                            .renderAll()
                    },
                    dispose: function () {
                        return this.clear(), this.interactive && this.removeListeners(), this
                    },
                    toString: function () {
                        return "#<fabric.Canvas (" + this.complexity() + "): " + "{ objects: " + this
                            .getObjects().length + " }>"
                    }
                }), e(fabric.StaticCanvas.prototype, fabric.Observable), e(fabric.StaticCanvas.prototype, fabric
                    .Collection), e(fabric.StaticCanvas.prototype, fabric.DataURLExporter), e(fabric.StaticCanvas, {
                    EMPTY_JSON: '{"objects": [], "background": "white"}',
                    supports: function (e) {
                        var t = fabric.util.createCanvasElement();
                        if (!t || !t.getContext) return null;
                        var n = t.getContext("2d");
                        if (!n) return null;
                        switch (e) {
                            case "getImageData":
                                return typeof n.getImageData != "undefined";
                            case "setLineDash":
                                return typeof n.setLineDash != "undefined";
                            case "toDataURL":
                                return typeof t.toDataURL != "undefined";
                            case "toDataURLWithQuality":
                                try {
                                    return t.toDataURL("image/jpeg", 0), !0
                                } catch (r) {}
                                return !1;
                            default:
                                return null
                        }
                    }
                }), fabric.StaticCanvas.prototype.toJSON = fabric.StaticCanvas.prototype.toObject
            }(), fabric.BaseBrush = fabric.util.createClass({
                color: "rgb(0, 0, 0)",
                width: 1,
                shadow: null,
                strokeLineCap: "round",
                strokeLineJoin: "round",
                setShadow: function (e) {
                    return this.shadow = new fabric.Shadow(e), this
                },
                _setBrushStyles: function () {
                    var e = this.canvas.contextTop;
                    e.strokeStyle = this.color, e.lineWidth = this.width, e.lineCap = this.strokeLineCap, e
                        .lineJoin = this.strokeLineJoin
                },
                _setShadow: function () {
                    if (!this.shadow) return;
                    var e = this.canvas.contextTop;
                    e.shadowColor = this.shadow.color, e.shadowBlur = this.shadow.blur, e.shadowOffsetX = this
                        .shadow.offsetX, e.shadowOffsetY = this.shadow.offsetY
                },
                _resetShadow: function () {
                    var e = this.canvas.contextTop;
                    e.shadowColor = "", e.shadowBlur = e.shadowOffsetX = e.shadowOffsetY = 0
                }
            }),
            function () {
                var e = fabric.util.array.min,
                    t = fabric.util.array.max;
                fabric.PencilBrush = fabric.util.createClass(fabric.BaseBrush, {
                    initialize: function (e) {
                        this.canvas = e, this._points = []
                    },
                    onMouseDown: function (e) {
                        this._prepareForDrawing(e), this._captureDrawingPath(e), this._render()
                    },
                    onMouseMove: function (e) {
                        this._captureDrawingPath(e), this.canvas.clearContext(this.canvas.contextTop), this
                            ._render()
                    },
                    onMouseUp: function () {
                        this._finalizeAndAddPath()
                    },
                    _prepareForDrawing: function (e) {
                        var t = new fabric.Point(e.x, e.y);
                        this._reset(), this._addPoint(t), this.canvas.contextTop.moveTo(t.x, t.y)
                    },
                    _addPoint: function (e) {
                        this._points.push(e)
                    },
                    _reset: function () {
                        this._points.length = 0, this._setBrushStyles(), this._setShadow()
                    },
                    _captureDrawingPath: function (e) {
                        var t = new fabric.Point(e.x, e.y);
                        this._addPoint(t)
                    },
                    _render: function () {
                        var e = this.canvas.contextTop;
                        e.beginPath();
                        var t = this._points[0],
                            n = this._points[1];
                        this._points.length === 2 && t.x === n.x && t.y === n.y && (t.x -= .5, n.x += .5), e
                            .moveTo(t.x, t.y);
                        for (var r = 1, i = this._points.length; r < i; r++) {
                            var s = t.midPointFrom(n);
                            e.quadraticCurveTo(t.x, t.y, s.x, s.y), t = this._points[r], n = this._points[
                                r + 1]
                        }
                        e.lineTo(t.x, t.y), e.stroke()
                    },
                    _getSVGPathData: function () {
                        return this.box = this.getPathBoundingBox(this._points), this
                            .convertPointsToSVGPath(this._points, this.box.minx, this.box.maxx, this.box
                                .miny, this.box.maxy)
                    },
                    getPathBoundingBox: function (n) {
                        var r = [],
                            i = [],
                            s = n[0],
                            o = n[1],
                            u = s;
                        for (var a = 1, f = n.length; a < f; a++) {
                            var l = s.midPointFrom(o);
                            r.push(u.x), r.push(l.x), i.push(u.y), i.push(l.y), s = n[a], o = n[a + 1], u =
                                l
                        }
                        return r.push(s.x), i.push(s.y), {
                            minx: e(r),
                            miny: e(i),
                            maxx: t(r),
                            maxy: t(i)
                        }
                    },
                    convertPointsToSVGPath: function (e, t, n, r) {
                        var i = [],
                            s = new fabric.Point(e[0].x - t, e[0].y - r),
                            o = new fabric.Point(e[1].x - t, e[1].y - r);
                        i.push("M ", e[0].x - t, " ", e[0].y - r, " ");
                        for (var u = 1, a = e.length; u < a; u++) {
                            var f = s.midPointFrom(o);
                            i.push("Q ", s.x, " ", s.y, " ", f.x, " ", f.y, " "), s = new fabric.Point(e[u]
                                .x - t, e[u].y - r), u + 1 < e.length && (o = new fabric.Point(e[u + 1]
                                .x - t, e[u + 1].y - r))
                        }
                        return i.push("L ", s.x, " ", s.y, " "), i
                    },
                    createPath: function (e) {
                        var t = new fabric.Path(e);
                        return t.fill = null, t.stroke = this.color, t.strokeWidth = this.width, t
                            .strokeLineCap = this.strokeLineCap, t.strokeLineJoin = this.strokeLineJoin,
                            this.shadow && (this.shadow.affectStroke = !0, t.setShadow(this.shadow)), t
                    },
                    _finalizeAndAddPath: function () {
                        var e = this.canvas.contextTop;
                        e.closePath();
                        var t = this._getSVGPathData().join("");
                        if (t === "M 0 0 Q 0 0 0 0 L 0 0") {
                            this.canvas.renderAll();
                            return
                        }
                        var n = this.box.minx + (this.box.maxx - this.box.minx) / 2,
                            r = this.box.miny + (this.box.maxy - this.box.miny) / 2;
                        this.canvas.contextTop.arc(n, r, 3, 0, Math.PI * 2, !1);
                        var i = this.createPath(t);
                        i.set({
                                left: n,
                                top: r,
                                originX: "center",
                                originY: "center"
                            }), this.canvas.add(i), i.setCoords(), this.canvas.clearContext(this.canvas
                                .contextTop), this._resetShadow(), this.canvas.renderAll(), this.canvas
                            .fire("path:created", {
                                path: i
                            })
                    }
                })
            }(), fabric.CircleBrush = fabric.util.createClass(fabric.BaseBrush, {
                width: 10,
                initialize: function (e) {
                    this.canvas = e, this.points = []
                },
                drawDot: function (e) {
                    var t = this.addPoint(e),
                        n = this.canvas.contextTop;
                    n.fillStyle = t.fill, n.beginPath(), n.arc(t.x, t.y, t.radius, 0, Math.PI * 2, !1), n
                        .closePath(), n.fill()
                },
                onMouseDown: function (e) {
                    this.points.length = 0, this.canvas.clearContext(this.canvas.contextTop), this._setShadow(),
                        this.drawDot(e)
                },
                onMouseMove: function (e) {
                    this.drawDot(e)
                },
                onMouseUp: function () {
                    var e = this.canvas.renderOnAddRemove;
                    this.canvas.renderOnAddRemove = !1;
                    var t = [];
                    for (var n = 0, r = this.points.length; n < r; n++) {
                        var i = this.points[n],
                            s = new fabric.Circle({
                                radius: i.radius,
                                left: i.x,
                                top: i.y,
                                originX: "center",
                                originY: "center",
                                fill: i.fill
                            });
                        this.shadow && s.setShadow(this.shadow), t.push(s)
                    }
                    var o = new fabric.Group(t, {
                        originX: "center",
                        originY: "center"
                    });
                    this.canvas.add(o), this.canvas.fire("path:created", {
                            path: o
                        }), this.canvas.clearContext(this.canvas.contextTop), this._resetShadow(), this.canvas
                        .renderOnAddRemove = e, this.canvas.renderAll()
                },
                addPoint: function (e) {
                    var t = new fabric.Point(e.x, e.y),
                        n = fabric.util.getRandomInt(Math.max(0, this.width - 20), this.width + 20) / 2,
                        r = (new fabric.Color(this.color)).setAlpha(fabric.util.getRandomInt(0, 100) / 100)
                        .toRgba();
                    return t.radius = n, t.fill = r, this.points.push(t), t
                }
            }), fabric.SprayBrush = fabric.util.createClass(fabric.BaseBrush, {
                width: 10,
                density: 20,
                dotWidth: 1,
                dotWidthVariance: 1,
                randomOpacity: !1,
                optimizeOverlapping: !0,
                initialize: function (e) {
                    this.canvas = e, this.sprayChunks = []
                },
                onMouseDown: function (e) {
                    this.sprayChunks.length = 0, this.canvas.clearContext(this.canvas.contextTop), this
                        ._setShadow(), this.addSprayChunk(e), this.render()
                },
                onMouseMove: function (e) {
                    this.addSprayChunk(e), this.render()
                },
                onMouseUp: function () {
                    var e = this.canvas.renderOnAddRemove;
                    this.canvas.renderOnAddRemove = !1;
                    var t = [];
                    for (var n = 0, r = this.sprayChunks.length; n < r; n++) {
                        var i = this.sprayChunks[n];
                        for (var s = 0, o = i.length; s < o; s++) {
                            var u = new fabric.Rect({
                                width: i[s].width,
                                height: i[s].width,
                                left: i[s].x + 1,
                                top: i[s].y + 1,
                                originX: "center",
                                originY: "center",
                                fill: this.color
                            });
                            this.shadow && u.setShadow(this.shadow), t.push(u)
                        }
                    }
                    this.optimizeOverlapping && (t = this._getOptimizedRects(t));
                    var a = new fabric.Group(t, {
                        originX: "center",
                        originY: "center"
                    });
                    this.canvas.add(a), this.canvas.fire("path:created", {
                            path: a
                        }), this.canvas.clearContext(this.canvas.contextTop), this._resetShadow(), this.canvas
                        .renderOnAddRemove = e, this.canvas
                        .renderAll()
                },
                _getOptimizedRects: function (e) {
                    var t = {},
                        n;
                    for (var r = 0, i = e.length; r < i; r++) n = e[r].left + "" + e[r].top, t[n] || (t[n] = e[
                        r]);
                    var s = [];
                    for (n in t) s.push(t[n]);
                    return s
                },
                render: function () {
                    var e = this.canvas.contextTop;
                    e.fillStyle = this.color, e.save();
                    for (var t = 0, n = this.sprayChunkPoints.length; t < n; t++) {
                        var r = this.sprayChunkPoints[t];
                        typeof r.opacity != "undefined" && (e.globalAlpha = r.opacity), e.fillRect(r.x, r.y, r
                            .width, r.width)
                    }
                    e.restore()
                },
                addSprayChunk: function (e) {
                    this.sprayChunkPoints = [];
                    var t, n, r, i = this.width / 2;
                    for (var s = 0; s < this.density; s++) {
                        t = fabric.util.getRandomInt(e.x - i, e.x + i), n = fabric.util.getRandomInt(e.y - i, e
                                .y + i), this.dotWidthVariance ? r = fabric.util.getRandomInt(Math.max(1, this
                                .dotWidth - this.dotWidthVariance), this.dotWidth + this.dotWidthVariance) : r =
                            this.dotWidth;
                        var o = {
                            x: t,
                            y: n,
                            width: r
                        };
                        this.randomOpacity && (o.opacity = fabric.util.getRandomInt(0, 100) / 100), this
                            .sprayChunkPoints.push(o)
                    }
                    this.sprayChunks.push(this.sprayChunkPoints)
                }
            }), fabric.PatternBrush = fabric.util.createClass(fabric.PencilBrush, {
                getPatternSrc: function () {
                    var e = 20,
                        t = 5,
                        n = fabric.document.createElement("canvas"),
                        r = n.getContext("2d");
                    return n.width = n.height = e + t, r.fillStyle = this.color, r.beginPath(), r.arc(e / 2, e /
                        2, e / 2, 0, Math.PI * 2, !1), r.closePath(), r.fill(), n
                },
                getPatternSrcFunction: function () {
                    return String(this.getPatternSrc).replace("this.color", '"' + this.color + '"')
                },
                getPattern: function () {
                    return this.canvas.contextTop.createPattern(this.source || this.getPatternSrc(), "repeat")
                },
                _setBrushStyles: function () {
                    this.callSuper("_setBrushStyles"), this.canvas.contextTop.strokeStyle = this.getPattern()
                },
                createPath: function (e) {
                    var t = this.callSuper("createPath", e);
                    return t.stroke = new fabric.Pattern({
                        source: this.source || this.getPatternSrcFunction()
                    }), t
                }
            }),
            function () {
                var e = fabric.util.getPointer,
                    t = fabric.util.degreesToRadians,
                    n = fabric.util.radiansToDegrees,
                    r = Math.atan2,
                    i = Math.abs,
                    s = .5;
                fabric.Canvas = fabric.util.createClass(fabric.StaticCanvas, {
                    initialize: function (e, t) {
                        t || (t = {}), this._initStatic(e, t), this._initInteractive(), this
                            ._createCacheCanvas(), fabric.Canvas.activeInstance = this
                    },
                    uniScaleTransform: !1,
                    centeredScaling: !1,
                    centeredRotation: !1,
                    interactive: !0,
                    selection: !0,
                    selectionColor: "rgba(100, 100, 255, 0.3)",
                    selectionDashArray: [],
                    selectionBorderColor: "rgba(255, 255, 255, 0.3)",
                    selectionLineWidth: 1,
                    hoverCursor: "move",
                    moveCursor: "move",
                    defaultCursor: "default",
                    freeDrawingCursor: "crosshair",
                    rotationCursor: "crosshair",
                    containerClass: "canvas-container",
                    perPixelTargetFind: !1,
                    targetFindTolerance: 0,
                    skipTargetFind: !1,
                    _initInteractive: function () {
                        this._currentTransform = null, this._groupSelector = null, this
                            ._initWrapperElement(), this._createUpperCanvas(), this._initEventListeners(),
                            this.freeDrawingBrush = fabric.PencilBrush && new fabric.PencilBrush(this), this
                            .calcOffset()
                    },
                    _resetCurrentTransform: function (e) {
                        var t = this._currentTransform;
                        t.target.set({
                                scaleX: t.original.scaleX,
                                scaleY: t.original.scaleY,
                                left: t.original.left,
                                top: t.original.top
                            }), this._shouldCenterTransform(e, t.target) ? t.action === "rotate" ? this
                            ._setOriginToCenter(t.target) : (t.originX !== "center" && (t.originX ===
                                    "right" ? t.mouseXSign = -1 : t.mouseXSign = 1), t.originY !==
                                "center" && (t.originY === "bottom" ? t.mouseYSign = -1 : t.mouseYSign = 1),
                                t.originX = "center", t.originY = "center") : (t.originX = t.original
                                .originX, t.originY = t.original.originY)
                    },
                    containsPoint: function (e, t) {
                        var n = this.getPointer(e),
                            r = this._normalizePointer(t, n);
                        return t.containsPoint(r) || t._findTargetCorner(e, this._offset)
                    },
                    _normalizePointer: function (e, t) {
                        var n = this.getActiveGroup(),
                            r = t.x,
                            i = t.y,
                            s = n && e.type !== "group" && n.contains(e);
                        return s && (r -= n.left, i -= n.top), {
                            x: r,
                            y: i
                        }
                    },
                    isTargetTransparent: function (e, t, n) {
                        var r = e.hasBorders,
                            i = e.transparentCorners;
                        e.hasBorders = e.transparentCorners = !1, this._draw(this.contextCache, e), e
                            .hasBorders = r, e.transparentCorners = i;
                        var s = fabric.util.isTransparent(this.contextCache, t, n, this
                            .targetFindTolerance);
                        return this.clearContext(this.contextCache), s
                    },
                    _shouldClearSelection: function (e, t) {
                        var n = this.getActiveGroup(),
                            r = this.getActiveObject();
                        return !t || t && n && !n.contains(t) && n !== t && !e.shiftKey || t && !t
                            .evented || t && !t.selectable && r && r !== t
                    },
                    _shouldCenterTransform: function (e, t) {
                        if (!t) return;
                        var n = this._currentTransform,
                            r;
                        return n.action === "scale" || n.action === "scaleX" || n.action === "scaleY" ? r =
                            this.centeredScaling || t.centeredScaling : n.action === "rotate" && (r = this
                                .centeredRotation || t.centeredRotation), r ? !e.altKey : e.altKey
                    },
                    _getOriginFromCorner: function (e, t) {
                        var n = {
                            x: e.originX,
                            y: e.originY
                        };
                        if (t === "ml" || t === "tl" || t === "bl") n.x = "right";
                        else if (t === "mr" || t === "tr" || t === "br") n.x = "left";
                        if (t === "tl" || t === "mt" || t === "tr") n.y = "bottom";
                        else if (t === "bl" || t === "mb" || t === "br") n.y = "top";
                        return n
                    },
                    _getActionFromCorner: function (e, t) {
                        var n = "drag";
                        return t && (n = t === "ml" || t === "mr" ? "scaleX" : t === "mt" || t === "mb" ?
                            "scaleY" : t === "mtr" ? "rotate" : "scale"), n
                    },
                    _setupCurrentTransform: function (n, r) {
                        if (!r) return;
                        var i = r._findTargetCorner(n, this._offset),
                            s = e(n, r.canvas.upperCanvasEl),
                            o = this._getActionFromCorner(r, i),
                            u = this._getOriginFromCorner(r, i);
                        this._currentTransform = {
                            target: r,
                            action: o,
                            scaleX: r.scaleX,
                            scaleY: r.scaleY,
                            offsetX: s.x - r.left,
                            offsetY: s.y - r.top,
                            originX: u.x,
                            originY: u.y,
                            ex: s.x,
                            ey: s.y,
                            left: r.left,
                            top: r.top,
                            theta: t(r.angle),
                            width: r.width * r.scaleX,
                            mouseXSign: 1,
                            mouseYSign: 1
                        }, this._currentTransform.original = {
                            left: r.left,
                            top: r.top,
                            scaleX: r.scaleX,
                            scaleY: r.scaleY,
                            originX: u.x,
                            originY: u.y
                        }, this._resetCurrentTransform(n)
                    },
                    _translateObject: function (e, t) {
                        var n = this._currentTransform.target;
                        n.get("lockMovementX") || n.set("left", e - this._currentTransform.offsetX), n.get(
                            "lockMovementY") || n.set("top", t - this._currentTransform.offsetY)
                    },
                    _scaleObject: function (e, t, n) {
                        var r = this._currentTransform,
                            i = this._offset,
                            s = r.target,
                            o = s.get("lockScalingX"),
                            u = s.get("lockScalingY");
                        if (o && u) return;
                        var a = s.translateToOriginPoint(s.getCenterPoint(), r.originX, r.originY),
                            f = s.toLocalPoint(new fabric.Point(e - i.left, t - i.top), r.originX, r
                                .originY);
                        this._setLocalMouse(f, r), this._setObjectScale(f, r, o, u, n), s
                            .setPositionByOrigin(a, r.originX, r.originY)
                    },
                    _setObjectScale: function (e, t, n, r, i) {
                        var s = t.target;
                        t.newScaleX = s.scaleX, t.newScaleY = s.scaleY, i === "equally" && !n && !r ? this
                            ._scaleObjectEqually(e, s, t) : i ? i === "x" && !s.get("lockUniScaling") ? (t
                                .newScaleX = e.x / (s.width + s.strokeWidth), n || s.set("scaleX", t
                                    .newScaleX)) : i === "y" && !s.get("lockUniScaling") && (t.newScaleY = e
                                .y / (s.height + s.strokeWidth), r || s.set("scaleY", t.newScaleY)) : (t
                                .newScaleX = e.x / (s.width + s.strokeWidth), t.newScaleY = e.y / (s
                                    .height + s.strokeWidth), n || s.set("scaleX", t.newScaleX), r || s.set(
                                    "scaleY", t.newScaleY)), this._flipObject(t)
                    },
                    _scaleObjectEqually: function (e, t, n) {
                        var r = e.y + e.x,
                            i = (t.height + t.strokeWidth) * n.original.scaleY + (t.width + t.strokeWidth) *
                            n.original.scaleX;
                        n.newScaleX = n.original.scaleX * r / i, n.newScaleY = n.original.scaleY * r / i, t
                            .set("scaleX", n.newScaleX), t.set("scaleY", n.newScaleY)
                    },
                    _flipObject: function (e) {
                        e.newScaleX < 0 && (e.originX === "left" ? e.originX = "right" : e.originX ===
                            "right" && (e.originX = "left")), e.newScaleY < 0 && (e.originY === "top" ?
                            e.originY = "bottom" : e.originY === "bottom" && (e.originY = "top"))
                    },
                    _setLocalMouse: function (e, t) {
                        var n = t.target;
                        t.originX === "right" ? e.x *= -1 : t.originX === "center" && (e.x *= t.mouseXSign *
                                2, e.x < 0 && (t.mouseXSign = -t.mouseXSign)), t.originY === "bottom" ? e
                            .y *= -1 : t.originY === "center" && (e.y *= t.mouseYSign * 2, e.y < 0 && (t
                                .mouseYSign = -t.mouseYSign)), i(e.x) > n.padding ? e.x < 0 ? e.x += n
                            .padding : e.x -= n.padding : e.x = 0, i(e.y) > n.padding ? e.y < 0 ? e.y += n
                            .padding : e.y -= n.padding : e.y = 0
                    },
                    _rotateObject: function (e, t) {
                        var i = this._currentTransform,
                            s = this._offset;
                        if (i.target.get("lockRotation")) return;
                        var o = r(i.ey - i.top - s.top, i.ex - i.left - s.left),
                            u = r(t - i.top - s.top, e - i.left - s.left),
                            a = n(u - o + i.theta);
                        a < 0 && (a = 360 + a), i.target.angle = a
                    },
                    _setCursor: function (e) {
                        this.upperCanvasEl.style.cursor = e
                    },
                    _resetObjectTransform: function (e) {
                        e.scaleX = 1, e.scaleY = 1, e.setAngle(0)
                    },
                    _drawSelection: function () {
                        var e = this.contextTop,
                            t = this._groupSelector,
                            n = t.left,
                            r = t.top,
                            o = i(n),
                            u = i(r);
                        e.fillStyle = this.selectionColor, e.fillRect(t.ex - (n > 0 ? 0 : -n), t.ey - (r >
                                0 ? 0 : -r), o, u), e.lineWidth = this.selectionLineWidth, e.strokeStyle =
                            this.selectionBorderColor;
                        if (this.selectionDashArray.length > 1) {
                            var a = t.ex + s - (n > 0 ? 0 : o),
                                f = t.ey + s - (r > 0 ? 0 : u);
                            e.beginPath(), fabric.util.drawDashedLine(e, a, f, a + o, f, this
                                    .selectionDashArray), fabric.util.drawDashedLine(e, a, f + u - 1, a + o,
                                    f + u - 1, this.selectionDashArray), fabric.util.drawDashedLine(e, a, f,
                                    a, f + u, this.selectionDashArray), fabric.util.drawDashedLine(e, a +
                                    o - 1, f, a + o - 1, f + u, this.selectionDashArray), e.closePath(), e
                                .stroke()
                        } else e.strokeRect(t.ex + s - (n > 0 ? 0 : o), t.ey + s - (r > 0 ? 0 : u), o, u)
                    },
                    _isLastRenderedObject: function (e) {
                        return this.controlsAboveOverlay && this
                            .lastRenderedObjectWithControlsAboveOverlay && this
                            .lastRenderedObjectWithControlsAboveOverlay.visible && this.containsPoint(e,
                                this.lastRenderedObjectWithControlsAboveOverlay) && this
                            .lastRenderedObjectWithControlsAboveOverlay._findTargetCorner(e, this._offset)
                    },
                    findTarget: function (e, t) {
                        if (this.skipTargetFind) return;
                        if (this._isLastRenderedObject(e)) return this
                            .lastRenderedObjectWithControlsAboveOverlay;
                        var n = this.getActiveGroup();
                        return n && !t && this.containsPoint(e, n) ? n : this._searchPossibleTargets(e)
                    },
                    _searchPossibleTargets: function (e) {
                        var t = [],
                            n, r = this.getPointer(e);
                        for (var i = this._objects.length; i--;)
                            if (this._objects[i] && this._objects[i].visible && this._objects[i].evented &&
                                this.containsPoint(e, this._objects[i])) {
                                if (!this.perPixelTargetFind && !this._objects[i].perPixelTargetFind) {
                                    n = this._objects[i], this.relatedTarget = n;
                                    break
                                }
                                t[t.length] = this._objects[i]
                            } for (var s = 0, o = t.length; s < o; s++) {
                            r = this.getPointer(e);
                            var u = this.isTargetTransparent(t[s], r.x, r.y);
                            if (!u) {
                                n = t[s], this.relatedTarget = n;
                                break
                            }
                        }
                        return n
                    },
                    getPointer: function (t) {
                        var n = e(t, this.upperCanvasEl);
                        return {
                            x: n.x - this._offset.left,
                            y: n.y - this._offset.top
                        }
                    },
                    _createUpperCanvas: function () {
                        var e = this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/, "");
                        this.upperCanvasEl = this._createCanvasElement(), fabric.util.addClass(this
                                .upperCanvasEl, "upper-canvas " + e), this.wrapperEl.appendChild(this
                                .upperCanvasEl), this._copyCanvasStyle(this.lowerCanvasEl, this
                                .upperCanvasEl), this._applyCanvasStyle(this.upperCanvasEl), this
                            .contextTop = this.upperCanvasEl.getContext("2d")
                    },
                    _createCacheCanvas: function () {
                        this.cacheCanvasEl = this._createCanvasElement(), this.cacheCanvasEl.setAttribute(
                            "width", this.width), this.cacheCanvasEl.setAttribute("height", this
                            .height), this.contextCache = this.cacheCanvasEl.getContext("2d")
                    },
                    _initWrapperElement: function () {
                        this.wrapperEl = fabric.util.wrapElement(this.lowerCanvasEl, "div", {
                            "class": this.containerClass
                        }), fabric.util.setStyle(this.wrapperEl, {
                            width: this.getWidth() + "px",
                            height: this.getHeight() + "px",
                            position: "relative"
                        }), fabric.util.makeElementUnselectable(this.wrapperEl)
                    },
                    _applyCanvasStyle: function (e) {
                        var t = this.getWidth() || e.width,
                            n = this.getHeight() || e.height;
                        fabric.util.setStyle(e, {
                            position: "absolute",
                            width: t + "px",
                            height: n + "px",
                            left: 0,
                            top: 0
                        }), e.width = t, e.height = n, fabric.util.makeElementUnselectable(e)
                    },
                    _copyCanvasStyle: function (e, t) {
                        t.style.cssText = e.style.cssText
                    },
                    getSelectionContext: function () {
                        return this.contextTop
                    },
                    getSelectionElement: function () {
                        return this.upperCanvasEl
                    },
                    _setActiveObject: function (e) {
                        this._activeObject && this._activeObject.set("active", !1), this._activeObject = e,
                            e.set("active", !0)
                    },
                    setActiveObject: function (e, t) {
                        return this._setActiveObject(e), this.renderAll(), this.fire("object:selected", {
                            target: e,
                            e: t
                        }), e.fire("selected", {
                            e: t
                        }), this
                    },
                    getActiveObject: function () {
                        return this._activeObject
                    },
                    _discardActiveObject: function () {
                        this._activeObject && this._activeObject.set("active", !1), this._activeObject =
                            null
                    },
                    discardActiveObject: function (e) {
                        return this._discardActiveObject(), this.renderAll(), this.fire(
                            "selection:cleared", {
                                e: e
                            }), this
                    },
                    _setActiveGroup: function (e) {
                        this._activeGroup = e, e && (e.canvas = this, e.set("active", !0))
                    },
                    setActiveGroup: function (e, t) {
                        return this._setActiveGroup(e), e && (this.fire("object:selected", {
                            target: e,
                            e: t
                        }), e.fire("selected", {
                            e: t
                        })), this
                    },
                    getActiveGroup: function () {
                        return this._activeGroup
                    },
                    _discardActiveGroup: function () {
                        var e = this.getActiveGroup();
                        e && e.destroy(), this.setActiveGroup(null)
                    },
                    discardActiveGroup: function (e) {
                        return this._discardActiveGroup(), this.fire("selection:cleared", {
                            e: e
                        }), this
                    },
                    deactivateAll: function () {
                        var e = this.getObjects(),
                            t = 0,
                            n = e.length;
                        for (; t < n; t++) e[t].set("active", !1);
                        return this._discardActiveGroup(), this._discardActiveObject(), this
                    },
                    deactivateAllWithDispatch: function (e) {
                        var t = this.getActiveGroup() || this.getActiveObject();
                        return t && this.fire("before:selection:cleared", {
                            target: t,
                            e: e
                        }), this.deactivateAll(), t && this.fire("selection:cleared", {
                            e: e
                        }), this
                    },
                    drawControls: function (e) {
                        var t = this.getActiveGroup();
                        t ? this._drawGroupControls(e, t) : this._drawObjectsControls(e)
                    },
                    _drawGroupControls: function (e, t) {
                        this._drawControls(e, t, "Group")
                    },
                    _drawObjectsControls: function (e) {
                        for (var t = 0, n = this._objects.length; t < n; ++t) {
                            if (!this._objects[t] || !this._objects[t].active) continue;
                            this._drawControls(e, this._objects[t], "Object"), this
                                .lastRenderedObjectWithControlsAboveOverlay = this._objects[t]
                        }
                    },
                    _drawControls: function (e, t, n) {
                        e.save(), fabric[n].prototype.transform.call(t, e), t.drawBorders(e).drawControls(
                            e), e.restore()
                    }
                });
                for (var o in fabric.StaticCanvas) o !== "prototype" && (fabric.Canvas[o] = fabric.StaticCanvas[o]);
                fabric.isTouchSupported && (fabric.Canvas.prototype._setCursorFromEvent = function () {}), fabric
                    .Element = fabric.Canvas
            }(),
            function () {
                var e = ["n-resize", "ne-resize", "e-resize", "se-resize", "s-resize", "sw-resize", "w-resize",
                        "nw-resize"
                    ],
                    t = {
                        mt: 0,
                        tr: 1,
                        mr: 2,
                        br: 3,
                        mb: 4,
                        bl: 5,
                        ml: 6,
                        tl: 7
                    },
                    n = fabric.util.addListener,
                    r = fabric.util.removeListener,
                    i = fabric.util.getPointer;
                fabric.util.object.extend(fabric.Canvas.prototype, {
                    _initEventListeners: function () {
                        this._bindEvents(), n(fabric.window, "resize", this._onResize), n(this
                                .upperCanvasEl, "mousedown", this._onMouseDown), n(this.upperCanvasEl,
                                "mousemove", this._onMouseMove), n(this.upperCanvasEl, "mousewheel", this
                                ._onMouseWheel), n(this.upperCanvasEl, "touchstart", this._onMouseDown), n(
                                this.upperCanvasEl, "touchmove", this._onMouseMove), typeof Event !=
                            "undefined" && "add" in Event && (Event.add(this.upperCanvasEl, "gesture", this
                                    ._onGesture), Event.add(this.upperCanvasEl, "drag", this._onDrag), Event
                                .add(this.upperCanvasEl, "orientation", this._onOrientationChange), Event
                                .add(this.upperCanvasEl, "shake", this._onShake))
                    },
                    _bindEvents: function () {
                        this._onMouseDown = this._onMouseDown.bind(this), this._onMouseMove = this
                            ._onMouseMove.bind(this), this._onMouseUp = this._onMouseUp.bind(this), this
                            ._onResize = this._onResize.bind(this), this._onGesture = this._onGesture.bind(
                                this), this._onDrag = this._onDrag.bind(this), this._onShake = this._onShake
                            .bind(this), this._onOrientationChange = this._onOrientationChange.bind(this),
                            this._onMouseWheel = this._onMouseWheel.bind(this)
                    },
                    removeListeners: function () {
                        r(fabric.window, "resize", this._onResize), r(this.upperCanvasEl, "mousedown", this
                            ._onMouseDown), r(this.upperCanvasEl, "mousemove", this._onMouseMove), r(
                            this.upperCanvasEl, "mousewheel", this._onMouseWheel), r(this.upperCanvasEl,
                            "touchstart", this._onMouseDown), r(this.upperCanvasEl, "touchmove", this
                            ._onMouseMove), typeof Event != "undefined" && "remove" in Event && (Event
                            .remove(this.upperCanvasEl, "gesture", this._onGesture), Event.remove(this
                                .upperCanvasEl, "drag", this._onDrag), Event.remove(this.upperCanvasEl,
                                "orientation", this._onOrientationChange), Event.remove(this
                                .upperCanvasEl, "shake", this._onShake))
                    },
                    _onGesture: function (e, t) {
                        this.__onTransformGesture && this.__onTransformGesture(e, t)
                    },
                    _onDrag: function (e, t) {
                        this.__onDrag && this.__onDrag(e, t)
                    },
                    _onMouseWheel: function (e, t) {
                        this.__onMouseWheel && this.__onMouseWheel(e, t)
                    },
                    _onOrientationChange: function (e, t) {
                        this.__onOrientationChange && this.__onOrientationChange(e, t)
                    },
                    _onShake: function (e, t) {
                        this.__onShake && this.__onShake(e, t)
                    },
                    _onMouseDown: function (e) {
                        this.__onMouseDown(e), n(fabric.document, "mouseup", this._onMouseUp), n(fabric
                            .document, "touchend", this._onMouseUp), n(fabric.document, "mousemove",
                            this._onMouseMove), n(fabric.document, "touchmove", this._onMouseMove), r(
                            this.upperCanvasEl, "mousemove", this._onMouseMove), r(this.upperCanvasEl,
                            "touchmove", this._onMouseMove)
                    },
                    _onMouseUp: function (e) {
                        this.__onMouseUp(e), r(fabric.document, "mouseup", this._onMouseUp), r(fabric
                            .document, "touchend", this._onMouseUp), r(fabric.document, "mousemove",
                            this._onMouseMove), r(fabric.document, "touchmove", this._onMouseMove), n(
                            this.upperCanvasEl, "mousemove", this._onMouseMove), n(this.upperCanvasEl,
                            "touchmove", this._onMouseMove)
                    },
                    _onMouseMove: function (e) {
                        !this.allowTouchScrolling && e.preventDefault && e.preventDefault(), this
                            .__onMouseMove(e)
                    },
                    _onResize: function () {
                        this.calcOffset()
                    },
                    _shouldRender: function (e, t) {
                        var n = this.getActiveGroup() || this.getActiveObject();
                        return !!(e && (e.isMoving || e !== n) || !e && !!n || !e && !n && !this
                            ._groupSelector || t && this._previousPointer && this.selection && (t.x !==
                                this._previousPointer.x || t.y !== this._previousPointer.y))
                    },
                    __onMouseUp: function (e) {
                        var t;
                        if (this.isDrawingMode && this._isCurrentlyDrawing) {
                            this._onMouseUpInDrawingMode(e);
                            return
                        }
                        this._currentTransform ? (this._finalizeCurrentTransform(), t = this
                            ._currentTransform.target) : t = this.findTarget(e, !0);
                        var n = this._shouldRender(t, this.getPointer(e));
                        this._maybeGroupObjects(e), t && (t.isMoving = !1), n && this.renderAll(), this
                            ._handleCursorAndEvent(e, t)
                    },
                    _handleCursorAndEvent: function (e, t) {
                        this._setCursorFromEvent(e, t);
                        var n = this;
                        setTimeout(function () {
                            n._setCursorFromEvent(e, t)
                        }, 50), this.fire("mouse:up", {
                            target: t,
                            e: e
                        }), t && t.fire("mouseup", {
                            e: e
                        })
                    },
                    _finalizeCurrentTransform: function () {
                        var e = this._currentTransform,
                            t = e.target;
                        t._scaling && (t._scaling = !1), t.setCoords(), this.stateful && t
                            .hasStateChanged() && (this.fire("object:modified", {
                                target: t
                            }), t.fire("modified")), this._restoreOriginXY(t)
                    },
                    _restoreOriginXY: function (e) {
                        if (this._previousOriginX && this._previousOriginY) {
                            var t = e.translateToOriginPoint(e.getCenterPoint(), this._previousOriginX, this
                                ._previousOriginY);
                            e.originX = this._previousOriginX, e.originY = this._previousOriginY, e.left = t
                                .x, e.top = t.y, this._previousOriginX = null, this._previousOriginY = null
                        }
                    },
                    _onMouseDownInDrawingMode: function (e) {
                        this._isCurrentlyDrawing = !0, this.discardActiveObject(e).renderAll(), this
                            .clipTo && fabric.util.clipContext(this, this.contextTop), this.freeDrawingBrush
                            .onMouseDown(this.getPointer(e)), this.fire("mouse:down", {
                                e: e
                            })
                    },
                    _onMouseMoveInDrawingMode: function (e) {
                        if (this._isCurrentlyDrawing) {
                            var t = this.getPointer(e);
                            this.freeDrawingBrush.onMouseMove(t)
                        }
                        this.upperCanvasEl.style.cursor = this.freeDrawingCursor, this.fire("mouse:move", {
                            e: e
                        })
                    },
                    _onMouseUpInDrawingMode: function (e) {
                        this._isCurrentlyDrawing = !1, this.clipTo && this.contextTop.restore(), this
                            .freeDrawingBrush.onMouseUp(), this.fire("mouse:up", {
                                e: e
                            })
                    },
                    __onMouseDown: function (e) {
                        var t = "which" in e ? e.which === 1 : e.button === 1;
                        if (!t && !fabric.isTouchSupported) return;
                        if (this.isDrawingMode) {
                            this._onMouseDownInDrawingMode(e);
                            return
                        }
                        if (this._currentTransform) return;
                        var n = this.findTarget(e),
                            r = this.getPointer(e);
                        this._previousPointer = r;
                        var i = this._shouldRender(n, r),
                            s = this._shouldGroup(e, n);
                        this._shouldClearSelection(e, n) ? this._clearSelection(e, n, r) : s && (this
                                ._handleGrouping(e, n), n = this.getActiveGroup()), n && n.selectable && !
                            s && (this._beforeTransform(e, n), this._setupCurrentTransform(e, n)), i && this
                            .renderAll(), this.fire("mouse:down", {
                                target: n,
                                e: e
                            }), n && n.fire("mousedown", {
                                e: e
                            })
                    },
                    _beforeTransform: function (e, t) {
                        var n;
                        this.stateful && t.saveState(), (n = t._findTargetCorner(e, this._offset)) && this
                            .onBeforeScaleRotate(t), t !== this.getActiveGroup() && t !== this
                            .getActiveObject() && (this.deactivateAll(), this.setActiveObject(t, e))
                    },
                    _clearSelection: function (e, t, n) {
                        this.deactivateAllWithDispatch(e), t && t.selectable ? this.setActiveObject(t, e) :
                            this.selection && (this._groupSelector = {
                                ex: n.x,
                                ey: n.y,
                                top: 0,
                                left: 0
                            })
                    },
                    _setOriginToCenter: function (e) {
                        this._previousOriginX = this._currentTransform.target.originX, this
                            ._previousOriginY = this._currentTransform.target.originY;
                        var t = e.getCenterPoint();
                        e.originX = "center", e.originY = "center", e.left = t.x, e.top = t.y, this
                            ._currentTransform.left = e.left, this._currentTransform.top = e.top
                    },
                    _setCenterToOrigin: function (e) {
                        var t = e.translateToOriginPoint(e.getCenterPoint(), this._previousOriginX, this
                            ._previousOriginY);
                        e.originX = this._previousOriginX, e.originY = this._previousOriginY, e.left = t.x,
                            e.top = t.y, this._previousOriginX = null, this._previousOriginY = null
                    },
                    __onMouseMove: function (e) {
                        var t, n;
                        if (this.isDrawingMode) {
                            this._onMouseMoveInDrawingMode(e);
                            return
                        }
                        var r = this._groupSelector;
                        r ? (n = i(e, this.upperCanvasEl), r.left = n.x - this._offset.left - r.ex, r.top =
                                n.y - this._offset.top - r.ey, this.renderTop()) : this._currentTransform ?
                            this._transformObject(e) : (t = this.findTarget(e), !t || t && !t.selectable ?
                                this.upperCanvasEl.style.cursor = this.defaultCursor : this
                                ._setCursorFromEvent(e, t)), this.fire("mouse:move", {
                                target: t,
                                e: e
                            }), t && t.fire("mousemove", {
                                e: e
                            })
                    },
                    _transformObject: function (e) {
                        var t = i(e, this.upperCanvasEl),
                            n = this._currentTransform;
                        n.reset = !1, n.target.isMoving = !0, this._beforeScaleTransform(e, n), this
                            ._performTransformAction(e, n, t), this.renderAll()
                    },
                    _performTransformAction: function (e, t, n) {
                        var r = n.x,
                            i = n.y,
                            s = t.target,
                            o = t.action;
                        o === "rotate" ? (this._rotateObject(r, i), this._fire("rotating", s, e)) : o ===
                            "scale" ? (this._onScale(e, t, r, i), this._fire("scaling", s, e)) : o ===
                            "scaleX" ? (this._scaleObject(r, i, "x"), this._fire("scaling", s, e)) : o ===
                            "scaleY" ? (this._scaleObject(r, i, "y"), this._fire("scaling", s, e)) : (this
                                ._translateObject(r, i), this._fire("moving", s, e), this._setCursor(this
                                    .moveCursor))
                    },
                    _fire: function (e, t, n) {
                        this.fire("object:" + e, {
                            target: t,
                            e: n
                        }), t.fire(e, {
                            e: n
                        })
                    },
                    _beforeScaleTransform: function (e, t) {
                        if (t.action === "scale" || t.action === "scaleX" || t.action === "scaleY") {
                            var n = this._shouldCenterTransform(e, t.target);
                            if (n && (t.originX !== "center" || t.originY !== "center") || !n && t
                                .originX === "center" && t.originY === "center") this
                                ._resetCurrentTransform(e), t.reset = !0
                        }
                    },
                    _onScale: function (e, t, n, r) {
                        (e.shiftKey || this.uniScaleTransform) && !t.target.get("lockUniScaling") ? (t
                            .currentAction = "scale", this._scaleObject(n, r)) : (!t.reset && t
                            .currentAction === "scale" && this._resetCurrentTransform(e, t.target), t
                            .currentAction = "scaleEqually", this._scaleObject(n, r, "equally"))
                    },
                    _setCursorFromEvent: function (e, t) {
                        var n = this.upperCanvasEl.style;
                        if (!t || !t.selectable) return n.cursor = this.defaultCursor, !1;
                        var r = this.getActiveGroup(),
                            i = t._findTargetCorner && (!r || !r.contains(t)) && t._findTargetCorner(e, this
                                ._offset);
                        return i ? this._setCornerCursor(i, t) : n.cursor = t.hoverCursor || this
                            .hoverCursor, !0
                    },
                    _setCornerCursor: function (e, n) {
                        var r = this.upperCanvasEl.style;
                        if (e in t) r.cursor = this._getRotatedCornerCursor(e, n);
                        else {
                            if (e !== "mtr" || !n.hasRotatingPoint) return r.cursor = this.defaultCursor, !
                                1;
                            r.cursor = this.rotationCursor
                        }
                    },
                    _getRotatedCornerCursor: function (n, r) {
                        var i = Math.round(r.getAngle() % 360 / 45);
                        return i < 0 && (i += 8), i += t[n], i %= 8, e[i]
                    }
                })
            }(),
            function () {
                var e = Math.min,
                    t = Math.max;
                fabric.util.object.extend(fabric.Canvas.prototype, {
                    _shouldGroup: function (e, t) {
                        var n = this.getActiveObject();
                        return e.shiftKey && (this.getActiveGroup() || n && n !== t) && this.selection
                    },
                    _handleGrouping: function (e, t) {
                        if (t === this.getActiveGroup()) {
                            t = this.findTarget(e, !0);
                            if (!t || t.isType("group")) return
                        }
                        this.getActiveGroup() ? this._updateActiveGroup(t, e) : this._createActiveGroup(t,
                            e), this._activeGroup && this._activeGroup.saveCoords()
                    },
                    _updateActiveGroup: function (e, t) {
                        var n = this.getActiveGroup();
                        if (n.contains(e)) {
                            n.removeWithUpdate(e), this._resetObjectTransform(n), e.set("active", !1);
                            if (n.size() === 1) {
                                this.discardActiveGroup(t), this.setActiveObject(n.item(0));
                                return
                            }
                        } else n.addWithUpdate(e), this._resetObjectTransform(n);
                        this.fire("selection:created", {
                            target: n,
                            e: t
                        }), n.set("active", !0)
                    },
                    _createActiveGroup: function (e, t) {
                        if (this._activeObject && e !== this._activeObject) {
                            var n = this._createGroup(e);
                            this.setActiveGroup(n), this._activeObject = null, this.fire(
                                "selection:created", {
                                    target: n,
                                    e: t
                                })
                        }
                        e.set("active", !0)
                    },
                    _createGroup: function (e) {
                        var t = this.getObjects(),
                            n = t.indexOf(this._activeObject) < t.indexOf(e),
                            r = n ? [this._activeObject, e] : [e, this._activeObject];
                        return new fabric.Group(r, {
                            originX: "center",
                            originY: "center"
                        })
                    },
                    _groupSelectedObjects: function (e) {
                        var t = this._collectObjects();
                        t.length === 1 ? this.setActiveObject(t[0], e) : t.length > 1 && (t = new fabric
                            .Group(t.reverse(), {
                                originX: "center",
                                originY: "center"
                            }), this.setActiveGroup(t, e), t.saveCoords(), this.fire(
                                "selection:created", {
                                    target: t
                                }), this.renderAll())
                    },
                    _collectObjects: function () {
                        var n = [],
                            r, i = this._groupSelector.ex,
                            s = this._groupSelector.ey,
                            o = i + this._groupSelector.left,
                            u = s + this._groupSelector.top,
                            a = new fabric.Point(e(i, o), e(s, u)),
                            f = new fabric.Point(t(i, o), t(s, u)),
                            l = i === o && s === u;
                        for (var c = this._objects.length; c--;) {
                            r = this._objects[c];
                            if (!r || !r.selectable || !r.visible) continue;
                            if (r.intersectsWithRect(a, f) || r.isContainedWithinRect(a, f) || r
                                .containsPoint(a) || r.containsPoint(f)) {
                                r.set("active", !0), n.push(r);
                                if (l) break
                            }
                        }
                        return n
                    },
                    _maybeGroupObjects: function (e) {
                        this.selection && this._groupSelector && this._groupSelectedObjects(e);
                        var t = this.getActiveGroup();
                        t && (t.setObjectsCoords().setCoords(), t.isMoving = !1, this._setCursor(this
                            .defaultCursor)), this._groupSelector = null, this._currentTransform = null
                    }
                })
            }(), fabric.util.object.extend(fabric.StaticCanvas.prototype, {
                toDataURL: function (e) {
                    e || (e = {});
                    var t = e.format || "png",
                        n = e.quality || 1,
                        r = e.multiplier || 1,
                        i = {
                            left: e.left,
                            top: e.top,
                            width: e.width,
                            height: e.height
                        };
                    return r !== 1 ? this.__toDataURLWithMultiplier(t, n, i, r) : this.__toDataURL(t, n, i)
                },
                __toDataURL: function (e, t, n) {
                    this.renderAll(!0);
                    var r = this.upperCanvasEl || this.lowerCanvasEl,
                        i = this.__getCroppedCanvas(r, n);
                    e === "jpg" && (e = "jpeg");
                    var s = fabric.StaticCanvas.supports("toDataURLWithQuality") ? (i || r).toDataURL("image/" +
                        e, t) : (i || r).toDataURL("image/" + e);
                    return this.contextTop && this.clearContext(this.contextTop), this.renderAll(), i && (i =
                        null), s
                },
                __getCroppedCanvas: function (e, t) {
                    var n, r, i = "left" in t || "top" in t || "width" in t || "height" in t;
                    return i && (n = fabric.util.createCanvasElement(), r = n.getContext("2d"), n.width = t
                        .width || this.width, n.height = t.height || this.height, r.drawImage(e, -t.left ||
                            0, -t.top || 0)), n
                },
                __toDataURLWithMultiplier: function (e, t, n, r) {
                    var i = this.getWidth(),
                        s = this.getHeight(),
                        o = i * r,
                        u = s * r,
                        a = this.getActiveObject(),
                        f = this.getActiveGroup(),
                        l = this.contextTop || this.contextContainer;
                    this.setWidth(o).setHeight(u), l.scale(r, r), n.left && (n.left *= r), n.top && (n.top *=
                            r), n.width && (n.width *= r), n.height && (n.height *= r), f ? this
                        ._tempRemoveBordersControlsFromGroup(f) : a && this.deactivateAll && this
                        .deactivateAll(), this.renderAll(!0);
                    var c = this.__toDataURL(e, t, n);
                    return this.width = i, this.height = s, l.scale(1 / r, 1 / r), this.setWidth(i).setHeight(
                            s), f ? this._restoreBordersControlsOnGroup(f) : a && this.setActiveObject && this
                        .setActiveObject(a), this.contextTop && this.clearContext(this.contextTop), this
                        .renderAll(), c
                },
                toDataURLWithMultiplier: function (e, t, n) {
                    return this.toDataURL({
                        format: e,
                        multiplier: t,
                        quality: n
                    })
                },
                _tempRemoveBordersControlsFromGroup: function (e) {
                    e.origHasControls = e.hasControls, e.origBorderColor = e.borderColor, e.hasControls = !0, e
                        .borderColor = "rgba(0,0,0,0)", e.forEachObject(function (e) {
                            e.origBorderColor = e.borderColor, e.borderColor = "rgba(0,0,0,0)"
                        })
                },
                _restoreBordersControlsOnGroup: function (e) {
                    e.hideControls = e.origHideControls, e.borderColor = e.origBorderColor, e.forEachObject(
                        function (e) {
                            e.borderColor = e.origBorderColor, delete e.origBorderColor
                        })
                }
            }), fabric.util.object.extend(fabric.StaticCanvas.prototype, {
                loadFromDatalessJSON: function (e, t, n) {
                    return this.loadFromJSON(e, t, n)
                },
                loadFromJSON: function (e, t, n) {
                    if (!e) return;
                    var r = typeof e == "string" ? JSON.parse(e) : e;
                    this.clear();
                    var i = this;
                    return this._enlivenObjects(r.objects, function () {
                        i._setBgOverlay(r, t)
                    }, n), this
                },
                _setBgOverlay: function (e, t) {
                    var n = this,
                        r = {
                            backgroundColor: !1,
                            overlayColor: !1,
                            backgroundImage: !1,
                            overlayImage: !1
                        };
                    if (!e.backgroundImage && !e.overlayImage && !e.background && !e.overlay) {
                        t && t();
                        return
                    }
                    var i = function () {
                        r.backgroundImage && r.overlayImage && r.backgroundColor && r.overlayColor && (n
                            .renderAll(), t && t())
                    };
                    this.__setBgOverlay("backgroundImage", e.backgroundImage, r, i), this.__setBgOverlay(
                        "overlayImage", e.overlayImage, r, i), this.__setBgOverlay("backgroundColor", e
                        .background, r, i), this.__setBgOverlay("overlayColor", e.overlay, r, i), i()
                },
                __setBgOverlay: function (e, t, n, r) {
                    var i = this;
                    if (!t) {
                        n[e] = !0;
                        return
                    }
                    e === "backgroundImage" || e === "overlayImage" ? fabric.Image.fromObject(t, function (t) {
                        i[e] = t, n[e] = !0, r && r()
                    }) : this["set" + fabric.util.string.capitalize(e, !0)](t, function () {
                        n[e] = !0, r && r()
                    })
                },
                _enlivenObjects: function (e, t, n) {
                    var r = this;
                    e.length === 0 && t && t();
                    var i = this.renderOnAddRemove;
                    this.renderOnAddRemove = !1, fabric.util.enlivenObjects(e, function (e) {
                        e.forEach(function (e, t) {
                            r.insertAt(e, t, !0)
                        }), r.renderOnAddRemove = i, t && t()
                    }, null, n)
                },
                _toDataURL: function (e, t) {
                    this.clone(function (n) {
                        t(n.toDataURL(e))
                    })
                },
                _toDataURLWithMultiplier: function (e, t, n) {
                    this.clone(function (r) {
                        n(r.toDataURLWithMultiplier(e, t))
                    })
                },
                clone: function (e, t) {
                    var n = JSON.stringify(this.toJSON(t));
                    this.cloneWithoutData(function (t) {
                        t.loadFromJSON(n, function () {
                            e && e(t)
                        })
                    })
                },
                cloneWithoutData: function (e) {
                    var t = fabric.document.createElement("canvas");
                    t.width = this.getWidth(), t.height = this.getHeight();
                    var n = new fabric.Canvas(t);
                    n.clipTo = this.clipTo, this.backgroundImage ? (n.setBackgroundImage(this.backgroundImage
                            .src,
                            function () {
                                n.renderAll(), e && e(n)
                            }), n.backgroundImageOpacity = this.backgroundImageOpacity, n
                        .backgroundImageStretch = this.backgroundImageStretch) : e && e(n)
                }
            }),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend,
                    r = t.util.toFixed,
                    i = t.util.string.capitalize,
                    s = t.util.degreesToRadians,
                    o = t.StaticCanvas.supports("setLineDash");
                if (t.Object) return;
                t.Object = t.util.createClass({
                    type: "object",
                    originX: "left",
                    originY: "top",
                    top: 0,
                    left: 0,
                    width: 0,
                    height: 0,
                    scaleX: 1,
                    scaleY: 1,
                    flipX: !1,
                    flipY: !1,
                    opacity: 1,
                    angle: 0,
                    cornerSize: 12,
                    transparentCorners: !0,
                    hoverCursor: null,
                    padding: 0,
                    borderColor: "rgba(102,153,255,0.75)",
                    cornerColor: "rgba(102,153,255,0.5)",
                    centeredScaling: !1,
                    centeredRotation: !0,
                    fill: "rgb(0,0,0)",
                    fillRule: "source-over",
                    backgroundColor: "",
                    stroke: null,
                    strokeWidth: 1,
                    strokeDashArray: null,
                    strokeLineCap: "butt",
                    strokeLineJoin: "miter",
                    strokeMiterLimit: 10,
                    shadow: null,
                    borderOpacityWhenMoving: .4,
                    borderScaleFactor: 1,
                    transformMatrix: null,
                    minScaleLimit: .01,
                    selectable: !0,
                    evented: !0,
                    visible: !0,
                    hasControls: !0,
                    hasBorders: !0,
                    hasRotatingPoint: !0,
                    rotatingPointOffset: 40,
                    perPixelTargetFind: !1,
                    includeDefaultValues: !0,
                    clipTo: null,
                    lockMovementX: !1,
                    lockMovementY: !1,
                    lockRotation: !1,
                    lockScalingX: !1,
                    lockScalingY: !1,
                    lockUniScaling: !1,
                    stateProperties: "top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule shadow clipTo visible backgroundColor"
                        .split(" "),
                    initialize: function (e) {
                        e && this.setOptions(e)
                    },
                    _initGradient: function (e) {
                        e.fill && e.fill.colorStops && !(e.fill instanceof t.Gradient) && this.set("fill",
                            new t.Gradient(e.fill))
                    },
                    _initPattern: function (e) {
                        e.fill && e.fill.source && !(e.fill instanceof t.Pattern) && this.set("fill", new t
                            .Pattern(e.fill)), e.stroke && e.stroke.source && !(e.stroke instanceof t
                            .Pattern) && this.set("stroke", new t.Pattern(e.stroke))
                    },
                    _initClipping: function (e) {
                        if (!e.clipTo || typeof e.clipTo != "string") return;
                        var n = t.util.getFunctionBody(e.clipTo);
                        typeof n != "undefined" && (this.clipTo = new Function("ctx", n))
                    },
                    setOptions: function (e) {
                        for (var t in e) this.set(t, e[t]);
                        this._initGradient(e), this._initPattern(e), this._initClipping(e)
                    },
                    transform: function (e, t) {
                        e.globalAlpha = this.opacity;
                        var n = t ? this._getLeftTopCoords() : this.getCenterPoint();
                        e.translate(n.x, n.y), e.rotate(s(this.angle)), e.scale(this.scaleX * (this.flipX ?
                            -1 : 1), this.scaleY * (this.flipY ? -1 : 1))
                    },
                    toObject: function (e) {
                        var n = t.Object.NUM_FRACTION_DIGITS,
                            i = {
                                type: this.type,
                                originX: this.originX,
                                originY: this.originY,
                                left: r(this.left, n),
                                top: r(this.top, n),
                                width: r(this.width, n),
                                height: r(this.height, n),
                                fill: this.fill && this.fill.toObject ? this.fill.toObject() : this.fill,
                                stroke: this.stroke && this.stroke.toObject ? this.stroke.toObject() : this
                                    .stroke,
                                strokeWidth: r(this.strokeWidth, n),
                                strokeDashArray: this.strokeDashArray,
                                strokeLineCap: this.strokeLineCap,
                                strokeLineJoin: this.strokeLineJoin,
                                strokeMiterLimit: r(this.strokeMiterLimit, n),
                                scaleX: r(this.scaleX, n),
                                scaleY: r(this.scaleY, n),
                                angle: r(this.getAngle(), n),
                                flipX: this.flipX,
                                flipY: this.flipY,
                                opacity: r(this.opacity, n),
                                shadow: this.shadow && this.shadow.toObject ? this.shadow.toObject() : this
                                    .shadow,
                                visible: this.visible,
                                clipTo: this.clipTo && String(this.clipTo),
                                backgroundColor: this.backgroundColor
                            };
                        return this.includeDefaultValues || (i = this._removeDefaultValues(i)), t.util
                            .populateWithProperties(this, i, e), i
                    },
                    toDatalessObject: function (e) {
                        return this.toObject(e)
                    },
                    _removeDefaultValues: function (e) {
                        var n = t.util.getKlass(e.type).prototype,
                            r = n.stateProperties;
                        return r.forEach(function (t) {
                            e[t] === n[t] && delete e[t]
                        }), e
                    },
                    toString: function () {
                        return "#<fabric." + i(this.type) + ">"
                    },
                    get: function (e) {
                        return this[e]
                    },
                    set: function (e, t) {
                        if (typeof e == "object")
                            for (var n in e) this._set(n, e[n]);
                        else typeof t == "function" && e !== "clipTo" ? this._set(e, t(this.get(e))) : this
                            ._set(e, t);
                        return this
                    },
                    _set: function (e, n) {
                        var i = e === "scaleX" || e === "scaleY";
                        return i && (n = this._constrainScale(n)), e === "scaleX" && n < 0 ? (this.flipX = !
                                this.flipX, n *= -1) : e === "scaleY" && n < 0 ? (this.flipY = !this.flipY,
                                n *= -1) : e === "width" || e === "height" ? this.minScaleLimit = r(Math
                                .min(.1, 1 / Math.max(this.width, this.height)), 2) : e === "shadow" && n &&
                            !(n instanceof t.Shadow) && (n = new t.Shadow(n)), this[e] = n, this
                    },
                    toggle: function (e) {
                        var t = this.get(e);
                        return typeof t == "boolean" && this.set(e, !t), this
                    },
                    setSourcePath: function (e) {
                        return this.sourcePath = e, this
                    },
                    render: function (e, n) {
                        if (this.width === 0 || this.height === 0 || !this.visible) return;
                        e.save(), this._transform(e, n), this._setStrokeStyles(e), this._setFillStyles(e);
                        var r = this.transformMatrix;
                        r && this.group && (e.translate(-this.group.width / 2, -this.group.height / 2), e
                                .transform(r[0], r[1], r[2], r[3], r[4], r[5])), this._setShadow(e), this
                            .clipTo && t.util.clipContext(this, e), this._render(e, n), this.clipTo && e
                            .restore(), this._removeShadow(e), this.active && !n && (this.drawBorders(e),
                                this.drawControls(e)), e.restore()
                    },
                    _transform: function (e, t) {
                        var n = this.transformMatrix;
                        n && !this.group && e.setTransform(n[0], n[1], n[2], n[3], n[4], n[5]), t || this
                            .transform(e)
                    },
                    _setStrokeStyles: function (e) {
                        this.stroke && (e.lineWidth = this.strokeWidth, e.lineCap = this.strokeLineCap, e
                            .lineJoin = this.strokeLineJoin, e.miterLimit = this.strokeMiterLimit, e
                            .strokeStyle = this.stroke.toLive ? this.stroke.toLive(e) : this.stroke)
                    },
                    _setFillStyles: function (e) {
                        this.fill && (e.fillStyle = this.fill.toLive ? this.fill.toLive(e) : this.fill)
                    },
                    _setShadow: function (e) {
                        if (!this.shadow) return;
                        e.shadowColor = this.shadow.color, e.shadowBlur = this.shadow.blur, e
                            .shadowOffsetX = this.shadow.offsetX, e.shadowOffsetY = this.shadow.offsetY
                    },
                    _removeShadow: function (e) {
                        e.shadowColor = "", e.shadowBlur = e.shadowOffsetX = e.shadowOffsetY = 0
                    },
                    _renderFill: function (e) {
                        if (!this.fill) return;
                        this.fill.toLive && (e.save(), e.translate(-this.width / 2 + this.fill.offsetX || 0,
                                -this.height / 2 + this.fill.offsetY || 0)), e.fill(), this.fill.toLive && e
                            .restore(), this.shadow && !this.shadow.affectStroke && this._removeShadow(e)
                    },
                    _renderStroke: function (e) {
                        if (!this.stroke) return;
                        e.save(), this.strokeDashArray ? (1 & this.strokeDashArray.length && this
                                .strokeDashArray.push.apply(this.strokeDashArray, this.strokeDashArray), o ?
                                (e.setLineDash(this.strokeDashArray), this._stroke && this._stroke(e)) :
                                this._renderDashedStroke && this._renderDashedStroke(e), e.stroke()) : this
                            ._stroke ? this._stroke(e) : e.stroke(), this._removeShadow(e), e.restore()
                    },
                    clone: function (e, n) {
                        return this.constructor.fromObject ? this.constructor.fromObject(this.toObject(n),
                            e) : new t.Object(this.toObject(n))
                    },
                    cloneAsImage: function (e) {
                        var n = this.toDataURL();
                        return t.util.loadImage(n, function (n) {
                            e && e(new t.Image(n))
                        }), this
                    },
                    toDataURL: function (e) {
                        e || (e = {});
                        var n = t.util.createCanvasElement(),
                            r = this.getBoundingRect();
                        n.width = r.width, n.height = r.height, t.util.wrapElement(n, "div");
                        var i = new t.Canvas(n);
                        e.format === "jpg" && (e.format = "jpeg"), e.format === "jpeg" && (i
                            .backgroundColor = "#fff");
                        var s = {
                            active: this.get("active"),
                            left: this.getLeft(),
                            top: this.getTop()
                        };
                        this.set("active", !1), this.setPositionByOrigin(new t.Point(n.width / 2, n.height /
                            2), "center", "center");
                        var o = this.canvas;
                        i.add(this);
                        var u = i.toDataURL(e);
                        return this.set(s).setCoords(), this.canvas = o, i.dispose(), i = null, u
                    },
                    isType: function (e) {
                        return this.type === e
                    },
                    complexity: function () {
                        return 0
                    },
                    toJSON: function (e) {
                        return this.toObject(e)
                    },
                    setGradient: function (e, n) {
                        n || (n = {});
                        var r = {
                            colorStops: []
                        };
                        r.type = n.type || (n.r1 || n.r2 ? "radial" : "linear"), r.coords = {
                            x1: n.x1,
                            y1: n.y1,
                            x2: n.x2,
                            y2: n.y2
                        };
                        if (n.r1 || n.r2) r.coords.r1 = n.r1, r.coords.r2 = n.r2;
                        for (var i in n.colorStops) {
                            var s = new t.Color(n.colorStops[i]);
                            r.colorStops.push({
                                offset: i,
                                color: s.toRgb(),
                                opacity: s.getAlpha()
                            })
                        }
                        return this.set(e, t.Gradient.forObject(this, r))
                    },
                    setPatternFill: function (e) {
                        return this.set("fill", new t.Pattern(e))
                    },
                    setShadow: function (e) {
                        return this.set("shadow", new t.Shadow(e))
                    },
                    setColor: function (e) {
                        return this.set("fill", e), this
                    },
                    centerH: function () {
                        return this.canvas.centerObjectH(this), this
                    },
                    centerV: function () {
                        return this.canvas.centerObjectV(this), this
                    },
                    center: function () {
                        return this.canvas.centerObject(this), this
                    },
                    remove: function () {
                        return this.canvas.remove(this)
                    },
                    getLocalPointer: function (e, t) {
                        t = t || this.canvas.getPointer(e);
                        var n = this.translateToOriginPoint(this.getCenterPoint(), "left", "top");
                        return {
                            x: t.x - n.x,
                            y: t.y - n.y
                        }
                    }
                }), t.util.createAccessors(t.Object), t.Object.prototype.rotate = t.Object.prototype.setAngle, n(t
                    .Object.prototype, t.Observable), t.Object.NUM_FRACTION_DIGITS = 2, t.Object.__uid = 0
            }(typeof exports != "undefined" ? exports : this),
            function () {
                var e = fabric.util.degreesToRadians;
                fabric.util.object.extend(fabric.Object.prototype, {
                    translateToCenterPoint: function (t, n, r) {
                        var i = t.x,
                            s = t.y,
                            o = this.stroke ? this.strokeWidth : 0;
                        return n === "left" ? i = t.x + (this.getWidth() + o * this.scaleX) / 2 : n ===
                            "right" && (i = t.x - (this.getWidth() + o * this.scaleX) / 2), r === "top" ?
                            s = t.y + (this.getHeight() + o * this.scaleY) / 2 : r === "bottom" && (s = t
                                .y - (this.getHeight() + o * this.scaleY) / 2), fabric.util.rotatePoint(
                                new fabric.Point(i, s), t, e(this.angle))
                    },
                    translateToOriginPoint: function (t, n, r) {
                        var i = t.x,
                            s = t.y,
                            o = this.stroke ? this.strokeWidth : 0;
                        return n === "left" ? i = t.x - (this.getWidth() + o * this.scaleX) / 2 : n ===
                            "right" && (i = t.x + (this.getWidth() + o * this.scaleX) / 2), r === "top" ?
                            s = t.y - (this.getHeight() + o * this.scaleY) / 2 : r === "bottom" && (s = t
                                .y + (this.getHeight() + o * this.scaleY) / 2), fabric.util.rotatePoint(
                                new fabric.Point(i, s), t, e(this.angle))
                    },
                    getCenterPoint: function () {
                        var e = new fabric.Point(this.left, this.top);
                        return this.translateToCenterPoint(e, this.originX, this.originY)
                    },
                    getPointByOrigin: function (e, t) {
                        var n = this.getCenterPoint();
                        return this.translateToOriginPoint(n, e, t)
                    },
                    toLocalPoint: function (t, n, r) {
                        var i = this.getCenterPoint(),
                            s = this.stroke ? this.strokeWidth : 0,
                            o, u;
                        return n && r ? (n === "left" ? o = i.x - (this.getWidth() + s * this.scaleX) / 2 :
                            n === "right" ? o = i.x + (this.getWidth() + s * this.scaleX) / 2 : o = i.x,
                            r === "top" ? u = i.y - (this.getHeight() + s * this.scaleY) / 2 : r ===
                            "bottom" ? u = i.y + (this.getHeight() + s * this.scaleY) / 2 : u = i.y) : (
                            o = this.left, u = this.top), fabric.util.rotatePoint(new fabric.Point(t.x,
                            t.y), i, -e(this.angle)).subtractEquals(new fabric.Point(o, u))
                    },
                    setPositionByOrigin: function (e, t, n) {
                        var r = this.translateToCenterPoint(e, t, n),
                            i = this.translateToOriginPoint(r, this.originX, this.originY);
                        this.set("left", i.x), this.set("top", i.y)
                    },
                    adjustPosition: function (t) {
                        var n = e(this.angle),
                            r = this.getWidth() / 2,
                            i = Math.cos(n) * r,
                            s = Math.sin(n) * r,
                            o = this.getWidth(),
                            u = Math.cos(n) * o,
                            a = Math.sin(n) * o;
                        this.originX === "center" && t === "left" || this.originX === "right" && t ===
                            "center" ? (this.left -= i, this.top -= s) : this.originX === "left" && t ===
                            "center" || this.originX === "center" && t === "right" ? (this.left += i, this
                                .top += s) : this.originX === "left" && t === "right" ? (this.left += u,
                                this.top += a) : this.originX === "right" && t === "left" && (this.left -=
                                u, this.top -= a), this.setCoords(), this.originX = t
                    },
                    _getLeftTopCoords: function () {
                        return this.translateToOriginPoint(this.getCenterPoint(), "left", "center")
                    }
                })
            }(),
            function () {
                var e = fabric.util.degreesToRadians;
                fabric.util.object.extend(fabric.Object.prototype, {
                    oCoords: null,
                    intersectsWithRect: function (e, t) {
                        var n = this.oCoords,
                            r = new fabric.Point(n.tl.x, n.tl.y),
                            i = new fabric.Point(n.tr.x, n.tr.y),
                            s = new fabric.Point(n.bl.x, n.bl.y),
                            o = new fabric.Point(n.br.x, n.br.y),
                            u = fabric.Intersection.intersectPolygonRectangle([r, i, o, s], e, t);
                        return u.status === "Intersection"
                    },
                    intersectsWithObject: function (e) {
                        function t(e) {
                            return {
                                tl: new fabric.Point(e.tl.x, e.tl.y),
                                tr: new fabric.Point(e.tr.x, e.tr.y),
                                bl: new fabric.Point(e.bl.x, e.bl.y),
                                br: new fabric.Point(e.br.x, e.br.y)
                            }
                        }
                        var n = t(this.oCoords),
                            r = t(e.oCoords),
                            i = fabric.Intersection.intersectPolygonPolygon([n.tl, n.tr, n.br, n.bl], [r.tl,
                                r.tr, r.br, r.bl
                            ]);
                        return i.status === "Intersection"
                    },
                    isContainedWithinObject: function (e) {
                        var t = e.getBoundingRect(),
                            n = new fabric.Point(t.left, t.top),
                            r = new fabric.Point(t.left + t.width, t.top + t.height);
                        return this.isContainedWithinRect(n, r)
                    },
                    isContainedWithinRect: function (e, t) {
                        var n = this.getBoundingRect();
                        return n.left > e.x && n.left + n.width < t.x && n.top > e.y && n.top + n.height < t
                            .y
                    },
                    containsPoint: function (e) {
                        var t = this._getImageLines(this.oCoords),
                            n = this._findCrossPoints(e, t);
                        return n !== 0 && n % 2 === 1
                    },
                    _getImageLines: function (e) {
                        return {
                            topline: {
                                o: e.tl,
                                d: e.tr
                            },
                            rightline: {
                                o: e.tr,
                                d: e.br
                            },
                            bottomline: {
                                o: e.br,
                                d: e.bl
                            },
                            leftline: {
                                o: e.bl,
                                d: e.tl
                            }
                        }
                    },
                    _findCrossPoints: function (e, t) {
                        var n, r, i, s, o, u, a = 0,
                            f;
                        for (var l in t) {
                            f = t[l];
                            if (f.o.y < e.y && f.d.y < e.y) continue;
                            if (f.o.y >= e.y && f.d.y >= e.y) continue;
                            f.o.x === f.d.x && f.o.x >= e.x ? (o = f.o.x, u = e.y) : (n = 0, r = (f.d.y - f
                                    .o.y) / (f.d.x - f.o.x), i = e.y - n * e.x, s = f.o.y - r * f.o.x,
                                o = -(i - s) / (n - r), u = i + n * o), o >= e.x && (a += 1);
                            if (a === 2) break
                        }
                        return a
                    },
                    getBoundingRectWidth: function () {
                        return this.getBoundingRect().width
                    },
                    getBoundingRectHeight: function () {
                        return this.getBoundingRect().height
                    },
                    getBoundingRect: function () {
                        this.oCoords || this.setCoords();
                        var e = [this.oCoords.tl.x, this.oCoords.tr.x, this.oCoords.br.x, this.oCoords.bl
                                .x
                            ],
                            t = fabric.util.array.min(e),
                            n = fabric.util.array.max(e),
                            r = Math.abs(t - n),
                            i = [this.oCoords.tl.y, this.oCoords.tr.y, this.oCoords.br.y, this.oCoords.bl
                                .y
                            ],
                            s = fabric.util.array.min(i),
                            o = fabric.util.array.max(i),
                            u = Math.abs(s - o);
                        return {
                            left: t,
                            top: s,
                            width: r,
                            height: u
                        }
                    },
                    getWidth: function () {
                        return this.width * this.scaleX
                    },
                    getHeight: function () {
                        return this.height * this.scaleY
                    },
                    _constrainScale: function (e) {
                        return Math.abs(e) < this.minScaleLimit ? e < 0 ? -this.minScaleLimit : this
                            .minScaleLimit : e
                    },
                    scale: function (e) {
                        return e = this._constrainScale(e), e < 0 && (this.flipX = !this.flipX, this
                                .flipY = !this.flipY, e *= -1), this.scaleX = e, this.scaleY = e, this
                            .setCoords(), this
                    },
                    scaleToWidth: function (e) {
                        var t = this.getBoundingRectWidth() / this.getWidth();
                        return this.scale(e / this.width / t)
                    },
                    scaleToHeight: function (e) {
                        var t = this.getBoundingRectHeight() / this.getHeight();
                        return this.scale(e / this.height / t)
                    },
                    setCoords: function () {
                        var t = this.strokeWidth > 1 ? this.strokeWidth : 0,
                            n = this.padding,
                            r = e(this.angle);
                        this.currentWidth = (this.width + t) * this.scaleX + n * 2, this.currentHeight = (
                            this.height + t) * this.scaleY + n * 2, this.currentWidth < 0 && (this
                            .currentWidth = Math.abs(this.currentWidth));
                        var i = Math.sqrt(Math.pow(this.currentWidth / 2, 2) + Math.pow(this.currentHeight /
                                2, 2)),
                            s = Math.atan(isFinite(this.currentHeight / this.currentWidth) ? this
                                .currentHeight / this.currentWidth : 0),
                            o = Math.cos(s + r) * i,
                            u = Math.sin(s + r) * i,
                            a = Math.sin(r),
                            f = Math.cos(r),
                            l = this.getCenterPoint(),
                            c = {
                                x: l.x - o,
                                y: l.y - u
                            },
                            h = {
                                x: c.x + this.currentWidth * f,
                                y: c.y + this.currentWidth * a
                            },
                            p = {
                                x: h.x - this.currentHeight * a,
                                y: h.y + this.currentHeight * f
                            },
                            d = {
                                x: c.x - this.currentHeight * a,
                                y: c.y + this.currentHeight * f
                            },
                            v = {
                                x: c.x - this.currentHeight / 2 * a,
                                y: c.y + this.currentHeight / 2 * f
                            },
                            m = {
                                x: c.x + this.currentWidth / 2 * f,
                                y: c.y + this.currentWidth / 2 * a
                            },
                            g = {
                                x: h.x - this.currentHeight / 2 * a,
                                y: h.y + this.currentHeight / 2 * f
                            },
                            y = {
                                x: d.x + this.currentWidth / 2 * f,
                                y: d.y + this.currentWidth / 2 * a
                            },
                            b = {
                                x: m.x,
                                y: m.y
                            };
                        return this.oCoords = {
                            tl: c,
                            tr: h,
                            br: p,
                            bl: d,
                            ml: v,
                            mt: m,
                            mr: g,
                            mb: y,
                            mtr: b
                        }, this._setCornerCoords && this._setCornerCoords(), this
                    }
                })
            }(), fabric.util.object.extend(fabric.Object.prototype, {
                sendToBack: function () {
                    return this.group ? fabric.StaticCanvas.prototype.sendToBack.call(this.group, this) : this
                        .canvas.sendToBack(this), this
                },
                bringToFront: function () {
                    return this.group ? fabric.StaticCanvas.prototype.bringToFront.call(this.group, this) : this
                        .canvas.bringToFront(this), this
                },
                sendBackwards: function (e) {
                    return this.group ? fabric.StaticCanvas.prototype.sendBackwards.call(this.group, this, e) :
                        this.canvas.sendBackwards(this, e), this
                },
                bringForward: function (e) {
                    return this.group ? fabric.StaticCanvas.prototype.bringForward.call(this.group, this, e) :
                        this.canvas.bringForward(this, e), this
                },
                moveTo: function (e) {
                    return this.group ? fabric.StaticCanvas.prototype.moveTo.call(this.group, this, e) : this
                        .canvas.moveTo(this, e), this
                }
            }), fabric.util.object.extend(fabric.Object.prototype, {
                getSvgStyles: function () {
                    var e = this.fill ? this.fill.toLive ? "url(#SVGID_" + this.fill.id + ")" : this.fill :
                        "none",
                        t = this.stroke ? this.stroke.toLive ? "url(#SVGID_" + this.stroke.id + ")" : this
                        .stroke : "none",
                        n = this.strokeWidth ? this.strokeWidth : "0",
                        r = this.strokeDashArray ? this.strokeDashArray.join(" ") : "",
                        i = this.strokeLineCap ? this.strokeLineCap : "butt",
                        s = this.strokeLineJoin ? this.strokeLineJoin : "miter",
                        o = this.strokeMiterLimit ? this.strokeMiterLimit : "4",
                        u = typeof this.opacity != "undefined" ? this.opacity : "1",
                        a = this.visible ? "" : " visibility: hidden;",
                        f = this.shadow && this.type !== "text" ? "filter: url(#SVGID_" + this.shadow.id +
                        ");" : "";
                    return ["stroke: ", t, "; ", "stroke-width: ", n, "; ", "stroke-dasharray: ", r, "; ",
                        "stroke-linecap: ", i, "; ", "stroke-linejoin: ", s, "; ", "stroke-miterlimit: ", o,
                        "; ", "fill: ", e, "; ", "opacity: ", u, ";", f, a
                    ].join("")
                },
                getSvgTransform: function () {
                    var e = fabric.util.toFixed,
                        t = this.getAngle(),
                        n = this.getCenterPoint(),
                        r = fabric.Object.NUM_FRACTION_DIGITS,
                        i = "translate(" + e(n.x, r) + " " + e(n.y, r) + ")",
                        s = t !== 0 ? " rotate(" + e(t, r) + ")" : "",
                        o = this.scaleX === 1 && this.scaleY === 1 ? "" : " scale(" + e(this.scaleX, r) + " " +
                        e(this.scaleY, r) + ")",
                        u = this.flipX ? "matrix(-1 0 0 1 0 0) " : "",
                        a = this.flipY ? "matrix(1 0 0 -1 0 0)" : "";
                    return [i, s, o, u, a].join("")
                },
                _createBaseSVGMarkup: function () {
                    var e = [];
                    return this.fill && this.fill.toLive && e.push(this.fill.toSVG(this, !1)), this.stroke &&
                        this.stroke.toLive && e.push(this.stroke.toSVG(this, !1)), this.shadow && e.push(this
                            .shadow.toSVG(this)), e
                }
            }), fabric.util.object.extend(fabric.Object.prototype, {
                hasStateChanged: function () {
                    return this.stateProperties.some(function (e) {
                        return this.get(e) !== this.originalState[e]
                    }, this)
                },
                saveState: function (e) {
                    return this.stateProperties.forEach(function (e) {
                        this.originalState[e] = this.get(e)
                    }, this), e && e.stateProperties && e.stateProperties.forEach(function (e) {
                        this.originalState[e] = this.get(e)
                    }, this), this
                },
                setupState: function () {
                    return this.originalState = {}, this.saveState(), this
                }
            }),
            function () {
                var e = fabric.util.getPointer,
                    t = fabric.util.degreesToRadians,
                    n = typeof G_vmlCanvasManager != "undefined";
                fabric.util.object.extend(fabric.Object.prototype, {
                    _controlsVisibility: null,
                    _findTargetCorner: function (t, n) {
                        if (!this.hasControls || !this.active) return !1;
                        var r = e(t, this.canvas.upperCanvasEl),
                            i = r.x - n.left,
                            s = r.y - n.top,
                            o, u;
                        for (var a in this.oCoords) {
                            if (!this.isControlVisible(a)) continue;
                            if (a === "mtr" && !this.hasRotatingPoint) continue;
                            if (!(!this.get("lockUniScaling") || a !== "mt" && a !== "mr" && a !== "mb" &&
                                    a !== "ml")) continue;
                            u = this._getImageLines(this.oCoords[a].corner), o = this._findCrossPoints({
                                x: i,
                                y: s
                            }, u);
                            if (o !== 0 && o % 2 === 1) return this.__corner = a, a
                        }
                        return !1
                    },
                    _setCornerCoords: function () {
                        var e = this.oCoords,
                            n = t(this.angle),
                            r = t(45 - this.angle),
                            i = Math.sqrt(2 * Math.pow(this.cornerSize, 2)) / 2,
                            s = i * Math.cos(r),
                            o = i * Math.sin(r),
                            u = Math.sin(n),
                            a = Math.cos(n);
                        e.tl.corner = {
                            tl: {
                                x: e.tl.x - o,
                                y: e.tl.y - s
                            },
                            tr: {
                                x: e.tl.x + s,
                                y: e.tl.y - o
                            },
                            bl: {
                                x: e.tl.x - s,
                                y: e.tl.y + o
                            },
                            br: {
                                x: e.tl.x + o,
                                y: e.tl.y + s
                            }
                        }, e.tr.corner = {
                            tl: {
                                x: e.tr.x - o,
                                y: e.tr.y - s
                            },
                            tr: {
                                x: e.tr.x + s,
                                y: e.tr.y - o
                            },
                            br: {
                                x: e.tr.x + o,
                                y: e.tr.y + s
                            },
                            bl: {
                                x: e.tr.x - s,
                                y: e.tr.y + o
                            }
                        }, e.bl.corner = {
                            tl: {
                                x: e.bl.x - o,
                                y: e.bl.y - s
                            },
                            bl: {
                                x: e.bl.x - s,
                                y: e.bl.y + o
                            },
                            br: {
                                x: e.bl.x + o,
                                y: e.bl.y + s
                            },
                            tr: {
                                x: e.bl.x + s,
                                y: e.bl.y - o
                            }
                        }, e.br.corner = {
                            tr: {
                                x: e.br.x + s,
                                y: e.br.y - o
                            },
                            bl: {
                                x: e.br.x - s,
                                y: e.br.y + o
                            },
                            br: {
                                x: e.br.x + o,
                                y: e.br.y + s
                            },
                            tl: {
                                x: e.br.x - o,
                                y: e.br.y - s
                            }
                        }, e.ml.corner = {
                            tl: {
                                x: e.ml.x - o,
                                y: e.ml.y - s
                            },
                            tr: {
                                x: e.ml.x + s,
                                y: e.ml.y - o
                            },
                            bl: {
                                x: e.ml.x - s,
                                y: e.ml.y + o
                            },
                            br: {
                                x: e.ml.x + o,
                                y: e.ml.y + s
                            }
                        }, e.mt.corner = {
                            tl: {
                                x: e.mt.x - o,
                                y: e.mt.y - s
                            },
                            tr: {
                                x: e.mt.x + s,
                                y: e.mt.y - o
                            },
                            bl: {
                                x: e.mt.x - s,
                                y: e.mt.y + o
                            },
                            br: {
                                x: e.mt.x + o,
                                y: e.mt.y + s
                            }
                        }, e.mr.corner = {
                            tl: {
                                x: e.mr.x - o,
                                y: e.mr.y - s
                            },
                            tr: {
                                x: e.mr.x + s,
                                y: e.mr.y - o
                            },
                            bl: {
                                x: e.mr.x - s,
                                y: e.mr.y + o
                            },
                            br: {
                                x: e.mr.x + o,
                                y: e.mr.y + s
                            }
                        }, e.mb.corner = {
                            tl: {
                                x: e.mb.x - o,
                                y: e.mb.y - s
                            },
                            tr: {
                                x: e.mb.x + s,
                                y: e.mb.y - o
                            },
                            bl: {
                                x: e.mb.x - s,
                                y: e.mb.y + o
                            },
                            br: {
                                x: e.mb.x + o,
                                y: e.mb.y + s
                            }
                        }, e.mtr.corner = {
                            tl: {
                                x: e.mtr.x - o + u * this.rotatingPointOffset,
                                y: e.mtr.y - s - a * this.rotatingPointOffset
                            },
                            tr: {
                                x: e.mtr.x + s + u * this.rotatingPointOffset,
                                y: e.mtr.y - o - a * this.rotatingPointOffset
                            },
                            bl: {
                                x: e.mtr.x - s + u * this.rotatingPointOffset,
                                y: e.mtr.y + o - a * this.rotatingPointOffset
                            },
                            br: {
                                x: e.mtr.x + o + u * this.rotatingPointOffset,
                                y: e.mtr.y + s - a * this.rotatingPointOffset
                            }
                        }
                    },
                    drawBorders: function (e) {
                        if (!this.hasBorders) return this;
                        var t = this.padding,
                            n = t * 2,
                            r = ~~(this.strokeWidth / 2) * 2;
                        e.save(), e.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1, e
                            .strokeStyle = this.borderColor;
                        var i = 1 / this._constrainScale(this.scaleX),
                            s = 1 / this._constrainScale(this.scaleY);
                        e.lineWidth = 1 / this.borderScaleFactor, e.scale(i, s);
                        var o = this.getWidth(),
                            u = this.getHeight();
                        e.strokeRect(~~(-(o / 2) - t - r / 2 * this.scaleX) - .5, ~~(-(u / 2) - t - r / 2 *
                            this.scaleY) - .5, ~~(o + n + r * this.scaleX) + 1, ~~(u + n + r * this
                            .scaleY) + 1);
                        if (this.hasRotatingPoint && this.isControlVisible("mtr") && !this.get(
                                "lockRotation") && this.hasControls) {
                            var a = (this.flipY ? u + r * this.scaleY + t * 2 : -u - r * this.scaleY - t *
                                2) / 2;
                            e.beginPath(), e.moveTo(0, a), e.lineTo(0, a + (this.flipY ? this
                                    .rotatingPointOffset : -this.rotatingPointOffset)), e.closePath(), e
                                .stroke()
                        }
                        return e.restore(), this
                    },
                    drawControls: function (e) {
                        if (!this.hasControls) return this;
                        var t = this.cornerSize,
                            n = t / 2,
                            r = ~~(this.strokeWidth / 2),
                            i = -(this.width / 2),
                            s = -(this.height / 2),
                            o = this.padding / this.scaleX,
                            u = this.padding / this.scaleY,
                            a = n / this.scaleY,
                            f = n / this.scaleX,
                            l = (n - t) / this.scaleX,
                            c = (n - t) / this.scaleY,
                            h = this.height,
                            p = this.width,
                            d = this.transparentCorners ? "strokeRect" : "fillRect";
                        return e.save(), e.lineWidth = 1 / Math.max(this.scaleX, this.scaleY), e
                            .globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1, e.strokeStyle =
                            e.fillStyle = this.cornerColor, this._drawControl("tl", e, d, i - f - r - o, s -
                                a - r - u), this._drawControl("tr", e, d, i + p - f + r + o, s - a - r - u),
                            this._drawControl("tr", e, d, i - f - r - o, s + h + c + r + u), this
                            ._drawControl("br", e, d, i + p + l + r + o, s + h + c + r + u), this.get(
                                "lockUniScaling") || (this._drawControl("mt", e, d, i + p / 2 - f, s - a -
                                    r - u), this._drawControl("mb", e, d, i + p / 2 - f, s + h + c + r + u),
                                this._drawControl("mb", e, d, i + p + l + r + o, s + h / 2 - a), this
                                ._drawControl("ml", e, d, i - f - r - o, s + h / 2 - a)), this
                            .hasRotatingPoint && this._drawControl("mtr", e, d, i + p / 2 - f, this.flipY ?
                                s + h + this.rotatingPointOffset / this.scaleY - this.cornerSize / this
                                .scaleX / 2 + r + u : s - this.rotatingPointOffset / this.scaleY - this
                                .cornerSize / this.scaleY / 2 - r - u), e.restore(), this
                    },
                    _drawControl: function (e, t, r, i, s) {
                        var o = this.cornerSize / this.scaleX,
                            u = this.cornerSize / this.scaleY;
                        this.isControlVisible(e) && (n || this.transparentCorners || t.clearRect(i, s, o,
                            u), t[r](i, s, o, u))
                    },
                    isControlVisible: function (e) {
                        return this._getControlsVisibility()[e]
                    },
                    setControlVisible: function (e, t) {
                        return this._getControlsVisibility()[e] = t, this
                    },
                    setControlsVisibility: function (e) {
                        e || (e = {});
                        for (var t in e) this.setControlVisible(t, e[t]);
                        return this
                    },
                    _getControlsVisibility: function () {
                        return this._controlsVisibility || (this._controlsVisibility = {
                            tl: !0,
                            tr: !0,
                            br: !0,
                            bl: !0,
                            ml: !0,
                            mt: !0,
                            mr: !0,
                            mb: !0,
                            mtr: !0
                        }), this._controlsVisibility
                    }
                })
            }(), fabric.util.object.extend(fabric.StaticCanvas.prototype, {
                FX_DURATION: 500,
                fxCenterObjectH: function (e, t) {
                    t = t || {};
                    var n = function () {},
                        r = t.onComplete || n,
                        i = t.onChange || n,
                        s = this;
                    return fabric.util.animate({
                        startValue: e.get("left"),
                        endValue: this.getCenter().left,
                        duration: this.FX_DURATION,
                        onChange: function (t) {
                            e.set("left", t), s.renderAll(), i()
                        },
                        onComplete: function () {
                            e.setCoords(), r()
                        }
                    }), this
                },
                fxCenterObjectV: function (e, t) {
                    t = t || {};
                    var n = function () {},
                        r = t.onComplete || n,
                        i = t.onChange || n,
                        s = this;
                    return fabric.util.animate({
                        startValue: e.get("top"),
                        endValue: this.getCenter().top,
                        duration: this.FX_DURATION,
                        onChange: function (t) {
                            e.set("top", t), s.renderAll(), i()
                        },
                        onComplete: function () {
                            e.setCoords(), r()
                        }
                    }), this
                },
                fxRemove: function (e, t) {
                    t = t || {};
                    var n = function () {},
                        r = t.onComplete || n,
                        i = t.onChange || n,
                        s = this;
                    return fabric.util.animate({
                        startValue: e.get("opacity"),
                        endValue: 0,
                        duration: this.FX_DURATION,
                        onStart: function () {
                            e.set("active", !1)
                        },
                        onChange: function (t) {
                            e.set("opacity", t), s.renderAll(), i()
                        },
                        onComplete: function () {
                            s.remove(e), r()
                        }
                    }), this
                }
            }), fabric.util.object.extend(fabric.Object.prototype, {
                animate: function () {
                    if (arguments[0] && typeof arguments[0] == "object") {
                        var e = [],
                            t, n;
                        for (t in arguments[0]) e.push(t);
                        for (var r = 0, i = e.length; r < i; r++) t = e[r], n = r !== i - 1, this._animate(t,
                            arguments[0][t], arguments[1], n)
                    } else this._animate.apply(this, arguments);
                    return this
                },
                _animate: function (e, t, n, r) {
                    var i = this,
                        s;
                    t = t.toString(), n ? n = fabric.util.object.clone(n) : n = {}, ~e.indexOf(".") && (s = e
                        .split("."));
                    var o = s ? this.get(s[0])[s[1]] : this.get(e);
                    "from" in n || (n.from = o), ~t.indexOf("=") ? t = o + parseFloat(t.replace("=", "")) : t =
                        parseFloat(t), fabric.util.animate({
                            startValue: n.from,
                            endValue: t,
                            byValue: n.by,
                            easing: n.easing,
                            duration: n.duration,
                            abort: n.abort && function () {
                                return n.abort.call(i)
                            },
                            onChange: function (t) {
                                s ? i[s[0]][s[1]] = t : i.set(e, t);
                                if (r) return;
                                n.onChange && n.onChange()
                            },
                            onComplete: function () {
                                if (r) return;
                                i.setCoords(), n.onComplete && n.onComplete()
                            }
                        })
                }
            }),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend,
                    r = {
                        x1: 1,
                        x2: 1,
                        y1: 1,
                        y2: 1
                    },
                    i = t.StaticCanvas.supports("setLineDash");
                if (t.Line) {
                    t.warn("fabric.Line is already defined");
                    return
                }
                t.Line = t.util.createClass(t.Object, {
                        type: "line",
                        initialize: function (e, t) {
                            t = t || {}, e || (e = [0, 0, 0, 0]), this.callSuper("initialize", t), this.set(
                                "x1", e[0]), this.set("y1", e[1]), this.set("x2", e[2]), this.set("y2", e[
                                3]), this._setWidthHeight(t)
                        },
                        _setWidthHeight: function (e) {
                            e || (e = {}), this.set("width", Math.abs(this.x2 - this.x1) || 1), this.set(
                                "height", Math.abs(this.y2 - this.y1) || 1), this.set("left", "left" in e ?
                                e.left : Math.min(this.x1, this.x2) + this.width / 2), this.set("top",
                                "top" in e ? e.top : Math.min(this.y1, this.y2) + this.height / 2)
                        },
                        _set: function (e, t) {
                            return this[e] = t, e in r && this._setWidthHeight(), this
                        },
                        _render: function (e) {
                            e.beginPath();
                            var t = this.group && this.group.type === "path-group";
                            t && !this.transformMatrix && e.translate(-this.group.width / 2 + this.left, -this
                                .group.height / 2 + this.top);
                            if (!this.strokeDashArray || this.strokeDashArray && i) {
                                var n = this.x1 <= this.x2 ? -1 : 1,
                                    r = this.y1 <= this.y2 ? -1 : 1;
                                e.moveTo(this.width === 1 ? 0 : n * this.width / 2, this.height === 1 ? 0 : r *
                                    this.height / 2), e.lineTo(this.width === 1 ? 0 : n * -1 * this.width /
                                    2, this.height === 1 ? 0 : r * -1 * this.height / 2)
                            }
                            e.lineWidth = this.strokeWidth;
                            var s = e.strokeStyle;
                            e.strokeStyle = this.stroke || e.fillStyle, this._renderStroke(e), e.strokeStyle = s
                        },
                        _renderDashedStroke: function (e) {
                            var n = this.x1 <= this.x2 ? -1 : 1,
                                r = this.y1 <= this.y2 ? -1 : 1,
                                i = this.width === 1 ? 0 : n * this.width / 2,
                                s = this.height === 1 ? 0 : r * this.height / 2;
                            e.beginPath(), t.util.drawDashedLine(e, i, s, -i, -s, this.strokeDashArray), e
                                .closePath()
                        },
                        toObject: function (e) {
                            return n(this.callSuper("toObject", e), {
                                x1: this.get("x1"),
                                y1: this.get("y1"),
                                x2: this.get("x2"),
                                y2: this.get("y2")
                            })
                        },
                        toSVG: function (e) {
                            var t = this._createBaseSVGMarkup();
                            return t.push("<line ", 'x1="', this.get("x1"), '" y1="', this.get("y1"), '" x2="',
                                this.get("x2"), '" y2="', this.get("y2"), '" style="', this.getSvgStyles(),
                                '"/>'), e ? e(t.join("")) : t.join("")
                        },
                        complexity: function () {
                            return 1
                        }
                    }), t.Line.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")), t.Line
                    .fromElement = function (e, r) {
                        var i = t.parseAttributes(e, t.Line.ATTRIBUTE_NAMES),
                            s = [i.x1 || 0, i.y1 || 0, i.x2 || 0, i.y2 || 0];
                        return new t.Line(s, n(i, r))
                    }, t.Line.fromObject = function (e) {
                        var n = [e.x1, e.y1, e.x2, e.y2];
                        return new t.Line(n, e)
                    }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";

                function i(e) {
                    return "radius" in e && e.radius > 0
                }
                var t = e.fabric || (e.fabric = {}),
                    n = Math.PI * 2,
                    r = t.util.object.extend;
                if (t.Circle) {
                    t.warn("fabric.Circle is already defined.");
                    return
                }
                t.Circle = t.util.createClass(t.Object, {
                        type: "circle",
                        initialize: function (e) {
                            e = e || {}, this.set("radius", e.radius || 0), this.callSuper("initialize", e)
                        },
                        _set: function (e, t) {
                            return this.callSuper("_set", e, t), e === "radius" && this.setRadius(t), this
                        },
                        toObject: function (e) {
                            return r(this.callSuper("toObject", e), {
                                radius: this.get("radius")
                            })
                        },
                        toSVG: function (e) {
                            var t = this._createBaseSVGMarkup();
                            return t.push("<circle ", 'cx="0" cy="0" ', 'r="', this.radius, '" style="', this
                                .getSvgStyles(), '" transform="', this.getSvgTransform(), '"/>'), e ? e(t
                                .join("")) : t.join("")
                        },
                        _render: function (e, t) {
                            e.beginPath(), e.globalAlpha = this.group ? e.globalAlpha * this.opacity : this
                                .opacity, e.arc(t ? this.left : 0, t ? this.top : 0, this.radius, 0, n, !1), e
                                .closePath(), this._renderFill(e), this._renderStroke(e)
                        },
                        getRadiusX: function () {
                            return this.get("radius") * this.get("scaleX")
                        },
                        getRadiusY: function () {
                            return this.get("radius") * this.get("scaleY")
                        },
                        setRadius: function (e) {
                            this.radius = e, this.set("width", e * 2).set("height", e * 2)
                        },
                        complexity: function () {
                            return 1
                        }
                    }), t.Circle.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")), t.Circle
                    .fromElement = function (e, n) {
                        n || (n = {});
                        var s = t.parseAttributes(e, t.Circle.ATTRIBUTE_NAMES);
                        if (!i(s)) throw new Error("value of `r` attribute is required and can not be negative");
                        "left" in s && (s.left -= n.width / 2 || 0), "top" in s && (s.top -= n.height / 2 || 0);
                        var o = new t.Circle(r(s, n));
                        return o.cx = parseFloat(e.getAttribute("cx")) || 0, o.cy = parseFloat(e.getAttribute("cy")) ||
                            0, o
                    }, t.Circle.fromObject = function (e) {
                        return new t.Circle(e)
                    }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {});
                if (t.Triangle) {
                    t.warn("fabric.Triangle is already defined");
                    return
                }
                t.Triangle = t.util.createClass(t.Object, {
                    type: "triangle",
                    initialize: function (e) {
                        e = e || {}, this.callSuper("initialize", e), this.set("width", e.width || 100).set(
                            "height", e.height || 100)
                    },
                    _render: function (e) {
                        var t = this.width / 2,
                            n = this.height / 2;
                        e.beginPath(), e.moveTo(-t, n), e.lineTo(0, -n), e.lineTo(t, n), e.closePath(), this
                            ._renderFill(e), this._renderStroke(e)
                    },
                    _renderDashedStroke: function (e) {
                        var n = this.width / 2,
                            r = this.height / 2;
                        e.beginPath(), t.util.drawDashedLine(e, -n, r, 0, -r, this.strokeDashArray), t.util
                            .drawDashedLine(e, 0, -r, n, r, this.strokeDashArray), t.util.drawDashedLine(e,
                                n, r, -n, r, this.strokeDashArray), e.closePath()
                    },
                    toSVG: function (e) {
                        var t = this._createBaseSVGMarkup(),
                            n = this.width / 2,
                            r = this.height / 2,
                            i = [-n + " " + r, "0 " + -r, n + " " + r].join(",");
                        return t.push("<polygon ", 'points="', i, '" style="', this.getSvgStyles(),
                            '" transform="', this.getSvgTransform(), '"/>'), e ? e(t.join("")) : t.join(
                            "")
                    },
                    complexity: function () {
                        return 1
                    }
                }), t.Triangle.fromObject = function (e) {
                    return new t.Triangle(e)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = Math.PI * 2,
                    r = t.util.object.extend;
                if (t.Ellipse) {
                    t.warn("fabric.Ellipse is already defined.");
                    return
                }
                t.Ellipse = t.util.createClass(t.Object, {
                        type: "ellipse",
                        rx: 0,
                        ry: 0,
                        initialize: function (e) {
                            e = e || {}, this.callSuper("initialize", e), this.set("rx", e.rx || 0), this.set(
                                "ry", e.ry || 0), this.set("width", this.get("rx") * 2), this.set("height",
                                this.get("ry") * 2)
                        },
                        toObject: function (e) {
                            return r(this.callSuper("toObject", e), {
                                rx: this.get("rx"),
                                ry: this.get("ry")
                            })
                        },
                        toSVG: function (e) {
                            var t = this._createBaseSVGMarkup();
                            return t.push("<ellipse ", 'rx="', this.get("rx"), '" ry="', this.get("ry"),
                                '" style="', this.getSvgStyles(), '" transform="', this.getSvgTransform(),
                                '"/>'), e ? e(t.join("")) : t.join("")
                        },
                        render: function (e, t) {
                            if (this.rx === 0 || this.ry === 0) return;
                            return this.callSuper("render", e, t)
                        },
                        _render: function (e, t) {
                            e.beginPath(), e.save(), e.globalAlpha = this.group ? e.globalAlpha * this.opacity :
                                this.opacity, this.transformMatrix && this.group && e.translate(this.cx, this
                                    .cy), e.transform(1, 0, 0, this.ry / this.rx, 0, 0), e.arc(t ? this.left :
                                    0, t ? this.top : 0, this.rx, 0, n, !1), this._renderFill(e), this
                                ._renderStroke(e), e.restore()
                        },
                        complexity: function () {
                            return 1
                        }
                    }), t.Ellipse.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")), t.Ellipse
                    .fromElement = function (e, n) {
                        n || (n = {});
                        var i = t.parseAttributes(e, t.Ellipse.ATTRIBUTE_NAMES),
                            s = i.left,
                            o = i.top;
                        "left" in i && (i.left -= n.width / 2 || 0), "top" in i && (i.top -= n.height / 2 || 0);
                        var u = new t.Ellipse(r(i, n));
                        return u.cx = s || 0, u.cy = o || 0, u
                    }, t.Ellipse.fromObject = function (e) {
                        return new t.Ellipse(e)
                    }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";

                function i(e) {
                    return e.left = e.left || 0, e.top = e.top || 0, e
                }
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                if (t.Rect) {
                    console.warn("fabric.Rect is already defined");
                    return
                }
                var r = t.Object.prototype.stateProperties.concat();
                r.push("rx", "ry", "x", "y"), t.Rect = t.util.createClass(t.Object, {
                        stateProperties: r,
                        type: "rect",
                        rx: 0,
                        ry: 0,
                        x: 0,
                        y: 0,
                        strokeDashArray: null,
                        initialize: function (e) {
                            e = e || {}, this.callSuper("initialize", e), this._initRxRy(), this.x = e.x || 0,
                                this.y = e.y || 0
                        },
                        _initRxRy: function () {
                            this.rx && !this.ry ? this.ry = this.rx : this.ry && !this.rx && (this.rx = this.ry)
                        },
                        _render: function (e) {
                            var t = this.rx || 0,
                                n = this.ry || 0,
                                r = -this.width / 2,
                                i = -this.height / 2,
                                s = this.width,
                                o = this.height,
                                u = this.group && this.group.type === "path-group";
                            e.beginPath(), e.globalAlpha = u ? e.globalAlpha * this.opacity : this.opacity, this
                                .transformMatrix && u && e.translate(this.width / 2 + this.x, this.height / 2 +
                                    this.y), !this.transformMatrix && u && e.translate(-this.group.width / 2 +
                                    this.width / 2 + this.x, -this.group.height / 2 + this.height / 2 + this.y);
                            var a = t !== 0 || n !== 0;
                            e.moveTo(r + t, i), e.lineTo(r + s - t, i), a && e.quadraticCurveTo(r + s, i, r + s,
                                    i + n, r + s, i + n), e.lineTo(r + s, i + o - n), a && e.quadraticCurveTo(
                                    r + s, i + o, r + s - t, i + o, r + s - t, i + o), e.lineTo(r + t, i + o),
                                a && e.quadraticCurveTo(r, i + o, r, i + o - n, r, i + o - n), e.lineTo(r, i +
                                    n), a && e.quadraticCurveTo(r, i, r + t, i, r + t, i), e.closePath(), this
                                ._renderFill(e), this._renderStroke(e)
                        },
                        _renderDashedStroke: function (e) {
                            var n = -this.width / 2,
                                r = -this.height / 2,
                                i = this.width,
                                s = this.height;
                            e.beginPath(), t.util.drawDashedLine(e, n, r, n + i, r, this.strokeDashArray), t
                                .util.drawDashedLine(e, n + i, r, n + i, r + s, this.strokeDashArray), t.util
                                .drawDashedLine(e, n + i, r + s, n, r + s, this.strokeDashArray), t.util
                                .drawDashedLine(e, n, r + s, n, r, this.strokeDashArray), e.closePath()
                        },
                        _normalizeLeftTopProperties: function (e) {
                            return "left" in e && this.set("left", e.left + this.getWidth() / 2), this.set("x",
                                    e.left || 0), "top" in e && this.set("top", e.top + this.getHeight() / 2),
                                this.set("y", e.top || 0), this
                        },
                        toObject: function (e) {
                            var t = n(this.callSuper("toObject", e), {
                                rx: this.get("rx") || 0,
                                ry: this.get("ry") || 0,
                                x: this.get("x"),
                                y: this.get("y")
                            });
                            return this.includeDefaultValues || this._removeDefaultValues(t), t
                        },
                        toSVG: function (e) {
                            var t = this._createBaseSVGMarkup();
                            return t.push("<rect ", 'x="', -1 * this.width / 2, '" y="', -1 * this.height / 2,
                                '" rx="', this.get("rx"), '" ry="', this.get("ry"), '" width="', this.width,
                                '" height="', this.height, '" style="', this.getSvgStyles(),
                                '" transform="', this.getSvgTransform(), '"/>'), e ? e(t.join("")) : t.join(
                                "")
                        },
                        complexity: function () {
                            return 1
                        }
                    }), t.Rect.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")), t.Rect
                    .fromElement = function (e, r) {
                        if (!e) return null;
                        var s = t.parseAttributes(e, t.Rect.ATTRIBUTE_NAMES);
                        s = i(s);
                        var o = new t.Rect(n(r ? t.util.object.clone(r) : {}, s));
                        return o._normalizeLeftTopProperties(s), o
                    }, t.Rect.fromObject = function (e) {
                        return new t.Rect(e)
                    }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.toFixed;
                if (t.Polyline) {
                    t.warn("fabric.Polyline is already defined");
                    return
                }
                t.Polyline = t.util.createClass(t.Object, {
                    type: "polyline",
                    initialize: function (e, t, n) {
                        t = t || {}, this.set("points", e), this.callSuper("initialize", t), this
                            ._calcDimensions(n)
                    },
                    _calcDimensions: function (e) {
                        return t.Polygon.prototype._calcDimensions.call(this, e)
                    },
                    toObject: function (e) {
                        return t.Polygon.prototype.toObject.call(this, e)
                    },
                    toSVG: function (e) {
                        var t = [],
                            r = this._createBaseSVGMarkup();
                        for (var i = 0, s = this.points.length; i < s; i++) t.push(n(this.points[i].x, 2),
                            ",", n(this.points[i].y, 2), " ");
                        return r.push("<polyline ", 'points="', t.join(""), '" style="', this
                            .getSvgStyles(), '" transform="', this.getSvgTransform(), '"/>'), e ? e(r
                            .join(
                                "")) : r.join("")
                    },
                    _render: function (e) {
                        var t;
                        e.beginPath(), e.moveTo(this.points[0].x, this.points[0].y);
                        for (var n = 0, r = this.points.length; n < r; n++) t = this.points[n], e.lineTo(t
                            .x, t.y);
                        this._renderFill(e), this._renderStroke(e)
                    },
                    _renderDashedStroke: function (e) {
                        var n, r;
                        e.beginPath();
                        for (var i = 0, s = this.points.length; i < s; i++) n = this.points[i], r = this
                            .points[i + 1] || n, t.util.drawDashedLine(e, n.x, n.y, r.x, r.y, this
                                .strokeDashArray)
                    },
                    complexity: function () {
                        return this.get("points").length
                    }
                }), t.Polyline.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(), t.Polyline.fromElement = function (e,
                    n) {
                    if (!e) return null;
                    n || (n = {});
                    var r = t.parsePointsAttribute(e.getAttribute("points")),
                        i = t.parseAttributes(e, t.Polyline.ATTRIBUTE_NAMES);
                    return t.util.normalizePoints(r, n), new t.Polyline(r, t.util.object.extend(i, n), !0)
                }, t.Polyline.fromObject = function (e) {
                    var n = e.points;
                    return new t.Polyline(n, e, !0)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend,
                    r = t.util.array.min,
                    i = t.util.array.max,
                    s = t.util.toFixed;
                if (t.Polygon) {
                    t.warn("fabric.Polygon is already defined");
                    return
                }
                t.Polygon = t.util.createClass(t.Object, {
                        type: "polygon",
                        initialize: function (e, t, n) {
                            t = t || {}, this.points = e, this.callSuper("initialize", t), this._calcDimensions(
                                n)
                        },
                        _calcDimensions: function (e) {
                            var t = this.points,
                                n = r(t, "x"),
                                s = r(t, "y"),
                                o = i(t, "x"),
                                u = i(t, "y");
                            this.width = o - n || 1, this.height = u - s || 1, this.minX = n, this.minY = s;
                            if (e) return;
                            var a = this.width / 2 + this.minX,
                                f = this.height / 2 + this.minY;
                            this.points.forEach(function (e) {
                                e.x -= a, e.y -= f
                            }, this)
                        },
                        toObject: function (e) {
                            return n(this.callSuper("toObject", e), {
                                points: this.points.concat()
                            })
                        },
                        toSVG: function (e) {
                            var t = [],
                                n = this._createBaseSVGMarkup();
                            for (var r = 0, i = this.points.length; r < i; r++) t.push(s(this.points[r].x, 2),
                                ",", s(this.points[r].y, 2), " ");
                            return n.push("<polygon ", 'points="', t.join(""), '" style="', this.getSvgStyles(),
                                '" transform="', this.getSvgTransform(), '"/>'), e ? e(n.join("")) : n.join(
                                "")
                        },
                        _render: function (e) {
                            var t;
                            e.beginPath(), e.moveTo(this.points[0].x, this.points[0].y);
                            for (var n = 0, r = this.points.length; n < r; n++) t = this.points[n], e.lineTo(t
                                .x, t.y);
                            this._renderFill(e);
                            if (this.stroke || this.strokeDashArray) e.closePath(), this._renderStroke(e)
                        },
                        _renderDashedStroke: function (e) {
                            var n, r;
                            e.beginPath();
                            for (var i = 0, s = this.points.length; i < s; i++) n = this.points[i], r = this
                                .points[i + 1] || this.points[0], t.util.drawDashedLine(e, n.x, n.y, r.x, r.y,
                                    this.strokeDashArray);
                            e.closePath()
                        },
                        complexity: function () {
                            return this.points.length
                        }
                    }), t.Polygon.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(), t
                    .Polygon.fromElement = function (e, r) {
                        if (!e) return null;
                        r || (r = {});
                        var i = t.parsePointsAttribute(e.getAttribute("points")),
                            s = t.parseAttributes(e, t.Polygon.ATTRIBUTE_NAMES);
                        return t.util.normalizePoints(i, r), new t.Polygon(i, n(s, r), !0)
                    }, t.Polygon.fromObject = function (e) {
                        return new t.Polygon(e.points, e, !0)
                    }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                function a(e) {
                    return e[0] === "H" ? e[1] : e[e.length - 2]
                }

                function f(e) {
                    return e[0] === "V" ? e[1] : e[e.length - 1]
                }
                var t = {
                    m: 2,
                    l: 2,
                    h: 1,
                    v: 1,
                    c: 6,
                    s: 4,
                    q: 4,
                    t: 2,
                    a: 7
                };
                "use strict";
                var n = e.fabric || (e.fabric = {}),
                    r = n.util.array.min,
                    i = n.util.array.max,
                    s = n.util.object.extend,
                    o = Object.prototype.toString,
                    u = n.util.drawArc;
                if (n.Path) {
                    n.warn("fabric.Path is already defined");
                    return
                }
                n.Path = n.util.createClass(n.Object, {
                    type: "path",
                    initialize: function (e, t) {
                        t = t || {}, this.setOptions(t);
                        if (!e) throw new Error("`path` argument is required");
                        var n = o.call(e) === "[object Array]";
                        this.path = n ? e : e.match && e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);
                        if (!this.path) return;
                        n || (this.path = this._parsePath()), this._initializePath(t), t.sourcePath && this
                            .setSourcePath(t.sourcePath)
                    },
                    _initializePath: function (e) {
                        var t = "width" in e && e.width != null,
                            n = "height" in e && e.width != null,
                            r = "left" in e,
                            i = "top" in e,
                            o = r ? this.left : 0,
                            u = i ? this.top : 0;
                        !t || !n ? (s(this, this._parseDimensions()), t && (this.width = e.width), n && (
                                this.height = e.height)) : (i || (this.top = this.height / 2), r || (this
                                .left = this.width / 2)), this.pathOffset = this.pathOffset || this
                            ._calculatePathOffset(o, u)
                    },
                    _calculatePathOffset: function (e, t) {
                        return {
                            x: this.left - e - this.width / 2,
                            y: this.top - t - this.height / 2
                        }
                    },
                    _render: function (e) {
                        var t, n = null,
                            r = 0,
                            i = 0,
                            s = 0,
                            o = 0,
                            a, f, l, c, h = -(this.width / 2 + this.pathOffset.x),
                            p = -(this.height / 2 + this.pathOffset.y),
                            d;
                        for (var v = 0, m = this.path.length; v < m; ++v) {
                            t = this.path[v];
                            switch (t[0]) {
                                case "l":
                                    r += t[1], i += t[2], e.lineTo(r + h, i + p);
                                    break;
                                case "L":
                                    r = t[1], i = t[2], e.lineTo(r + h, i + p);
                                    break;
                                case "h":
                                    r += t[1], e.lineTo(r + h, i + p);
                                    break;
                                case "H":
                                    r = t[1], e.lineTo(r + h, i + p);
                                    break;
                                case "v":
                                    i += t[1], e.lineTo(r + h, i + p);
                                    break;
                                case "V":
                                    i = t[1], e.lineTo(r + h, i + p);
                                    break;
                                case "m":
                                    r += t[1], i += t[2], d = !n || n[0] !== "m" && n[0] !== "M" ?
                                        "moveTo" : "lineTo", e[d](r + h, i + p);
                                    break;
                                case "M":
                                    r = t[1], i = t[2], d = !n || n[0] !== "m" && n[0] !== "M" ? "moveTo" :
                                        "lineTo", e[d](r + h, i + p);
                                    break;
                                case "c":
                                    a = r + t[5], f = i + t[6], s = r + t[3], o = i + t[4], e.bezierCurveTo(
                                            r + t[1] + h, i + t[2] + p, s + h, o + p, a + h, f + p), r = a,
                                        i = f;
                                    break;
                                case "C":
                                    r = t[5], i = t[6], s = t[3], o = t[4], e.bezierCurveTo(t[1] + h, t[2] +
                                        p, s + h, o + p, r + h, i + p);
                                    break;
                                case "s":
                                    a = r + t[3], f = i + t[4], s = s ? 2 * r - s : r, o = o ? 2 * i - o :
                                        i, e.bezierCurveTo(s + h, o + p, r + t[1] + h, i + t[2] + p, a + h,
                                            f + p), s = r + t[1], o = i + t[2], r = a, i = f;
                                    break;
                                case "S":
                                    a = t[3], f = t[4], s = 2 * r - s, o = 2 * i - o, e.bezierCurveTo(s + h,
                                        o + p, t[1] + h, t[2] + p, a + h, f + p), r = a, i = f, s = t[
                                        1], o = t[2];
                                    break;
                                case "q":
                                    a = r + t[3], f = i + t[4], s = r + t[1], o = i + t[2], e
                                        .quadraticCurveTo(s + h, o + p, a + h, f + p), r = a, i = f;
                                    break;
                                case "Q":
                                    a = t[3], f = t[4], e.quadraticCurveTo(t[1] + h, t[2] + p, a + h, f +
                                        p), r = a, i = f, s = t[1], o = t[2];
                                    break;
                                case "t":
                                    a = r + t[1], f = i + t[2], n[0].match(/[QqTt]/) === null ? (s = r, o =
                                            i) : n[0] === "t" ? (s = 2 * r - l, o = 2 * i - c) : n[0] ===
                                        "q" && (s = 2 * r - s, o = 2 * i - o), l = s, c = o, e
                                        .quadraticCurveTo(s + h, o + p, a + h, f + p), r = a, i = f, s = r +
                                        t[1], o = i + t[2];
                                    break;
                                case "T":
                                    a = t[1], f = t[2], s = 2 * r - s, o = 2 * i - o, e.quadraticCurveTo(s +
                                        h, o + p, a + h, f + p), r = a, i = f;
                                    break;
                                case "a":
                                    u(e, r + h, i + p, [t[1], t[2], t[3], t[4], t[5], t[6] + r + h, t[7] +
                                        i + p
                                    ]), r += t[6], i += t[7];
                                    break;
                                case "A":
                                    u(e, r + h, i + p, [t[1], t[2], t[3], t[4], t[5], t[6] + h, t[7] + p]),
                                        r = t[6], i = t[7];
                                    break;
                                case "z":
                                case "Z":
                                    e.closePath()
                            }
                            n = t
                        }
                    },
                    render: function (e, t) {
                        if (!this.visible) return;
                        e.save();
                        var r = this.transformMatrix;
                        r && e.transform(r[0], r[1], r[2], r[3], r[4], r[5]), t || this.transform(e), this
                            ._setStrokeStyles(e), this._setFillStyles(e), this._setShadow(e), this.clipTo &&
                            n.util.clipContext(this, e), e.beginPath(), this._render(e), this._renderFill(
                                e), this._renderStroke(e), this.clipTo && e.restore(), this._removeShadow(
                            e), !
                            t && this.active && (this.drawBorders(e), this.drawControls(e)), e.restore()
                    },
                    toString: function () {
                        return "#<fabric.Path (" + this.complexity() + '): { "top": ' + this.top +
                            ', "left": ' + this.left + " }>"
                    },
                    toObject: function (e) {
                        var t = s(this.callSuper("toObject", e), {
                            path: this.path,
                            pathOffset: this.pathOffset
                        });
                        return this.sourcePath && (t.sourcePath = this.sourcePath), this.transformMatrix &&
                            (t.transformMatrix = this.transformMatrix), t
                    },
                    toDatalessObject: function (e) {
                        var t = this.toObject(e);
                        return this.sourcePath && (t.path = this.sourcePath), delete t.sourcePath, t
                    },
                    toSVG: function (e) {
                        var t = [],
                            n = this._createBaseSVGMarkup();
                        for (var r = 0, i = this.path.length; r < i; r++) t.push(this.path[r].join(" "));
                        var s = t.join(" ");
                        return n.push('<g transform="', this.group ? "" : this.getSvgTransform(), '">',
                            "<path ", 'd="', s, '" style="', this.getSvgStyles(),
                            '" transform="translate(', -this.width / 2, " ", -this.height / 2, ")",
                            '" stroke-linecap="round" ', "/>", "</g>"), e ? e(n.join("")) : n.join("")
                    },
                    complexity: function () {
                        return this.path.length
                    },
                    _parsePath: function () {
                        var e = [],
                            n = [],
                            r, i, s = /(-?\.\d+)|(-?\d+(\.\d+)?)/g,
                            o, u;
                        for (var a = 0, f, l = this.path.length; a < l; a++) {
                            r = this.path[a], u = r.slice(1).trim(), n.length = 0;
                            while (o = s.exec(u)) n.push(o[0]);
                            f = [r.charAt(0)];
                            for (var c = 0, h = n.length; c < h; c++) i = parseFloat(n[c]), isNaN(i) || f
                                .push(i);
                            var p = f[0].toLowerCase(),
                                d = t[p];
                            if (f.length - 1 > d)
                                for (var v = 1, m = f.length; v < m; v += d) e.push([f[0]].concat(f.slice(v,
                                    v + d)));
                            else e.push(f)
                        }
                        return e
                    },
                    _parseDimensions: function () {
                        var e = [],
                            t = [],
                            n = {};
                        this.path.forEach(function (r, i) {
                            this._getCoordsFromCommand(r, i, e, t, n)
                        }, this);
                        var s = r(e),
                            o = r(t),
                            u = i(e),
                            a = i(t),
                            f = u - s,
                            l = a - o,
                            c = {
                                left: this.left + (s + f / 2),
                                top: this.top + (o + l / 2),
                                width: f,
                                height: l
                            };
                        return c
                    },
                    _getCoordsFromCommand: function (e, t, n, r, i) {
                        var s = !1;
                        e[0] !== "H" && (i.x = t === 0 ? a(e) : a(this.path[t - 1])), e[0] !== "V" && (i.y =
                            t === 0 ? f(e) : f(this.path[t - 1])), e[0] === e[0].toLowerCase() && (s = !
                            0);
                        var o = this._getXY(e, s, i),
                            u = parseInt(o.x, 10);
                        isNaN(u) || n.push(u), u = parseInt(o.y, 10), isNaN(u) || r.push(u)
                    },
                    _getXY: function (e, t, n) {
                        var r = t ? n.x + a(e) : e[0] === "V" ? n.x : a(e),
                            i = t ? n.y + f(e) : e[0] === "H" ? n.y : f(e);
                        return {
                            x: r,
                            y: i
                        }
                    }
                }), n.Path.fromObject = function (e, t) {
                    typeof e.path == "string" ? n.loadSVGFromURL(e.path, function (r) {
                        var i = r[0],
                            s = e.path;
                        delete e.path, n.util.object.extend(i, e), i.setSourcePath(s), t(i)
                    }) : t(new n.Path(e.path, e))
                }, n.Path.ATTRIBUTE_NAMES = n.SHARED_ATTRIBUTES.concat(["d"]), n.Path.fromElement = function (e, t,
                    r) {
                    var i = n.parseAttributes(e, n.Path.ATTRIBUTE_NAMES);
                    t && t(new n.Path(i.d, s(i, r)))
                }, n.Path.async = !0
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend,
                    r = t.util.array.invoke,
                    i = t.Object.prototype.toObject;
                if (t.PathGroup) {
                    t.warn("fabric.PathGroup is already defined");
                    return
                }
                t.PathGroup = t.util.createClass(t.Path, {
                    type: "path-group",
                    fill: "",
                    initialize: function (e, t) {
                        t = t || {}, this.paths = e || [];
                        for (var n = this.paths.length; n--;) this.paths[n].group = this;
                        this.setOptions(t), this.setCoords(), t.sourcePath && this.setSourcePath(t
                            .sourcePath)
                    },
                    render: function (e) {
                        if (!this.visible) return;
                        e.save();
                        var n = this.transformMatrix;
                        n && e.transform(n[0], n[1], n[2], n[3], n[4], n[5]), this.transform(e), this
                            ._setShadow(e), this.clipTo && t.util.clipContext(this, e);
                        for (var r = 0, i = this.paths.length; r < i; ++r) this.paths[r].render(e, !0);
                        this.clipTo && e.restore(), this._removeShadow(e), this.active && (this.drawBorders(
                            e), this.drawControls(e)), e.restore()
                    },
                    _set: function (e, t) {
                        if (e === "fill" && t && this.isSameColor()) {
                            var n = this.paths.length;
                            while (n--) this.paths[n]._set(e, t)
                        }
                        return this.callSuper("_set", e, t)
                    },
                    toObject: function (e) {
                        var t = n(i.call(this, e), {
                            paths: r(this.getObjects(), "toObject", e)
                        });
                        return this.sourcePath && (t.sourcePath = this.sourcePath), t
                    },
                    toDatalessObject: function (e) {
                        var t = this.toObject(e);
                        return this.sourcePath && (t.paths = this.sourcePath), t
                    },
                    toSVG: function (e) {
                        var t = this.getObjects(),
                            n = ["<g ", 'style="', this.getSvgStyles(), '" ', 'transform="', this
                                .getSvgTransform(), '" ', ">"
                            ];
                        for (var r = 0, i = t.length; r < i; r++) n.push(t[r].toSVG(e));
                        return n.push("</g>"), e ? e(n.join("")) : n.join("")
                    },
                    toString: function () {
                        return "#<fabric.PathGroup (" + this.complexity() + "): { top: " + this.top +
                            ", left: " + this.left + " }>"
                    },
                    isSameColor: function () {
                        var e = this.getObjects()[0].get("fill");
                        return this.getObjects().every(function (t) {
                            return t.get("fill") === e
                        })
                    },
                    complexity: function () {
                        return this.paths.reduce(function (e, t) {
                            return e + (t && t.complexity ? t.complexity() : 0)
                        }, 0)
                    },
                    getObjects: function () {
                        return this.paths
                    }
                }), t.PathGroup.fromObject = function (e, n) {
                    typeof e.paths == "string" ? t.loadSVGFromURL(e.paths, function (r) {
                        var i = e.paths;
                        delete e.paths;
                        var s = t.util.groupSVGElements(r, e, i);
                        n(s)
                    }) : t.util.enlivenObjects(e.paths, function (r) {
                        delete e.paths, n(new t.PathGroup(r, e))
                    })
                }, t.PathGroup.async = !0
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend,
                    r = t.util.array.min,
                    i = t.util.array.max,
                    s = t.util.array.invoke;
                if (t.Group) return;
                var o = {
                    lockMovementX: !0,
                    lockMovementY: !0,
                    lockRotation: !0,
                    lockScalingX: !0,
                    lockScalingY: !0,
                    lockUniScaling: !0
                };
                t.Group = t.util.createClass(t.Object, t.Collection, {
                    type: "group",
                    initialize: function (e, t) {
                        t = t || {}, this._objects = e || [];
                        for (var r = this._objects.length; r--;) this._objects[r].group = this;
                        this.originalState = {}, this.callSuper("initialize"), this._calcBounds(), this
                            ._updateObjectsCoords(), t && n(this, t), this._setOpacityIfSame(), this
                            .setCoords(!0), this.saveCoords()
                    },
                    _updateObjectsCoords: function () {
                        this.forEachObject(this._updateObjectCoords, this)
                    },
                    _updateObjectCoords: function (e) {
                        var t = e.getLeft(),
                            n = e.getTop();
                        e.set({
                            originalLeft: t,
                            originalTop: n,
                            left: t - this.left,
                            top: n - this.top
                        }), e.setCoords(), e.__origHasControls = e.hasControls, e.hasControls = !1
                    },
                    toString: function () {
                        return "#<fabric.Group: (" + this.complexity() + ")>"
                    },
                    addWithUpdate: function (e) {
                        return this._restoreObjectsState(), this._objects.push(e), e.group = this, this
                            .forEachObject(this._setObjectActive, this), this._calcBounds(), this
                            ._updateObjectsCoords(), this
                    },
                    _setObjectActive: function (e) {
                        e.set("active", !0), e.group = this
                    },
                    removeWithUpdate: function (e) {
                        return this._moveFlippedObject(e), this._restoreObjectsState(), this.forEachObject(
                                this._setObjectActive, this), this.remove(e), this._calcBounds(), this
                            ._updateObjectsCoords(), this
                    },
                    _onObjectAdded: function (e) {
                        e.group = this
                    },
                    _onObjectRemoved: function (e) {
                        delete e.group, e.set("active", !1)
                    },
                    delegatedProperties: {
                        fill: !0,
                        opacity: !0,
                        fontFamily: !0,
                        fontWeight: !0,
                        fontSize: !0,
                        fontStyle: !0,
                        lineHeight: !0,
                        textDecoration: !0,
                        textAlign: !0,
                        backgroundColor: !0
                    },
                    _set: function (e, t) {
                        if (e in this.delegatedProperties) {
                            var n = this._objects.length;
                            this[e] = t;
                            while (n--) this._objects[n].set(e, t)
                        } else this[e] = t
                    },
                    toObject: function (e) {
                        return n(this.callSuper("toObject", e), {
                            objects: s(this._objects, "toObject", e)
                        })
                    },
                    render: function (e, n) {
                        if (!this.visible) return;
                        e.save(), this.transform(e), this.clipTo && t.util.clipContext(this, e);
                        for (var r = 0, i = this._objects.length; r < i; r++) this._renderObject(this
                            ._objects[r], e);
                        this.clipTo && e.restore(), !n && this.active && (this.drawBorders(e), this
                            .drawControls(e)), e.restore()
                    },
                    _renderObject: function (e, t) {
                        var n = e.borderScaleFactor,
                            r = e.hasRotatingPoint,
                            i = Math.max(this.scaleX, this.scaleY);
                        if (!e.visible) return;
                        e.borderScaleFactor = i, e.hasRotatingPoint = !1, e.render(t), e.borderScaleFactor =
                            n, e.hasRotatingPoint = r
                    },
                    _restoreObjectsState: function () {
                        return this._objects.forEach(this._restoreObjectState, this), this
                    },
                    _moveFlippedObject: function (e) {
                        var t = e.get("originX"),
                            n = e.get("originY"),
                            r = e.getCenterPoint();
                        e.set({
                            originX: "center",
                            originY: "center",
                            left: r.x,
                            top: r.y
                        }), this._toggleFlipping(e);
                        var i = e.getPointByOrigin(t, n);
                        return e.set({
                            originX: t,
                            originY: n,
                            left: i.x,
                            top: i.y
                        }), this
                    },
                    _toggleFlipping: function (e) {
                        this.flipX && (e.toggle("flipX"), e.set("left", -e.get("left")), e.setAngle(-e
                            .getAngle())), this.flipY && (e.toggle("flipY"), e.set("top", -e.get(
                            "top")), e.setAngle(-e.getAngle()))
                    },
                    _restoreObjectState: function (e) {
                        return this._setObjectPosition(e), e.setCoords(), e.hasControls = e
                            .__origHasControls, delete e.__origHasControls, e.set("active", !1), e
                            .setCoords(), delete e.group, this
                    },
                    _setObjectPosition: function (e) {
                        var t = this.getLeft(),
                            n = this.getTop(),
                            r = this._getRotatedLeftTop(e);
                        e.set({
                            angle: e.getAngle() + this.getAngle(),
                            left: t + r.left,
                            top: n + r.top,
                            scaleX: e.get("scaleX") * this.get("scaleX"),
                            scaleY: e.get("scaleY") * this.get("scaleY")
                        })
                    },
                    _getRotatedLeftTop: function (e) {
                        var t = this.getAngle() * (Math.PI / 180);
                        return {
                            left: -Math.sin(t) * e.getTop() * this.get("scaleY") + Math.cos(t) * e
                                .getLeft() * this.get("scaleX"),
                            top: Math.cos(t) * e.getTop() * this.get("scaleY") + Math.sin(t) * e.getLeft() *
                                this.get("scaleX")
                        }
                    },
                    destroy: function () {
                        return this._objects.forEach(this._moveFlippedObject, this), this
                            ._restoreObjectsState()
                    },
                    saveCoords: function () {
                        return this._originalLeft = this.get("left"), this._originalTop = this.get("top"),
                            this
                    },
                    hasMoved: function () {
                        return this._originalLeft !== this.get("left") || this._originalTop !== this.get(
                            "top")
                    },
                    setObjectsCoords: function () {
                        return this.forEachObject(function (e) {
                            e.setCoords()
                        }), this
                    },
                    _setOpacityIfSame: function () {
                        var e = this.getObjects(),
                            t = e[0] ? e[0].get("opacity") : 1,
                            n = e.every(function (e) {
                                return e.get("opacity") === t
                            });
                        n && (this.opacity = t)
                    },
                    _calcBounds: function () {
                        var e = [],
                            t = [],
                            n;
                        for (var r = 0, i = this._objects.length; r < i; ++r) {
                            n = this._objects[r], n.setCoords();
                            for (var s in n.oCoords) e.push(n.oCoords[s].x), t.push(n.oCoords[s].y)
                        }
                        this.set(this._getBounds(e, t))
                    },
                    _getBounds: function (e, t) {
                        var n = r(e),
                            s = i(e),
                            o = r(t),
                            u = i(t),
                            a = s - n || 0,
                            f = u - o || 0;
                        return {
                            width: a,
                            height: f,
                            left: n + a / 2 || 0,
                            top: o + f / 2 || 0
                        }
                    },
                    toSVG: function (e) {
                        var t = ["<g ", 'transform="', this.getSvgTransform(), '">'];
                        for (var n = 0, r = this._objects.length; n < r; n++) t.push(this._objects[n].toSVG(
                            e));
                        return t.push("</g>"), e ? e(t.join("")) : t.join("")
                    },
                    get: function (e) {
                        if (e in o) {
                            if (this[e]) return this[e];
                            for (var t = 0, n = this._objects.length; t < n; t++)
                                if (this._objects[t][e]) return !0;
                            return !1
                        }
                        return e in this.delegatedProperties ? this._objects[0] && this._objects[0].get(e) :
                            this[e]
                    }
                }), t.Group.fromObject = function (e, n) {
                    t.util.enlivenObjects(e.objects, function (r) {
                        delete e.objects, n && n(new t.Group(r, e))
                    })
                }, t.Group.async = !0
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = fabric.util.object.extend;
                e.fabric || (e.fabric = {});
                if (e.fabric.Image) {
                    fabric.warn("fabric.Image is already defined.");
                    return
                }
                fabric.Image = fabric.util.createClass(fabric.Object, {
                        type: "image",
                        crossOrigin: "",
                        initialize: function (e, t) {
                            t || (t = {}), this.filters = [], this.callSuper("initialize", t), this
                                ._initElement(e, t), this._initConfig(t), t.filters && (this.filters = t
                                    .filters, this.applyFilters())
                        },
                        getElement: function () {
                            return this._element
                        },
                        setElement: function (e, t) {
                            return this._element = e, this._originalElement = e, this._initConfig(), this
                                .filters.length !== 0 && this.applyFilters(t), this
                        },
                        setCrossOrigin: function (e) {
                            return this.crossOrigin = e, this._element.crossOrigin = e, this
                        },
                        getOriginalSize: function () {
                            var e = this.getElement();
                            return {
                                width: e.width,
                                height: e.height
                            }
                        },
                        render: function (e, t) {
                            if (!this.visible) return;
                            e.save();
                            var n = this.transformMatrix,
                                r = this.group && this.group.type === "path-group";
                            r && e.translate(-this.group.width / 2 + this.width / 2, -this.group.height / 2 +
                                    this.height / 2), n && e.transform(n[0], n[1], n[2], n[3], n[4], n[5]), t ||
                                this.transform(e), e.save(), this._setShadow(e), this.clipTo && fabric.util
                                .clipContext(this, e), this._render(e), this.shadow && !this.shadow
                                .affectStroke && this._removeShadow(e), this._renderStroke(e), this.clipTo && e
                                .restore(), e.restore(), this.active && !t && (this.drawBorders(e), this
                                    .drawControls(e)), e.restore()
                        },
                        _stroke: function (e) {
                            e.save(), this._setStrokeStyles(e), e.beginPath(), e.strokeRect(-this.width / 2, -
                                this.height / 2, this.width, this.height), e.closePath(), e.restore()
                        },
                        _renderDashedStroke: function (e) {
                            var t = -this.width / 2,
                                n = -this.height / 2,
                                r = this.width,
                                i = this.height;
                            e.save(), this._setStrokeStyles(e), e.beginPath(), fabric.util.drawDashedLine(e, t,
                                n, t + r, n, this.strokeDashArray), fabric.util.drawDashedLine(e, t + r, n,
                                t + r, n + i, this.strokeDashArray), fabric.util.drawDashedLine(e, t + r,
                                n + i, t, n + i, this.strokeDashArray), fabric.util.drawDashedLine(e, t, n +
                                i, t, n, this.strokeDashArray), e.closePath(), e.restore()
                        },
                        toObject: function (e) {
                            return t(this.callSuper("toObject", e), {
                                src: this._originalElement.src || this._originalElement._src,
                                filters: this.filters.map(function (e) {
                                    return e && e.toObject()
                                }),
                                crossOrigin: this.crossOrigin
                            })
                        },
                        toSVG: function (e) {
                            var t = [];
                            t.push('<g transform="', this.getSvgTransform(), '">', '<image xlink:href="', this
                                .getSvgSrc(), '" style="', this.getSvgStyles(), '" transform="translate(' +
                                -this.width / 2 + " " + -this.height / 2 + ")", '" width="', this.width,
                                '" height="', this.height, '" preserveAspectRatio="none"', "></image>");
                            if (this.stroke || this.strokeDashArray) {
                                var n = this.fill;
                                this.fill = null, t.push("<rect ", 'x="', -1 * this.width / 2, '" y="', -1 *
                                    this.height / 2, '" width="', this.width, '" height="', this.height,
                                    '" style="', this.getSvgStyles(), '"/>'), this.fill = n
                            }
                            return t.push("</g>"), e ? e(t.join("")) : t.join("")
                        },
                        getSrc: function () {
                            return this.getElement().src || this.getElement()._src
                        },
                        toString: function () {
                            return '#<fabric.Image: { src: "' + this.getSrc() + '" }>'
                        },
                        clone: function (e, t) {
                            this.constructor.fromObject(this.toObject(t), e)
                        },
                        applyFilters: function (e) {
                            if (this.filters.length === 0) {
                                this._element = this._originalElement, e && e();
                                return
                            }
                            var t = this._originalElement,
                                n = fabric.util.createCanvasElement(),
                                r = fabric.util.createImage(),
                                i = this;
                            return n.width = t.width, n.height = t.height, n.getContext("2d").drawImage(t, 0, 0,
                                t.width, t.height), this.filters.forEach(function (e) {
                                e && e.applyTo(n)
                            }), r.width = t.width, r.height = t.height, fabric.isLikelyNode ? (r.src = n
                                .toBuffer(undefined, fabric.Image.pngCompression), i._element = r, e && e()
                            ) : (r.onload = function () {
                                i._element = r, e && e(), r.onload = n = t = null
                            }, r.src = n.toDataURL("image/png")), this
                        },
                        _render: function (e) {
                            e.drawImage(this._element, -this.width / 2, -this.height / 2, this.width, this
                                .height)
                        },
                        _resetWidthHeight: function () {
                            var e = this.getElement();
                            this.set("width", e.width), this.set("height", e.height)
                        },
                        _initElement: function (e) {
                            this.setElement(fabric.util.getById(e)), fabric.util.addClass(this.getElement(),
                                fabric.Image.CSS_CANVAS)
                        },
                        _initConfig: function (e) {
                            e || (e = {}), this.setOptions(e), this._setWidthHeight(e), this._element
                                .crossOrigin = this.crossOrigin
                        },
                        _initFilters: function (e, t) {
                            e.filters && e.filters.length ? fabric.util.enlivenObjects(e.filters, function (e) {
                                t && t(e)
                            }, "fabric.Image.filters") : t && t()
                        },
                        _setWidthHeight: function (e) {
                            this.width = "width" in e ? e.width : this.getElement().width || 0, this.height =
                                "height" in e ? e.height : this.getElement().height || 0
                        },
                        complexity: function () {
                            return 1
                        }
                    }), fabric.Image.CSS_CANVAS = "canvas-img", fabric.Image.prototype.getSvgSrc = fabric.Image
                    .prototype.getSrc, fabric.Image.fromObject = function (e, t) {
                        fabric.util.loadImage(e.src, function (n) {
                            fabric.Image.prototype._initFilters.call(e, e, function (r) {
                                e.filters = r || [];
                                var i = new fabric.Image(n, e);
                                t && t(i)
                            })
                        }, null, e.crossOrigin)
                    }, fabric.Image.fromURL = function (e, t, n) {
                        fabric.util.loadImage(e, function (e) {
                            t(new fabric.Image(e, n))
                        }, null, n && n.crossOrigin)
                    }, fabric.Image.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat("x y width height xlink:href"
                        .split(" ")), fabric.Image.fromElement = function (e, n, r) {
                        var i = fabric.parseAttributes(e, fabric.Image.ATTRIBUTE_NAMES);
                        fabric.Image.fromURL(i["xlink:href"], n, t(r ? fabric.util.object.clone(r) : {}, i))
                    }, fabric.Image.async = !0, fabric.Image.pngCompression = 1
            }(typeof exports != "undefined" ? exports : this), fabric.util.object.extend(fabric.Object.prototype, {
                _getAngleValueForStraighten: function () {
                    var e = this.getAngle() % 360;
                    return e > 0 ? Math.round((e - 1) / 90) * 90 : Math.round(e / 90) * 90
                },
                straighten: function () {
                    return this.setAngle(this._getAngleValueForStraighten()), this
                },
                fxStraighten: function (e) {
                    e = e || {};
                    var t = function () {},
                        n = e.onComplete || t,
                        r = e.onChange || t,
                        i = this;
                    return fabric.util.animate({
                        startValue: this.get("angle"),
                        endValue: this._getAngleValueForStraighten(),
                        duration: this.FX_DURATION,
                        onChange: function (e) {
                            i.setAngle(e), r()
                        },
                        onComplete: function () {
                            i.setCoords(), n()
                        },
                        onStart: function () {
                            i.set("active", !1)
                        }
                    }), this
                }
            }), fabric.util.object.extend(fabric.StaticCanvas.prototype, {
                straightenObject: function (e) {
                    return e.straighten(), this.renderAll(), this
                },
                fxStraightenObject: function (e) {
                    return e.fxStraighten({
                        onChange: this.renderAll.bind(this)
                    }), this
                }
            }), fabric.Image.filters = fabric.Image.filters || {}, fabric.Image.filters.BaseFilter = fabric.util
            .createClass({
                type: "BaseFilter",
                toObject: function () {
                    return {
                        type: this.type
                    }
                },
                toJSON: function () {
                    return this.toObject()
                }
            }),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                t.Image.filters.Brightness = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Brightness",
                    initialize: function (e) {
                        e = e || {}, this.brightness = e.brightness || 100
                    },
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = this.brightness;
                        for (var s = 0, o = r.length; s < o; s += 4) r[s] += i, r[s + 1] += i, r[s + 2] +=
                            i;
                        t.putImageData(n, 0, 0)
                    },
                    toObject: function () {
                        return n(this.callSuper("toObject"), {
                            brightness: this.brightness
                        })
                    }
                }), t.Image.filters.Brightness.fromObject = function (e) {
                    return new t.Image.filters.Brightness(e)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                t.Image.filters.Convolute = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Convolute",
                    initialize: function (e) {
                        e = e || {}, this.opaque = e.opaque, this.matrix = e.matrix || [0, 0, 0, 0, 1, 0, 0,
                            0, 0
                        ];
                        var n = t.util.createCanvasElement();
                        this.tmpCtx = n.getContext("2d")
                    },
                    _createImageData: function (e, t) {
                        return this.tmpCtx.createImageData(e, t)
                    },
                    applyTo: function (e) {
                        var t = this.matrix,
                            n = e.getContext("2d"),
                            r = n.getImageData(0, 0, e.width, e.height),
                            i = Math.round(Math.sqrt(t.length)),
                            s = Math.floor(i / 2),
                            o = r.data,
                            u = r.width,
                            a = r.height,
                            f = u,
                            l = a,
                            c = this._createImageData(f, l),
                            h = c.data,
                            p = this.opaque ? 1 : 0;
                        for (var d = 0; d < l; d++)
                            for (var v = 0; v < f; v++) {
                                var m = d,
                                    g = v,
                                    y = (d * f + v) * 4,
                                    b = 0,
                                    w = 0,
                                    E = 0,
                                    S = 0;
                                for (var x = 0; x < i; x++)
                                    for (var T = 0; T < i; T++) {
                                        var N = m + x - s,
                                            C = g + T - s;
                                        if (N < 0 || N > a || C < 0 || C > u) continue;
                                        var k = (N * u + C) * 4,
                                            L = t[x * i + T];
                                        b += o[k] * L, w += o[k + 1] * L, E += o[k + 2] * L, S += o[k + 3] *
                                            L
                                    }
                                h[y] = b, h[y + 1] = w, h[y + 2] = E, h[y + 3] = S + p * (255 - S)
                            }
                        n.putImageData(c, 0, 0)
                    },
                    toObject: function () {
                        return n(this.callSuper("toObject"), {
                            opaque: this.opaque,
                            matrix: this.matrix
                        })
                    }
                }), t.Image.filters.Convolute.fromObject = function (e) {
                    return new t.Image.filters.Convolute(e)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                t.Image.filters.GradientTransparency = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "GradientTransparency",
                    initialize: function (e) {
                        e = e || {}, this.threshold = e.threshold || 100
                    },
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = this.threshold,
                            s = r.length;
                        for (var o = 0, u = r.length; o < u; o += 4) r[o + 3] = i + 255 * (s - o) / s;
                        t.putImageData(n, 0, 0)
                    },
                    toObject: function () {
                        return n(this.callSuper("toObject"), {
                            threshold: this.threshold
                        })
                    }
                }), t.Image.filters.GradientTransparency.fromObject = function (e) {
                    return new t.Image.filters.GradientTransparency(e)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {});
                t.Image.filters.Grayscale = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Grayscale",
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = n.width * n.height * 4,
                            s = 0,
                            o;
                        while (s < i) o = (r[s] + r[s + 1] + r[s + 2]) / 3, r[s] = o, r[s + 1] = o, r[s +
                            2] = o, s += 4;
                        t.putImageData(n, 0, 0)
                    }
                }), t.Image.filters.Grayscale.fromObject = function () {
                    return new t.Image.filters.Grayscale
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {});
                t.Image.filters.Invert = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Invert",
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = r.length,
                            s;
                        for (s = 0; s < i; s += 4) r[s] = 255 - r[s], r[s + 1] = 255 - r[s + 1], r[s + 2] =
                            255 - r[s + 2];
                        t.putImageData(n, 0, 0)
                    }
                }), t.Image.filters.Invert.fromObject = function () {
                    return new t.Image.filters.Invert
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                t.Image.filters.Mask = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Mask",
                    initialize: function (e) {
                        e = e || {}, this.mask = e.mask, this.channel = [0, 1, 2, 3].indexOf(e.channel) > -
                            1 ? e.channel : 0
                    },
                    applyTo: function (e) {
                        if (!this.mask) return;
                        var n = e.getContext("2d"),
                            r = n.getImageData(0, 0, e.width, e.height),
                            i = r.data,
                            s = this.mask.getElement(),
                            o = t.util.createCanvasElement(),
                            u = this.channel,
                            a, f = r.width * r.height * 4;
                        o.width = s.width, o.height = s.height, o.getContext("2d").drawImage(s, 0, 0, s
                            .width, s.height);
                        var l = o.getContext("2d").getImageData(0, 0, s.width, s.height),
                            c = l.data;
                        for (a = 0; a < f; a += 4) i[a + 3] = c[a + u];
                        n.putImageData(r, 0, 0)
                    },
                    toObject: function () {
                        return n(this.callSuper("toObject"), {
                            mask: this.mask.toObject(),
                            channel: this.channel
                        })
                    }
                }), t.Image.filters.Mask.fromObject = function (e, n) {
                    t.util.loadImage(e.mask.src, function (r) {
                        e.mask = new t.Image(r, e.mask), n && n(new t.Image.filters.Mask(e))
                    })
                }, t.Image.filters.Mask.async = !0
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                t.Image.filters.Noise = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Noise",
                    initialize: function (e) {
                        e = e || {}, this.noise = e.noise || 100
                    },
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = this.noise,
                            s;
                        for (var o = 0, u = r.length; o < u; o += 4) s = (.5 - Math.random()) * i, r[o] +=
                            s, r[o + 1] += s, r[o + 2] += s;
                        t.putImageData(n, 0, 0)
                    },
                    toObject: function () {
                        return n(this.callSuper("toObject"), {
                            noise: this.noise
                        })
                    }
                }), t.Image.filters.Noise.fromObject = function (e) {
                    return new t.Image.filters.Noise(e)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                t.Image.filters.Pixelate = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Pixelate",
                    initialize: function (e) {
                        e = e || {}, this.blocksize = e.blocksize || 4
                    },
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = n.height,
                            s = n.width,
                            o, u, a, f, l, c, h;
                        for (u = 0; u < i; u += this.blocksize)
                            for (a = 0; a < s; a += this.blocksize) {
                                o = u * 4 * s + a * 4, f = r[o], l = r[o + 1], c = r[o + 2], h = r[o + 3];
                                for (var p = u, d = u + this.blocksize; p < d; p++)
                                    for (var v = a, m = a + this.blocksize; v < m; v++) o = p * 4 * s + v *
                                        4, r[o] = f, r[o + 1] = l, r[o + 2] = c, r[o + 3] = h
                            }
                        t.putImageData(n, 0, 0)
                    },
                    toObject: function () {
                        return n(this.callSuper("toObject"), {
                            blocksize: this.blocksize
                        })
                    }
                }), t.Image.filters.Pixelate.fromObject = function (e) {
                    return new t.Image.filters.Pixelate(e)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                t.Image.filters.RemoveWhite = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "RemoveWhite",
                    initialize: function (e) {
                        e = e || {}, this.threshold = e.threshold || 30, this.distance = e.distance || 20
                    },
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = this.threshold,
                            s = this.distance,
                            o = 255 - i,
                            u = Math.abs,
                            a, f, l;
                        for (var c = 0, h = r.length; c < h; c += 4) a = r[c], f = r[c + 1], l = r[c + 2],
                            a > o && f > o && l > o && u(a - f) < s && u(a - l) < s && u(f - l) < s && (r[
                                c + 3] = 1);
                        t.putImageData(n, 0, 0)
                    },
                    toObject: function () {
                        return n(this.callSuper("toObject"), {
                            threshold: this.threshold,
                            distance: this.distance
                        })
                    }
                }), t.Image.filters.RemoveWhite.fromObject = function (e) {
                    return new t.Image.filters.RemoveWhite(e)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {});
                t.Image.filters.Sepia = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Sepia",
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = r.length,
                            s, o;
                        for (s = 0; s < i; s += 4) o = .3 * r[s] + .59 * r[s + 1] + .11 * r[s + 2], r[s] =
                            o + 100, r[s + 1] = o + 50, r[s + 2] = o + 255;
                        t.putImageData(n, 0, 0)
                    }
                }), t.Image.filters.Sepia.fromObject = function () {
                    return new t.Image.filters.Sepia
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {});
                t.Image.filters.Sepia2 = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Sepia2",
                    applyTo: function (e) {
                        var t = e.getContext("2d"),
                            n = t.getImageData(0, 0, e.width, e.height),
                            r = n.data,
                            i = r.length,
                            s, o, u, a;
                        for (s = 0; s < i; s += 4) o = r[s], u = r[s + 1], a = r[s + 2], r[s] = (o * .393 +
                                u * .769 + a * .189) / 1.351, r[s + 1] = (o * .349 + u * .686 + a * .168) /
                            1.203, r[s + 2] = (o * .272 + u * .534 + a * .131) / 2.14;
                        t.putImageData(n, 0, 0)
                    }
                }), t.Image.filters.Sepia2.fromObject = function () {
                    return new t.Image.filters.Sepia2
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend;
                t.Image.filters.Tint = t.util.createClass(t.Image.filters.BaseFilter, {
                    type: "Tint",
                    initialize: function (e) {
                        e = e || {}, this.color = e.color || "#000000", this.opacity = typeof e.opacity !=
                            "undefined" ? e.opacity : (new t.Color(this.color)).getAlpha()
                    },
                    applyTo: function (e) {
                        var n = e.getContext("2d"),
                            r = n.getImageData(0, 0, e.width, e.height),
                            i = r.data,
                            s = i.length,
                            o, u, a, f, l, c, h, p, d;
                        d = (new t.Color(this.color)).getSource(), u = d[0] * this.opacity, a = d[1] * this
                            .opacity, f = d[2] * this.opacity, p = 1 - this.opacity;
                        for (o = 0; o < s; o += 4) l = i[o], c = i[o + 1], h = i[o + 2], i[o] = u + l * p,
                            i[o + 1] = a + c * p, i[o + 2] = f + h * p;
                        n.putImageData(r, 0, 0)
                    },
                    toObject: function () {
                        return n(this.callSuper("toObject"), {
                            color: this.color,
                            opacity: this.opacity
                        })
                    }
                }), t.Image.filters.Tint.fromObject = function (e) {
                    return new t.Image.filters.Tint(e)
                }
            }(typeof exports != "undefined" ? exports : this),
            function (e) {
                "use strict";
                var t = e.fabric || (e.fabric = {}),
                    n = t.util.object.extend,
                    r = t.util.object.clone,
                    i = t.util.toFixed,
                    s = t.StaticCanvas.supports("setLineDash");
                if (t.Text) {
                    t.warn("fabric.Text is already defined");
                    return
                }
                var o = t.Object.prototype.stateProperties.concat();
                o.push("fontFamily", "fontWeight", "fontSize", "text", "textDecoration", "textAlign", "fontStyle",
                        "lineHeight", "textBackgroundColor", "useNative", "path"), t.Text = t.util.createClass(t
                        .Object, {
                            _dimensionAffectingProps: {
                                fontSize: !0,
                                fontWeight: !0,
                                fontFamily: !0,
                                textDecoration: !0,
                                fontStyle: !0,
                                lineHeight: !0,
                                stroke: !0,
                                strokeWidth: !0,
                                text: !0
                            },
                            _reNewline: /\r?\n/,
                            type: "text",
                            fontSize: 40,
                            fontWeight: "normal",
                            fontFamily: "Times New Roman",
                            textDecoration: "",
                            textAlign: "left",
                            fontStyle: "",
                            lineHeight: 1.3,
                            textBackgroundColor: "",
                            path: null,
                            useNative: !0,
                            stateProperties: o,
                            stroke: null,
                            shadow: null,
                            initialize: function (e, t) {
                                t = t || {}, this.text = e, this.__skipDimension = !0, this.setOptions(t), this
                                    .__skipDimension = !1, this._initDimensions(), this.setCoords()
                            },
                            _initDimensions: function () {
                                if (this.__skipDimension) return;
                                var e = t.util.createCanvasElement();
                                this._render(e.getContext("2d"))
                            },
                            toString: function () {
                                return "#<fabric.Text (" + this.complexity() + '): { "text": "' + this.text +
                                    '", "fontFamily": "' + this.fontFamily + '" }>'
                            },
                            _render: function (e) {
                                var t = this.group && this.group.type === "path-group";
                                t && !this.transformMatrix ? e.translate(-this.group.width / 2 + this.left, -this
                                        .group.height / 2 + this.top) : t && this.transformMatrix && e.translate(-
                                        this.group.width / 2, -this.group.height / 2), typeof Cufon ==
                                    "undefined" || this.useNative === !0 ? this._renderViaNative(e) : this
                                    ._renderViaCufon(e)
                            },
                            _renderViaNative: function (e) {
                                var n = this.text.split(this._reNewline);
                                this.transform(e, t.isLikelyNode), this._setTextStyles(e), this.width = this
                                    ._getTextWidth(e, n), this.height = this._getTextHeight(e, n), this.clipTo && t
                                    .util.clipContext(this, e), this._renderTextBackground(e, n), this
                                    ._translateForTextAlign(e), this._renderText(e, n), this.textAlign !== "left" &&
                                    this.textAlign !== "justify" && e.restore(), this._renderTextDecoration(e, n),
                                    this.clipTo && e.restore(), this._setBoundaries(e, n), this._totalLineHeight = 0
                            },
                            _renderText: function (e, t) {
                                e.save(), this._setShadow(e), this._renderTextFill(e, t), this._renderTextStroke(e,
                                    t), this._removeShadow(e), e.restore()
                            },
                            _translateForTextAlign: function (e) {
                                this.textAlign !== "left" && this.textAlign !== "justify" && (e.save(), e.translate(
                                    this.textAlign === "center" ? this.width / 2 : this.width, 0))
                            },
                            _setBoundaries: function (e, t) {
                                this._boundaries = [];
                                for (var n = 0, r = t.length; n < r; n++) {
                                    var i = this._getLineWidth(e, t[n]),
                                        s = this._getLineLeftOffset(i);
                                    this._boundaries.push({
                                        height: this.fontSize * this.lineHeight,
                                        width: i,
                                        left: s
                                    })
                                }
                            },
                            _setTextStyles: function (e) {
                                this._setFillStyles(e), this._setStrokeStyles(e), e.textBaseline = "alphabetic",
                                    this.skipTextAlign || (e.textAlign = this.textAlign), e.font = this
                                    ._getFontDeclaration()
                            },
                            _getTextHeight: function (e, t) {
                                return this.fontSize * t.length * this.lineHeight
                            },
                            _getTextWidth: function (e, t) {
                                var n = e.measureText(t[0] || "|").width;
                                for (var r = 1, i = t.length; r < i; r++) {
                                    var s = e.measureText(t[r]).width;
                                    s > n && (n = s)
                                }
                                return n
                            },
                            _renderChars: function (e, t, n, r, i) {
                                t[e](n, r, i)
                            },
                            _renderTextLine: function (e, t, n, r, i, s) {
                                i -= this.fontSize / 4;
                                if (this.textAlign !== "justify") {
                                    this._renderChars(e, t, n, r, i, s);
                                    return
                                }
                                var o = t.measureText(n).width,
                                    u = this.width;
                                if (u > o) {
                                    var a = n.split(/\s+/),
                                        f = t.measureText(n.replace(/\s+/g, "")).width,
                                        l = u - f,
                                        c = a.length - 1,
                                        h = l / c,
                                        p = 0;
                                    for (var d = 0, v = a.length; d < v; d++) this._renderChars(e, t, a[d], r + p,
                                        i, s), p += t.measureText(a[d]).width + h
                                } else this._renderChars(e, t, n, r, i, s)
                            },
                            _getLeftOffset: function () {
                                return t.isLikelyNode ? 0 : -this.width / 2
                            },
                            _getTopOffset: function () {
                                return -this.height / 2
                            },
                            _renderTextFill: function (e, t) {
                                if (!this.fill && !this._skipFillStrokeCheck) return;
                                this._boundaries = [];
                                var n = 0;
                                for (var r = 0, i = t.length; r < i; r++) {
                                    var s = this._getHeightOfLine(e, r, t);
                                    n += s, this._renderTextLine("fillText", e, t[r], this._getLeftOffset(), this
                                        ._getTopOffset() + n, r)
                                }
                            },
                            _renderTextStroke: function (e, t) {
                                if (!this.stroke && !this._skipFillStrokeCheck) return;
                                var n = 0;
                                e.save(), this.strokeDashArray && (1 & this.strokeDashArray.length && this
                                    .strokeDashArray.push.apply(this.strokeDashArray, this.strokeDashArray),
                                    s && e.setLineDash(this.strokeDashArray)), e.beginPath();
                                for (var r = 0, i = t.length; r < i; r++) {
                                    var o = this._getHeightOfLine(e, r, t);
                                    n += o, this._renderTextLine("strokeText", e, t[r], this._getLeftOffset(), this
                                        ._getTopOffset() + n, r)
                                }
                                e.closePath(), e.restore()
                            },
                            _getHeightOfLine: function () {
                                return this.fontSize * this.lineHeight
                            },
                            _renderTextBackground: function (e, t) {
                                this._renderTextBoxBackground(e), this._renderTextLinesBackground(e, t)
                            },
                            _renderTextBoxBackground: function (e) {
                                if (!this.backgroundColor) return;
                                e.save(), e.fillStyle = this.backgroundColor, e.fillRect(this._getLeftOffset(), this
                                    ._getTopOffset(), this.width, this.height), e.restore()
                            },
                            _renderTextLinesBackground: function (e, t) {
                                if (!this.textBackgroundColor) return;
                                e.save(), e.fillStyle = this.textBackgroundColor;
                                for (var n = 0, r = t.length; n < r; n++)
                                    if (t[n] !== "") {
                                        var i = this._getLineWidth(e, t[n]),
                                            s = this._getLineLeftOffset(i);
                                        e.fillRect(this._getLeftOffset() + s, this._getTopOffset() + n * this
                                            .fontSize * this.lineHeight, i, this.fontSize * this.lineHeight)
                                    } e.restore()
                            },
                            _getLineLeftOffset: function (e) {
                                return this.textAlign === "center" ? (this.width - e) / 2 : this.textAlign ===
                                    "right" ? this.width - e : 0
                            },
                            _getLineWidth: function (e, t) {
                                return this.textAlign === "justify" ? this.width : e.measureText(t).width
                            },
                            _renderTextDecoration: function (e, t) {
                                function i(i) {
                                    for (var s = 0, o = t.length; s < o; s++) {
                                        var u = r._getLineWidth(e, t[s]),
                                            a = r._getLineLeftOffset(u);
                                        e.fillRect(r._getLeftOffset() + a, ~~(i + s * r._getHeightOfLine(e, s, t) -
                                            n), u, 1)
                                    }
                                }
                                if (!this.textDecoration) return;
                                var n = this._getTextHeight(e, t) / 2,
                                    r = this;
                                this.textDecoration.indexOf("underline") > -1 && i(this.fontSize * this.lineHeight),
                                    this.textDecoration.indexOf("line-through") > -1 && i(this.fontSize * this
                                        .lineHeight - this.fontSize / 2), this.textDecoration.indexOf("overline") >
                                    -1 && i(this.fontSize * this.lineHeight - this.fontSize)
                            },
                            _getFontDeclaration: function () {
                                return [t.isLikelyNode ? this.fontWeight : this.fontStyle, t.isLikelyNode ? this
                                    .fontStyle : this.fontWeight, this.fontSize + "px", t.isLikelyNode ? '"' +
                                    this.fontFamily + '"' : this.fontFamily
                                ].join(" ")
                            },
                            render: function (e, t) {
                                if (!this.visible) return;
                                e.save(), this._render(e), !t && this.active && (this.drawBorders(e), this
                                    .drawControls(e)), e.restore()
                            },
                            toObject: function (e) {
                                var t = n(this.callSuper("toObject", e), {
                                    text: this.text,
                                    fontSize: this.fontSize,
                                    fontWeight: this.fontWeight,
                                    fontFamily: this.fontFamily,
                                    fontStyle: this.fontStyle,
                                    lineHeight: this.lineHeight,
                                    textDecoration: this.textDecoration,
                                    textAlign: this.textAlign,
                                    path: this.path,
                                    textBackgroundColor: this.textBackgroundColor,
                                    useNative: this.useNative
                                });
                                return this.includeDefaultValues || this._removeDefaultValues(t), t
                            },
                            toSVG: function (e) {
                                var t = [],
                                    n = this.text.split(this._reNewline),
                                    r = this._getSVGLeftTopOffsets(n),
                                    i = this._getSVGTextAndBg(r.lineTop, r.textLeft, n),
                                    s = this._getSVGShadows(r.lineTop, n);
                                return r.textTop += this._fontAscent ? this._fontAscent / 5 * this.lineHeight : 0,
                                    this._wrapSVGTextAndBg(t, i, s, r), e ? e(t.join("")) : t.join("")
                            },
                            _getSVGLeftTopOffsets: function (e) {
                                var t = this.useNative ? this.fontSize * this.lineHeight : -this._fontAscent - this
                                    ._fontAscent / 5 * this.lineHeight,
                                    n = -(this.width / 2),
                                    r = this.useNative ? this.fontSize - 1 : this.height / 2 - e.length * this
                                    .fontSize - this._totalLineHeight;
                                return {
                                    textLeft: n,
                                    textTop: r,
                                    lineTop: t
                                }
                            },
                            _wrapSVGTextAndBg: function (e, t, n, r) {
                                e.push('<g transform="', this.getSvgTransform(), '">', t.textBgRects.join(""),
                                    "<text ", this.fontFamily ? 'font-family="' + this.fontFamily.replace(/"/g,
                                        "'") + '" ' : "", this.fontSize ? 'font-size="' + this.fontSize + '" ' :
                                    "", this.fontStyle ? 'font-style="' + this.fontStyle + '" ' : "", this
                                    .fontWeight ? 'font-weight="' + this.fontWeight + '" ' : "", this
                                    .textDecoration ? 'text-decoration="' + this.textDecoration + '" ' : "",
                                    'style="', this.getSvgStyles(), '" ', 'transform="translate(', i(r.textLeft,
                                        2), " ", i(r.textTop, 2), ')">', n.join(""), t.textSpans.join(""),
                                    "</text>", "</g>")
                            },
                            _getSVGShadows: function (e, n) {
                                var r = [],
                                    s, o, u = 1;
                                if (!this.shadow || !this._boundaries) return r;
                                for (s = 0, o = n.length; s < o; s++)
                                    if (n[s] !== "") {
                                        var a = this._boundaries && this._boundaries[s] ? this._boundaries[s].left :
                                            0;
                                        r.push('<tspan x="', i(a + u + this.shadow.offsetX, 2), s === 0 || this
                                            .useNative ? '" y' : '" dy', '="', i(this.useNative ? e * s - this
                                                .height / 2 + this.shadow.offsetY : e + (s === 0 ? this.shadow
                                                    .offsetY : 0), 2), '" ', this._getFillAttributes(this.shadow
                                                .color), ">", t.util.string.escapeXml(n[s]), "</tspan>"), u = 1
                                    } else u++;
                                return r
                            },
                            _getSVGTextAndBg: function (e, t, n) {
                                var r = [],
                                    i = [],
                                    s = 1;
                                this._setSVGBg(i);
                                for (var o = 0, u = n.length; o < u; o++) {
                                    n[o] !== "" ? (this._setSVGTextLineText(n[o], o, r, e, s, i), s = 1) : s++;
                                    if (!this.textBackgroundColor || !this._boundaries) continue;
                                    this._setSVGTextLineBg(i, o, t, e)
                                }
                                return {
                                    textSpans: r,
                                    textBgRects: i
                                }
                            },
                            _setSVGTextLineText: function (e, n, r, s, o) {
                                var u = this._boundaries && this._boundaries[n] ? i(this._boundaries[n].left, 2) :
                                    0;
                                r.push('<tspan x="', u, '" ', n === 0 || this.useNative ? "y" : "dy", '="', i(this
                                        .useNative ? s * n - this.height / 2 : s * o, 2), '" ', this
                                    ._getFillAttributes(this.fill), ">", t.util.string.escapeXml(e), "</tspan>")
                            },
                            _setSVGTextLineBg: function (e, t, n, r) {
                                e.push("<rect ", this._getFillAttributes(this.textBackgroundColor), ' x="', i(n +
                                        this._boundaries[t].left, 2), '" y="', i(r * t - this.height / 2, 2),
                                    '" width="', i(this._boundaries[t].width, 2), '" height="', i(this
                                        ._boundaries[t].height, 2), '"></rect>')
                            },
                            _setSVGBg: function (e) {
                                this.backgroundColor && this._boundaries && e.push("<rect ", this
                                    ._getFillAttributes(this.backgroundColor), ' x="', i(-this.width / 2, 2),
                                    '" y="', i(-this.height / 2, 2), '" width="', i(this.width, 2),
                                    '" height="', i(this.height, 2), '"></rect>')
                            },
                            _getFillAttributes: function (e) {
                                var n = e && typeof e == "string" ? new t.Color(e) : "";
                                return !n || !n.getSource() || n.getAlpha() === 1 ? 'fill="' + e + '"' :
                                    'opacity="' + n.getAlpha() + '" fill="' + n.setAlpha(1).toRgb() + '"'
                            },
                            _set: function (e, t) {
                                e === "fontFamily" && this.path && (this.path = this.path.replace(
                                    /(.*?)([^\/]*)(\.font\.js)/, "$1" + t + "$3")), this.callSuper("_set", e,
                                    t), e in this._dimensionAffectingProps && (this._initDimensions(), this
                                    .setCoords())
                            },
                            complexity: function () {
                                return 1
                            }
                        }), t.Text.ATTRIBUTE_NAMES = t.SHARED_ATTRIBUTES.concat(
                        "x y font-family font-style font-weight font-size text-decoration".split(" ")), t.Text
                    .fromElement = function (e, n) {
                        if (!e) return null;
                        var r = t.parseAttributes(e, t.Text.ATTRIBUTE_NAMES);
                        n = t.util.object.extend(n ? t.util.object.clone(n) : {}, r);
                        var i = new t.Text(e.textContent, n);
                        return i.set({
                            left: i.getLeft() + i.getWidth() / 2,
                            top: i.getTop() - i.getHeight() / 2
                        }), i
                    }, t.Text.fromObject = function (e) {
                        return new t.Text(e.text, r(e))
                    }, t.util.createAccessors(t.Text)
            }(typeof exports != "undefined" ? exports : this),
            function () {
                var e = fabric.util.object.clone;
                fabric.IText = fabric.util.createClass(fabric.Text, fabric.Observable, {
                    type: "i-text",
                    selectionStart: 0,
                    selectionEnd: 0,
                    selectionColor: "rgba(17,119,255,0.3)",
                    isEditing: !1,
                    editable: !0,
                    editingBorderColor: "rgba(102,153,255,0.25)",
                    cursorWidth: 2,
                    cursorColor: "#333",
                    cursorDelay: 1e3,
                    cursorDuration: 600,
                    styles: null,
                    caching: !0,
                    _skipFillStrokeCheck: !0,
                    _reSpace: /\s|\n/,
                    _fontSizeFraction: 4,
                    _currentCursorOpacity: 0,
                    _selectionDirection: null,
                    _abortCursorAnimation: !1,
                    _charWidthsCache: {},
                    initialize: function (e, t) {
                        this.styles = t ? t.styles || {} : {}, this.callSuper("initialize", e, t), this
                            .initBehavior(), fabric.IText.instances.push(this), this.__lineWidths = {}, this
                            .__lineHeights = {}, this.__lineOffsets = {}
                    },
                    isEmptyStyles: function () {
                        if (!this.styles) return !0;
                        var e = this.styles;
                        for (var t in e)
                            for (var n in e[t])
                                for (var r in e[t][n]) return !1;
                        return !0
                    },
                    setSelectionStart: function (e) {
                        this.selectionStart = e, this.hiddenTextarea && (this.hiddenTextarea
                            .selectionStart = e)
                    },
                    setSelectionEnd: function (e) {
                        this.selectionEnd = e, this.hiddenTextarea && (this.hiddenTextarea.selectionEnd = e)
                    },
                    getSelectionStyles: function (e, t) {
                        if (arguments.length === 2) {
                            var n = [];
                            for (var r = e; r < t; r++) n.push(this.getSelectionStyles(r));
                            return n
                        }
                        var i = this.get2DCursorLocation(e);
                        return this.styles[i.lineIndex] ? this.styles[i.lineIndex][i.charIndex] || {} : {}
                    },
                    setSelectionStyles: function (e) {
                        if (this.selectionStart === this.selectionEnd) this._extendStyles(this
                            .selectionStart, e);
                        else
                            for (var t = this.selectionStart; t < this.selectionEnd; t++) this
                                ._extendStyles(t, e);
                        return this
                    },
                    _extendStyles: function (e, t) {
                        var n = this.get2DCursorLocation(e);
                        this.styles[n.lineIndex] || (this.styles[n.lineIndex] = {}), this.styles[n
                                .lineIndex][n.charIndex] || (this.styles[n.lineIndex][n.charIndex] = {}),
                            fabric.util.object.extend(this.styles[n.lineIndex][n.charIndex], t)
                    },
                    _render: function (e) {
                        this.callSuper("_render", e), this.ctx = e, this.isEditing && this
                            .renderCursorOrSelection()
                    },
                    renderCursorOrSelection: function () {
                        if (!this.active) return;
                        var e = this.text.split(""),
                            t;
                        this.selectionStart === this.selectionEnd ? (t = this._getCursorBoundaries(e,
                            "cursor"), this.renderCursor(t)) : (t = this._getCursorBoundaries(e,
                            "selection"), this.renderSelection(e, t))
                    },
                    get2DCursorLocation: function (e) {
                        typeof e == "undefined" && (e = this.selectionStart);
                        var t = this.text.slice(0, e),
                            n = t.split(this._reNewline);
                        return {
                            lineIndex: n.length - 1,
                            charIndex: n[n.length - 1].length
                        }
                    },
                    getCurrentCharFontSize: function (e, t) {
                        return this.styles[e] && this.styles[e][t === 0 ? 0 : t - 1] && this.styles[e][t ===
                            0 ? 0 : t - 1
                        ].fontSize || this.fontSize
                    },
                    getCurrentCharColor: function (e, t) {
                        return this.styles[e] && this.styles[e][t === 0 ? 0 : t - 1] && this.styles[e][t ===
                            0 ? 0 : t - 1
                        ].fill || this.cursorColor
                    },
                    _getCursorBoundaries: function (e, t) {
                        var n = this.get2DCursorLocation(),
                            r = this.text.split(this._reNewline),
                            i = Math.round(this._getLeftOffset()),
                            s = -this.height / 2,
                            o = this._getCursorBoundariesOffsets(e, t, n, r);
                        return {
                            left: i,
                            top: s,
                            leftOffset: o.left + o.lineLeft,
                            topOffset: o.top
                        }
                    },
                    _getCursorBoundariesOffsets: function (e, t, n, r) {
                        var i = 0,
                            s = 0,
                            o = 0,
                            u = 0,
                            a = t === "cursor" ? this._getHeightOfLine(this.ctx, 0) - this
                            .getCurrentCharFontSize(n.lineIndex, n.charIndex) : 0;
                        for (var f = 0; f < this.selectionStart; f++) {
                            if (e[f] === "\n") {
                                u = 0;
                                var l = s + (t === "cursor" ? 1 : 0);
                                a += this._getCachedLineHeight(l), s++, o = 0
                            } else u += this._getWidthOfChar(this.ctx, e[f], s, o), o++;
                            i = this._getCachedLineOffset(s, r)
                        }
                        return this._clearCache(), {
                            top: a,
                            left: u,
                            lineLeft: i
                        }
                    },
                    _clearCache: function () {
                        this.__lineWidths = {}, this.__lineHeights = {}, this.__lineOffsets = {}
                    },
                    _getCachedLineHeight: function (e) {
                        return this.__lineHeights[e] || (this.__lineHeights[e] = this._getHeightOfLine(this
                            .ctx, e))
                    },
                    _getCachedLineWidth: function (e, t) {
                        return this.__lineWidths[e] || (this.__lineWidths[e] = this._getWidthOfLine(this
                            .ctx, e, t))
                    },
                    _getCachedLineOffset: function (e, t) {
                        var n = this._getCachedLineWidth(e, t);
                        return this.__lineOffsets[e] || (this.__lineOffsets[e] = this._getLineLeftOffset(n))
                    },
                    renderCursor: function (e) {
                        var t = this.ctx;
                        t.save();
                        var n = this.get2DCursorLocation(),
                            r = n.lineIndex,
                            i = n.charIndex,
                            s = this.getCurrentCharFontSize(r, i);
                        t.fillStyle = this.getCurrentCharColor(r, i), t.globalAlpha = this
                            ._currentCursorOpacity, t.fillRect(e.left + e.leftOffset, e.top + e.topOffset,
                                this.cursorWidth / this.scaleX, s), t.restore()
                    },
                    renderSelection: function (e, t) {
                        var n = this.ctx;
                        n.save(), n.fillStyle = this.selectionColor;
                        var r = this.get2DCursorLocation(),
                            i = r.lineIndex,
                            s = r.charIndex,
                            o = this.text.split(this._reNewline),
                            u = i;
                        for (var a = this.selectionStart; a < this.selectionEnd; a++)
                            if (e[a] === "\n") t.leftOffset = 0, t.topOffset += this._getHeightOfLine(n, i),
                                i++, s = 0;
                            else if (a !== this.text.length) {
                            var f = this._getWidthOfChar(n, e[a], i, s),
                                l = this._getLineLeftOffset(this._getWidthOfLine(n, i, o)) || 0;
                            i === u && (l = 0), n.fillRect(t.left + t.leftOffset + l, t.top + t.topOffset,
                                f, this._getHeightOfLine(n, i)), t.leftOffset += f, s++
                        }
                        n.restore()
                    },
                    _renderChars: function (e, t, n, r, i, s) {
                        if (this.isEmptyStyles()) return this._renderCharsFast(e, t, n, r, i);
                        this.skipTextAlign = !0, r -= this.textAlign === "center" ? this.width / 2 : this
                            .textAlign === "right" ? this.width : 0;
                        var o = this.text.split(this._reNewline),
                            u = this._getWidthOfLine(t, s, o),
                            a = this._getHeightOfLine(t, s, o),
                            f = this._getLineLeftOffset(u),
                            l = n.split("");
                        r += f || 0, t.save();
                        for (var c = 0, h = l.length; c < h; c++) this._renderChar(e, t, s, c, l[c], r, i,
                            a);
                        t.restore()
                    },
                    _renderCharsFast: function (e, t, n, r, i) {
                        this.skipTextAlign = !1, e === "fillText" && this.fill && this.callSuper(
                                "_renderChars", e, t, n, r, i), e === "strokeText" && this.stroke && this
                            .callSuper("_renderChars", e, t, n, r, i)
                    },
                    _renderChar: function (e, t, n, r, i, s, o, u) {
                        var a, f, l;
                        if (this.styles && this.styles[n] && (a = this.styles[n][r])) {
                            var c = a.stroke || this.stroke,
                                h = a.fill || this.fill;
                            t.save(), f = this._applyCharStylesGetWidth(t, i, n, r, a), l = this
                                ._getHeightOfChar(t, i, n, r), h && t.fillText(i, s, o), c && t.strokeText(
                                    i, s, o), this._renderCharDecoration(t, a, s, o, f, u, l), t.restore(),
                                t.translate(f, 0)
                        } else e === "strokeText" && this.stroke && t[e](i, s, o), e === "fillText" && this
                            .fill && t[e](i, s, o), f = this._applyCharStylesGetWidth(t, i, n, r), this
                            ._renderCharDecoration(t, null, s, o, f, u), t.translate(t.measureText(i).width,
                                0)
                    },
                    _renderCharDecoration: function (e, t, n, r, i, s, o) {
                        var u = t ? t.textDecoration || this.textDecoration : this.textDecoration,
                            a = (t ? t.fontSize : null) || this.fontSize;
                        if (!u) return;
                        u.indexOf("underline") > -1 && this._renderCharDecorationAtOffset(e, n, r + this
                            .fontSize / this._fontSizeFraction, i, 0, this.fontSize / 20), u.indexOf(
                            "line-through") > -1 && this._renderCharDecorationAtOffset(e, n, r + this
                            .fontSize / this._fontSizeFraction, i, o / 2, a / 20), u.indexOf(
                            "overline") > -1 && this._renderCharDecorationAtOffset(e, n, r, i, s - this
                            .fontSize / this._fontSizeFraction, this.fontSize / 20)
                    },
                    _renderCharDecorationAtOffset: function (e, t, n, r, i, s) {
                        e.fillRect(t, n - i, r, s)
                    },
                    _renderTextLine: function (e, t, n, r, i, s) {
                        i += this.fontSize / 4, this.callSuper("_renderTextLine", e, t, n, r, i, s)
                    },
                    _renderTextDecoration: function (e, t) {
                        if (this.isEmptyStyles()) return this.callSuper("_renderTextDecoration", e, t)
                    },
                    _renderTextLinesBackground: function (e, t) {
                        if (!this.textBackgroundColor && !this.styles) return;
                        e.save(), this.textBackgroundColor && (e.fillStyle = this.textBackgroundColor);
                        var n = 0,
                            r = this.fontSize / this._fontSizeFraction;
                        for (var i = 0, s = t.length; i < s; i++) {
                            var o = this._getHeightOfLine(e, i, t);
                            if (t[i] === "") {
                                n += o;
                                continue
                            }
                            var u = this._getWidthOfLine(e, i, t),
                                a = this._getLineLeftOffset(u);
                            this.textBackgroundColor && (e.fillStyle = this.textBackgroundColor, e.fillRect(
                                this._getLeftOffset() + a, this._getTopOffset() + n + r, u, o));
                            if (this.styles[i])
                                for (var f = 0, l = t[i].length; f < l; f++)
                                    if (this.styles[i] && this.styles[i][f] && this.styles[i][f]
                                        .textBackgroundColor) {
                                        var c = t[i][f];
                                        e.fillStyle = this.styles[i][f].textBackgroundColor, e.fillRect(this
                                            ._getLeftOffset() + a + this._getWidthOfCharsAt(e, i, f, t),
                                            this._getTopOffset() + n + r, this._getWidthOfChar(e, c, i,
                                                f, t) + 1, o)
                                    } n += o
                        }
                        e.restore()
                    },
                    _getCacheProp: function (e, t) {
                        return e + t.fontFamily + t.fontSize + t.fontWeight + t.fontStyle + t.shadow
                    },
                    _applyCharStylesGetWidth: function (t, n, r, i, s) {
                        var o = s || this.styles[r] && this.styles[r][i];
                        o ? o = e(o) : o = {}, this._applyFontStyles(o);
                        var u = this._getCacheProp(n, o);
                        if (this.isEmptyStyles() && this._charWidthsCache[u] && this.caching) return this
                            ._charWidthsCache[u];
                        typeof o.shadow == "string" && (o.shadow = new fabric.Shadow(o.shadow));
                        var a = o.fill || this.fill;
                        return t.fillStyle = a.toLive ? a.toLive(t) : a, o.stroke && (t.strokeStyle = o
                                .stroke && o.stroke.toLive ? o.stroke.toLive(t) : o.stroke), t.lineWidth = o
                            .strokeWidth || this.strokeWidth, t.font = this._getFontDeclaration.call(o),
                            this._setShadow.call(o, t), this.caching ? (this._charWidthsCache[u] || (this
                                ._charWidthsCache[u] = t.measureText(n).width), this._charWidthsCache[
                                u]) : t.measureText(n).width
                    },
                    _applyFontStyles: function (e) {
                        e.fontFamily || (e.fontFamily = this.fontFamily), e.fontSize || (e.fontSize = this
                                .fontSize), e.fontWeight || (e.fontWeight = this.fontWeight), e.fontStyle ||
                            (e.fontStyle = this.fontStyle)
                    },
                    _getWidthOfChar: function (e, t, n, r) {
                        e.save();
                        var i = this._applyCharStylesGetWidth(e, t, n, r);
                        return e.restore(), i
                    },
                    _getHeightOfChar: function (e, t, n, r) {
                        return this.styles[n] && this.styles[n][r] ? this.styles[n][r].fontSize || this
                            .fontSize : this.fontSize
                    },
                    _getWidthOfCharAt: function (e, t, n, r) {
                        r = r || this.text.split(this._reNewline);
                        var i = r[t].split("")[n];
                        return this._getWidthOfChar(e, i, t, n)
                    },
                    _getHeightOfCharAt: function (e, t, n, r) {
                        r = r || this.text.split(this._reNewline);
                        var i = r[t].split("")[n];
                        return this._getHeightOfChar(e, i, t, n)
                    },
                    _getWidthOfCharsAt: function (e, t, n, r) {
                        var i = 0;
                        for (var s = 0; s < n; s++) i += this._getWidthOfCharAt(e, t, s, r);
                        return i
                    },
                    _getWidthOfLine: function (e, t, n) {
                        return this._getWidthOfCharsAt(e, t, n[t].length, n)
                    },
                    _getTextWidth: function (e, t) {
                        if (this.isEmptyStyles()) return this.callSuper("_getTextWidth", e, t);
                        var n = this._getWidthOfLine(e, 0, t);
                        for (var r = 1, i = t.length; r < i; r++) {
                            var s = this._getWidthOfLine(e, r, t);
                            s > n && (n = s)
                        }
                        return n
                    },
                    _getHeightOfLine: function (e, t, n) {
                        n = n || this.text.split(this._reNewline);
                        var r = this._getHeightOfChar(e, n[t][0], t, 0),
                            i = n[t],
                            s = i.split("");
                        for (var o = 1, u = s.length; o < u; o++) {
                            var a = this._getHeightOfChar(e, s[o], t, o);
                            a > r && (r = a)
                        }
                        return r * this.lineHeight
                    },
                    _getTextHeight: function (e, t) {
                        var n = 0;
                        for (var r = 0, i = t.length; r < i; r++) n += this._getHeightOfLine(e, r, t);
                        return n
                    },
                    _getTopOffset: function () {
                        var e = fabric.Text.prototype._getTopOffset.call(this);
                        return e - this.fontSize / this._fontSizeFraction
                    },
                    toObject: function (t) {
                        return fabric.util.object.extend(this.callSuper("toObject", t), {
                            styles: e(this.styles)
                        })
                    }
                }), fabric.IText.fromObject = function (t) {
                    return new fabric.IText(t.text, e(t))
                }, fabric.IText.instances = []
            }(),
            function () {
                var e = fabric.util.object.clone;
                fabric.util.object.extend(fabric.IText.prototype, {
                    initBehavior: function () {
                        this.initKeyHandlers(), this.initCursorSelectionHandlers(), this
                            .initDoubleClickSimulation(), this.initHiddenTextarea()
                    },
                    initSelectedHandler: function () {
                        this.on("selected", function () {
                            var e = this;
                            setTimeout(function () {
                                e.selected = !0
                            }, 100), this._hasCanvasHandlers || (this._initCanvasHandlers(),
                                this._hasCanvasHandlers = !0)
                        })
                    },
                    _initCanvasHandlers: function () {
                        var e = this;
                        this.canvas.on("selection:cleared", function (t) {
                            if (t.e && e.canvas.containsPoint(t.e, e)) return;
                            e.exitEditing()
                        }), this.canvas.on("mouse:up", function () {
                            this.getObjects("i-text").forEach(function (e) {
                                e.__isMousedown = !1
                            })
                        })
                    },
                    _tick: function () {
                        var e = this;
                        if (this._abortCursorAnimation) return;
                        this.animate("_currentCursorOpacity", 1, {
                            duration: this.cursorDuration,
                            onComplete: function () {
                                e._onTickComplete()
                            },
                            onChange: function () {
                                e.canvas && e.canvas.renderAll()
                            },
                            abort: function () {
                                return e._abortCursorAnimation
                            }
                        })
                    },
                    _onTickComplete: function () {
                        if (this._abortCursorAnimation) return;
                        var e = this;
                        this._cursorTimeout1 && clearTimeout(this._cursorTimeout1), this._cursorTimeout1 =
                            setTimeout(function () {
                                e.animate("_currentCursorOpacity", 0, {
                                    duration: this.cursorDuration / 2,
                                    onComplete: function () {
                                        e._tick()
                                    },
                                    onChange: function () {
                                        e.canvas && e.canvas.renderAll()
                                    },
                                    abort: function () {
                                        return e._abortCursorAnimation
                                    }
                                })
                            }, 100)
                    },
                    initDelayedCursor: function () {
                        var e = this;
                        this._cursorTimeout2 && clearTimeout(this._cursorTimeout2), this._cursorTimeout2 =
                            setTimeout(function () {
                                e._abortCursorAnimation = !1, e._tick()
                            }, this.cursorDelay)
                    },
                    abortCursorAnimation: function () {
                        this._abortCursorAnimation = !0, clearTimeout(this._cursorTimeout1), clearTimeout(
                                this._cursorTimeout2), this._currentCursorOpacity = 0, this.canvas && this
                            .canvas.renderAll();
                        var e = this;
                        setTimeout(function () {
                            e._abortCursorAnimation = !1
                        }, 10)
                    },
                    selectAll: function () {
                        this.selectionStart = 0, this.selectionEnd = this.text.length
                    },
                    getSelectedText: function () {
                        return this.text.slice(this.selectionStart, this.selectionEnd)
                    },
                    findWordBoundaryLeft: function (e) {
                        var t = 0,
                            n = e - 1;
                        if (this._reSpace.test(this.text.charAt(n)))
                            while (this._reSpace.test(this.text.charAt(n))) t++, n--;
                        while (/\S/.test(this.text.charAt(n)) && n > -1) t++, n--;
                        return e - t
                    },
                    findWordBoundaryRight: function (e) {
                        var t = 0,
                            n = e;
                        if (this._reSpace.test(this.text.charAt(n)))
                            while (this._reSpace.test(this.text.charAt(n))) t++, n++;
                        while (/\S/.test(this.text.charAt(n)) && n < this.text.length) t++, n++;
                        return e + t
                    },
                    findLineBoundaryLeft: function (e) {
                        var t = 0,
                            n = e - 1;
                        while (!/\n/.test(this.text.charAt(n)) && n > -1) t++, n--;
                        return e - t
                    },
                    findLineBoundaryRight: function (e) {
                        var t = 0,
                            n = e;
                        while (!/\n/.test(this.text.charAt(n)) && n < this.text.length) t++, n++;
                        return e + t
                    },
                    getNumNewLinesInSelectedText: function () {
                        var e = this.getSelectedText(),
                            t = 0;
                        for (var n = 0, r = e.split(""), i = r.length; n < i; n++) r[n] === "\n" && t++;
                        return t
                    },
                    searchWordBoundary: function (e, t) {
                        var n = e,
                            r = this.text.charAt(n),
                            i = /[ \n\.,;!\?\-]/;
                        while (!i.test(r) && n > 0 && n < this.text.length) n += t, r = this.text.charAt(n);
                        return i.test(r) && r !== "\n" && (n += t === 1 ? 0 : 1), n
                    },
                    selectWord: function (e) {
                        var t = this.searchWordBoundary(e, -1),
                            n = this.searchWordBoundary(e, 1);
                        this.setSelectionStart(t), this.setSelectionEnd(n)
                    },
                    selectLine: function (e) {
                        var t = this.findLineBoundaryLeft(e),
                            n = this.findLineBoundaryRight(e);
                        this.setSelectionStart(t), this.setSelectionEnd(n)
                    },
                    enterEditing: function () {
                        if (this.isEditing || !this.editable) return;
                        return this.exitEditingOnOthers(), this.isEditing = !0, this._updateTextarea(), this
                            ._saveEditingProps(), this._setEditingProps(), this._tick(), this.canvas && this
                            .canvas.renderAll(), this.fire("editing:entered"), this
                    },
                    exitEditingOnOthers: function () {
                        fabric.IText.instances.forEach(function (e) {
                            if (e === this) return;
                            e.exitEditing()
                        }, this)
                    },
                    _setEditingProps: function () {
                        this.hoverCursor = "text", this.canvas && (this.canvas.defaultCursor = this.canvas
                                .moveCursor = "text"), this.borderColor = this.editingBorderColor, this
                            .hasControls = this.selectable = !1, this.lockMovementX = this.lockMovementY = !
                            0
                    },
                    _updateTextarea: function () {
                        if (!this.hiddenTextarea) return;
                        this.hiddenTextarea.value = this.text, this.hiddenTextarea.selectionStart = this
                            .selectionStart, this.hiddenTextarea.focus()
                    },
                    _saveEditingProps: function () {
                        this._savedProps = {
                            hasControls: this.hasControls,
                            borderColor: this.borderColor,
                            lockMovementX: this.lockMovementX,
                            lockMovementY: this.lockMovementY,
                            hoverCursor: this.hoverCursor,
                            defaultCursor: this.canvas && this.canvas.defaultCursor,
                            moveCursor: this.canvas && this.canvas.moveCursor
                        }
                    },
                    _restoreEditingProps: function () {
                        if (!this._savedProps) return;
                        this.hoverCursor = this._savedProps.overCursor, this.hasControls = this._savedProps
                            .hasControls, this.borderColor = this._savedProps.borderColor, this
                            .lockMovementX = this._savedProps.lockMovementX, this.lockMovementY = this
                            ._savedProps.lockMovementY, this.canvas && (this.canvas.defaultCursor = this
                                ._savedProps.defaultCursor, this.canvas.moveCursor = this._savedProps
                                .moveCursor)
                    },
                    exitEditing: function () {
                        return this.selected = !1, this.isEditing = !1, this.selectable = !0, this
                            .selectionEnd = this.selectionStart, this.hiddenTextarea && this.hiddenTextarea
                            .blur(), this.abortCursorAnimation(), this._restoreEditingProps(), this
                            ._currentCursorOpacity = 0, this.fire("editing:exited"), this
                    },
                    _removeExtraneousStyles: function () {
                        var e = this.text.split(this._reNewline);
                        for (var t in this.styles) e[t] || delete this.styles[t]
                    },
                    _removeCharsFromTo: function (e, t) {
                        var n = t;
                        while (n !== e) {
                            var r = this.get2DCursorLocation(n).charIndex;
                            n--;
                            var i = this.get2DCursorLocation(n).charIndex,
                                s = i > r;
                            s ? this.removeStyleObject(s, n + 1) : this.removeStyleObject(this
                                .get2DCursorLocation(n).charIndex === 0, n)
                        }
                        this.text = this.text.slice(0, e) + this.text.slice(t)
                    },
                    insertChars: function (e) {
                        var t = this.text.slice(this.selectionStart, this.selectionStart + 1) === "\n";
                        this.text = this.text.slice(0, this.selectionStart) + e + this.text.slice(this
                                .selectionEnd), this.selectionStart === this.selectionEnd ? this
                            .insertStyleObjects(e, t, this.copiedStyles) : this.selectionEnd - this
                            .selectionStart > 1 && console.log("replacing MORE than 1 char"), this
                            .selectionStart += e.length, this.selectionEnd = this.selectionStart, this
                            .canvas && this.canvas.renderAll().renderAll(), this.setCoords(), this.fire(
                                "text:changed")
                    },
                    insertNewlineStyleObject: function (t, n, r) {
                        this.shiftLineStyles(t, 1), this.styles[t + 1] || (this.styles[t + 1] = {});
                        var i = this.styles[t][n - 1],
                            s = {};
                        if (r) s[0] = e(i), this.styles[t + 1] = s;
                        else {
                            for (var o in this.styles[t]) parseInt(o, 10) >= n && (s[parseInt(o, 10) - n] =
                                this.styles[t][o], delete this.styles[t][o]);
                            this.styles[t + 1] = s
                        }
                    },
                    insertCharStyleObject: function (t, n, r) {
                        var i = this.styles[t],
                            s = e(i);
                        n === 0 && !r && (n = 1);
                        for (var o in s) {
                            var u = parseInt(o, 10);
                            u >= n && (i[u + 1] = s[u])
                        }
                        this.styles[t][n] = r || e(i[n - 1])
                    },
                    insertStyleObjects: function (e, t, n) {
                        if (this.isEmptyStyles()) return;
                        var r = this.get2DCursorLocation(),
                            i = r.lineIndex,
                            s = r.charIndex;
                        this.styles[i] || (this.styles[i] = {}), e === "\n" ? this.insertNewlineStyleObject(
                            i, s, t) : n ? this._insertStyles(n) : this.insertCharStyleObject(i, s)
                    },
                    _insertStyles: function (e) {
                        for (var t = 0, n = e.length; t < n; t++) {
                            var r = this.get2DCursorLocation(this.selectionStart + t),
                                i = r.lineIndex,
                                s = r.charIndex;
                            this.insertCharStyleObject(i, s, e[t])
                        }
                    },
                    shiftLineStyles: function (t, n) {
                        var r = e(this.styles);
                        for (var i in this.styles) {
                            var s = parseInt(i, 10);
                            s > t && (this.styles[s + n] = r[s])
                        }
                    },
                    removeStyleObject: function (t, n) {
                        var r = this.get2DCursorLocation(n),
                            i = r.lineIndex,
                            s = r.charIndex;
                        if (t) {
                            var o = this.text.split(this._reNewline),
                                u = o[i - 1],
                                a = u.length;
                            this.styles[i - 1] || (this.styles[i - 1] = {});
                            for (s in this.styles[i]) this.styles[i - 1][parseInt(s, 10) + a] = this.styles[
                                i][s];
                            this.shiftLineStyles(i, -1)
                        } else {
                            var f = this.styles[i];
                            if (f) {
                                var l = this.selectionStart === this.selectionEnd ? -1 : 0;
                                delete f[s + l]
                            }
                            var c = e(f);
                            for (var h in c) {
                                var p = parseInt(h, 10);
                                p >= s && p !== 0 && (f[p - 1] = c[p], delete f[p])
                            }
                        }
                    },
                    insertNewline: function () {
                        this.insertChars("\n")
                    }
                })
            }(), fabric.util.object.extend(fabric.IText.prototype, {
                initDoubleClickSimulation: function () {
                    this.__lastClickTime = +(new Date), this.__lastLastClickTime = +(new Date), this
                        .lastPointer = {}, this.on("mousedown", this.onMouseDown.bind(this))
                },
                onMouseDown: function (e) {
                    this.__newClickTime = +(new Date);
                    var t = this.canvas.getPointer(e.e);
                    this.isTripleClick(t) ? (this.fire("tripleclick", e), this._stopEvent(e.e)) : this
                        .isDoubleClick(t) && (this.fire("dblclick", e), this._stopEvent(e.e)), this
                        .__lastLastClickTime = this.__lastClickTime, this.__lastClickTime = this.__newClickTime,
                        this.__lastPointer = t
                },
                isDoubleClick: function (e) {
                    return this.__newClickTime - this.__lastClickTime < 500 && this.__lastPointer.x === e.x &&
                        this.__lastPointer.y === e.y
                },
                isTripleClick: function (e) {
                    return this.__newClickTime - this.__lastClickTime < 500 && this.__lastClickTime - this
                        .__lastLastClickTime < 500 && this.__lastPointer.x === e.x && this.__lastPointer.y === e
                        .y
                },
                _stopEvent: function (e) {
                    e.preventDefault && e.preventDefault(), e.stopPropagation && e.stopPropagation()
                },
                initCursorSelectionHandlers: function () {
                    this.initSelectedHandler(), this.initMousedownHandler(), this.initMousemoveHandler(), this
                        .initMouseupHandler(), this.initClicks()
                },
                initClicks: function () {
                    this.on("dblclick", function (e) {
                        this.selectWord(this.getSelectionStartFromPointer(e.e))
                    }), this.on("tripleclick", function (e) {
                        this.selectLine(this.getSelectionStartFromPointer(e.e))
                    })
                },
                initMousedownHandler: function () {
                    this.on("mousedown", function (e) {
                        var t = this.canvas.getPointer(e.e);
                        this.__mousedownX = t.x, this.__mousedownY = t.y, this.__isMousedown = !0, this
                            .hiddenTextarea && this.canvas && this.canvas.wrapperEl.appendChild(this
                                .hiddenTextarea), this.isEditing ? (this.setCursorByClick(e.e), this
                                .__selectionStartOnMouseDown = this.selectionStart) : this
                            .exitEditingOnOthers()
                    })
                },
                initMousemoveHandler: function () {
                    this.on("mousemove", function (e) {
                        if (!this.__isMousedown || !this.isEditing) return;
                        var t = this.getSelectionStartFromPointer(e.e);
                        t >= this.__selectionStartOnMouseDown ? (this.setSelectionStart(this
                            .__selectionStartOnMouseDown), this.setSelectionEnd(t)) : (this
                            .setSelectionStart(t), this.setSelectionEnd(this
                                .__selectionStartOnMouseDown))
                    })
                },
                _isObjectMoved: function (e) {
                    var t = this.canvas.getPointer(e);
                    return this.__mousedownX !== t.x || this.__mousedownY !== t.y
                },
                initMouseupHandler: function () {
                    this.on("mouseup", function (e) {
                        this.__isMousedown = !1;
                        if (this._isObjectMoved(e.e)) return;
                        this.selected && this.enterEditing()
                    })
                },
                setCursorByClick: function (e) {
                    var t = this.getSelectionStartFromPointer(e);
                    e.shiftKey ? t < this.selectionStart ? (this.setSelectionEnd(this.selectionStart), this
                        .setSelectionStart(t)) : this.setSelectionEnd(t) : (this.setSelectionStart(t), this
                        .setSelectionEnd(t))
                },
                _getLocalRotatedPointer: function (e) {
                    var t = this.canvas.getPointer(e),
                        n = new fabric.Point(t.x, t.y),
                        r = new fabric.Point(this.left, this.top),
                        i = fabric.util.rotatePoint(n, r, fabric.util.degreesToRadians(-this.angle));
                    return this.getLocalPointer(e, i)
                },
                getSelectionStartFromPointer: function (e) {
                    var t = this._getLocalRotatedPointer(e),
                        n = this.text.split(this._reNewline),
                        r = 0,
                        i = 0,
                        s = 0,
                        o = 0,
                        u;
                    for (var a = 0, f = n.length; a < f; a++) {
                        s += this._getHeightOfLine(this.ctx, a) * this.scaleY;
                        var l = this._getWidthOfLine(this.ctx, a, n),
                            c = this._getLineLeftOffset(l);
                        i = c, this.flipX && (n[a] = n[a].split("").reverse().join(""));
                        for (var h = 0, p = n[a].length; h < p; h++) {
                            var d = n[a][h];
                            r = i, i += this._getWidthOfChar(this.ctx, d, a, this.flipX ? p - h : h) * this
                                .scaleX;
                            if (s <= t.y || i <= t.x) {
                                o++;
                                continue
                            }
                            return this._getNewSelectionStartFromOffset(t, r, i, o + a, p)
                        }
                    }
                    if (typeof u == "undefined") return this.text.length
                },
                _getNewSelectionStartFromOffset: function (e, t, n, r, i) {
                    var s = e.x - t,
                        o = n - e.x,
                        u = o > s ? 0 : 1,
                        a = r + u;
                    return this.flipX && (a = i - a), a > this.text.length && (a = this.text.length), a
                }
            }), fabric.util.object.extend(fabric.IText.prototype, {
                initKeyHandlers: function () {
                    fabric.util.addListener(fabric.document, "keydown", this.onKeyDown.bind(this)), fabric.util
                        .addListener(fabric.document, "keypress", this.onKeyPress.bind(this))
                },
                initHiddenTextarea: function () {
                    this.hiddenTextarea = fabric.document.createElement("textarea"), this.hiddenTextarea
                        .setAttribute("autocapitalize", "off"), this.hiddenTextarea.style.cssText =
                        "position: absolute; top: 0; left: -9999px", fabric.document.body.appendChild(this
                            .hiddenTextarea)
                },
                _keysMap: {
                    8: "removeChars",
                    13: "insertNewline",
                    37: "moveCursorLeft",
                    38: "moveCursorUp",
                    39: "moveCursorRight",
                    40: "moveCursorDown",
                    46: "forwardDelete"
                },
                _ctrlKeysMap: {
                    65: "selectAll",
                    67: "copy",
                    86: "paste",
                    88: "cut"
                },
                onKeyDown: function (e) {
                    if (!this.isEditing) return;
                    if (e.keyCode in this._keysMap) this[this._keysMap[e.keyCode]](e);
                    else {
                        if (!(e.keyCode in this._ctrlKeysMap && (e.ctrlKey || e.metaKey))) return;
                        this[this._ctrlKeysMap[e.keyCode]](e)
                    }
                    e.preventDefault(), e.stopPropagation(), this.canvas && this.canvas.renderAll()
                },
                forwardDelete: function (e) {
                    this.selectionStart === this.selectionEnd && this.moveCursorRight(e), this.removeChars(e)
                },
                copy: function () {
                    var e = this.getSelectedText();
                    this.copiedText = e, this.copiedStyles = this.getSelectionStyles(this.selectionStart, this
                        .selectionEnd)
                },
                paste: function () {
                    this.copiedText && this.insertChars(this.copiedText)
                },
                cut: function (e) {
                    this.copy(), this.removeChars(e)
                },
                onKeyPress: function (e) {
                    if (!this.isEditing || e.metaKey || e.ctrlKey || e.keyCode === 8 || e.keyCode === 13)
                        return;
                    this.insertChars(String.fromCharCode(e.which)), e.preventDefault(), e.stopPropagation()
                },
                getDownCursorOffset: function (e, t) {
                    var n = t ? this.selectionEnd : this.selectionStart,
                        r = this.text.split(this._reNewline),
                        i, s, o = this.text.slice(0, n),
                        u = this.text.slice(n),
                        a = o.slice(o.lastIndexOf("\n") + 1),
                        f = u.match(/(.*)\n?/)[1],
                        l = (u.match(/.*\n(.*)\n?/) || {})[1] || "",
                        c = this.get2DCursorLocation(n);
                    if (c.lineIndex === r.length - 1 || e.metaKey) return this.text.length - n;
                    var h = this._getWidthOfLine(this.ctx, c.lineIndex, r);
                    s = this._getLineLeftOffset(h);
                    var p = s,
                        d = c.lineIndex;
                    for (var v = 0, m = a.length; v < m; v++) i = a[v], p += this._getWidthOfChar(this.ctx, i,
                        d, v);
                    var g = this._getIndexOnNextLine(c, l, p, r);
                    return f.length + 1 + g
                },
                _getIndexOnNextLine: function (e, t, n, r) {
                    var i = e.lineIndex + 1,
                        s = this._getWidthOfLine(this.ctx, i, r),
                        o = this._getLineLeftOffset(s),
                        u = o,
                        a = 0,
                        f;
                    for (var l = 0, c = t.length; l < c; l++) {
                        var h = t[l],
                            p = this._getWidthOfChar(this.ctx, h, i, l);
                        u += p;
                        if (u > n) {
                            f = !0;
                            var d = u - p,
                                v = u,
                                m = Math.abs(d - n),
                                g = Math.abs(v - n);
                            a = g < m ? l + 1 : l;
                            break
                        }
                    }
                    return f || (a = t.length), a
                },
                moveCursorDown: function (e) {
                    this.abortCursorAnimation(), this._currentCursorOpacity = 1;
                    var t = this.getDownCursorOffset(e, this._selectionDirection === "right");
                    e.shiftKey ? this.moveCursorDownWithShift(t) : this.moveCursorDownWithoutShift(t), this
                        .initDelayedCursor()
                },
                moveCursorDownWithoutShift: function (e) {
                    this._selectionDirection = "right", this.selectionStart += e, this.selectionStart > this
                        .text.length && (this.selectionStart = this.text.length), this.selectionEnd = this
                        .selectionStart
                },
                moveCursorDownWithShift: function (e) {
                    if (this._selectionDirection === "left" && this.selectionStart !== this.selectionEnd) {
                        this.selectionStart += e, this._selectionDirection = "left";
                        return
                    }
                    this._selectionDirection = "right", this.selectionEnd += e, this.selectionEnd > this.text
                        .length && (this.selectionEnd = this.text.length)
                },
                getUpCursorOffset: function (e, t) {
                    var n = t ? this.selectionEnd : this.selectionStart,
                        r = this.get2DCursorLocation(n);
                    if (r.lineIndex === 0 || e.metaKey) return n;
                    var i = this.text.slice(0, n),
                        s = i.slice(i.lastIndexOf("\n") + 1),
                        o = (i.match(/\n?(.*)\n.*$/) || {})[1] || "",
                        u = this.text.split(this._reNewline),
                        a, f, l = this._getWidthOfLine(this.ctx, r.lineIndex, u);
                    f = this._getLineLeftOffset(l);
                    var c = f,
                        h = r.lineIndex;
                    for (var p = 0, d = s.length; p < d; p++) a = s[p], c += this._getWidthOfChar(this.ctx, a,
                        h, p);
                    var v = this._getIndexOnPrevLine(r, o, c, u);
                    return o.length - v + s.length
                },
                _getIndexOnPrevLine: function (e, t, n, r) {
                    var i = e.lineIndex - 1,
                        s = this._getWidthOfLine(this.ctx, i, r),
                        o = this._getLineLeftOffset(s),
                        u = o,
                        a = 0,
                        f;
                    for (var l = 0, c = t.length; l < c; l++) {
                        var h = t[l],
                            p = this._getWidthOfChar(this.ctx, h, i, l);
                        u += p;
                        if (u > n) {
                            f = !0;
                            var d = u - p,
                                v = u,
                                m = Math.abs(d - n),
                                g = Math.abs(v - n);
                            a = g < m ? l : l - 1;
                            break
                        }
                    }
                    return f || (a = t.length - 1), a
                },
                moveCursorUp: function (e) {
                    this.abortCursorAnimation(), this._currentCursorOpacity = 1;
                    var t = this.getUpCursorOffset(e, this._selectionDirection === "right");
                    e.shiftKey ? this.moveCursorUpWithShift(t) : this.moveCursorUpWithoutShift(t), this
                        .initDelayedCursor()
                },
                moveCursorUpWithShift: function (e) {
                    if (this.selectionStart === this.selectionEnd) this.selectionStart -= e;
                    else {
                        if (this._selectionDirection === "right") {
                            this.selectionEnd -= e, this._selectionDirection = "right";
                            return
                        }
                        this.selectionStart -= e
                    }
                    this.selectionStart < 0 && (this.selectionStart = 0), this._selectionDirection = "left"
                },
                moveCursorUpWithoutShift: function (e) {
                    this.selectionStart === this.selectionEnd && (this.selectionStart -= e), this
                        .selectionStart < 0 && (this.selectionStart = 0), this.selectionEnd = this
                        .selectionStart, this._selectionDirection = "left"
                },
                moveCursorLeft: function (e) {
                    if (this.selectionStart === 0 && this.selectionEnd === 0) return;
                    this.abortCursorAnimation(), this._currentCursorOpacity = 1, e.shiftKey ? this
                        .moveCursorLeftWithShift(e) : this.moveCursorLeftWithoutShift(e), this
                        .initDelayedCursor()
                },
                _move: function (e, t, n) {
                    e.altKey ? this[t] = this["findWordBoundary" + n](this[t]) : e.metaKey ? this[t] = this[
                        "findLineBoundary" + n](this[t]) : this[t] += n === "Left" ? -1 : 1
                },
                _moveLeft: function (e, t) {
                    this._move(e, t, "Left")
                },
                _moveRight: function (e, t) {
                    this._move(e, t, "Right")
                },
                moveCursorLeftWithoutShift: function (e) {
                    this._selectionDirection = "left", this.selectionEnd === this.selectionStart && this
                        ._moveLeft(e, "selectionStart"), this.selectionEnd = this.selectionStart
                },
                moveCursorLeftWithShift: function (e) {
                    this._selectionDirection === "right" && this.selectionStart !== this.selectionEnd ? this
                        ._moveLeft(e, "selectionEnd") : (this._selectionDirection = "left", this._moveLeft(e,
                                "selectionStart"), this.text.charAt(this.selectionStart) === "\n" && this
                            .selectionStart--, this.selectionStart < 0 && (this.selectionStart = 0))
                },
                moveCursorRight: function (e) {
                    if (this.selectionStart >= this.text.length && this.selectionEnd >= this.text.length)
                        return;
                    this.abortCursorAnimation(), this._currentCursorOpacity = 1, e.shiftKey ? this
                        .moveCursorRightWithShift(e) : this.moveCursorRightWithoutShift(e), this
                        .initDelayedCursor()
                },
                moveCursorRightWithShift: function (e) {
                    this._selectionDirection === "left" && this.selectionStart !== this.selectionEnd ? this
                        ._moveRight(e, "selectionStart") : (this._selectionDirection = "right", this._moveRight(
                                e, "selectionEnd"), this.text.charAt(this.selectionEnd - 1) === "\n" && this
                            .selectionEnd++, this.selectionEnd > this.text.length && (this.selectionEnd = this
                                .text.length))
                },
                moveCursorRightWithoutShift: function (e) {
                    this._selectionDirection = "right", this.selectionStart === this.selectionEnd ? (this
                        ._moveRight(e, "selectionStart"), this.selectionEnd = this.selectionStart) : (this
                        .selectionEnd += this.getNumNewLinesInSelectedText(), this.selectionEnd > this.text
                        .length && (this.selectionEnd = this.text.length), this.selectionStart = this
                        .selectionEnd)
                },
                removeChars: function (e) {
                    this.selectionStart === this.selectionEnd ? this._removeCharsNearCursor(e) : this
                        ._removeCharsFromTo(this.selectionStart, this.selectionEnd), this.selectionEnd = this
                        .selectionStart, this._removeExtraneousStyles(), this.canvas && this.canvas.renderAll()
                        .renderAll(), this.setCoords(), this.fire("text:changed")
                },
                _removeCharsNearCursor: function (e) {
                    if (this.selectionStart !== 0)
                        if (e.metaKey) {
                            var t = this.findLineBoundaryLeft(this.selectionStart);
                            this._removeCharsFromTo(t, this.selectionStart), this.selectionStart = t
                        } else if (e.altKey) {
                        var n = this.findWordBoundaryLeft(this.selectionStart);
                        this._removeCharsFromTo(n, this.selectionStart), this.selectionStart = n
                    } else {
                        var r = this.text.slice(this.selectionStart - 1, this.selectionStart) === "\n";
                        this.removeStyleObject(r), this.selectionStart--, this.text = this.text.slice(0, this
                            .selectionStart) + this.text.slice(this.selectionStart + 1)
                    }
                }
            }), fabric.util.object.extend(fabric.IText.prototype, {
                _setSVGTextLineText: function (e, t, n, r, i, s) {
                    this.styles[t] ? this._setSVGTextLineChars(e, t, n, r, i, s) : this.callSuper(
                        "_setSVGTextLineText", e, t, n, r, i)
                },
                _setSVGTextLineChars: function (e, t, n, r, i, s) {
                    var o = t === 0 || this.useNative ? "y" : "dy",
                        u = e.split(""),
                        a = 0,
                        f = this._getSVGLineLeftOffset(t),
                        l = this._getSVGLineTopOffset(t),
                        c = this._getHeightOfLine(this.ctx, t);
                    for (var h = 0, p = u.length; h < p; h++) {
                        var d = this.styles[t][h] || {};
                        n.push(this._createTextCharSpan(u[h], d, f, l, o, a));
                        var v = this._getWidthOfChar(this.ctx, u[h], t, h);
                        d.textBackgroundColor && s.push(this._createTextCharBg(d, f, l, c, v, a)), a += v
                    }
                },
                _getSVGLineLeftOffset: function (e) {
                    return this._boundaries && this._boundaries[e] ? fabric.util.toFixed(this._boundaries[e]
                        .left, 2) : 0
                },
                _getSVGLineTopOffset: function (e) {
                    var t = 0;
                    for (var n = 0; n <= e; n++) t += this._getHeightOfLine(this.ctx, n);
                    return t - this.height / 2
                },
                _createTextCharBg: function (e, t, n, r, i, s) {
                    return ['<rect fill="', e.textBackgroundColor, '" transform="translate(', -this.width / 2,
                        " ", -this.height + r, ")", '" x="', t + s, '" y="', n + r, '" width="', i,
                        '" height="', r, '"></rect>'
                    ].join("")
                },
                _createTextCharSpan: function (e, t, n, r, i, s) {
                    var o = this.getSvgStyles.call(fabric.util.object.extend({
                        visible: !0,
                        fill: this.fill,
                        stroke: this.stroke,
                        type: "text"
                    }, t));
                    return ['<tspan x="', n + s, '" ', i, '="', r, '" ', t.fontFamily ? 'font-family="' + t
                        .fontFamily.replace(/"/g, "'") + '" ' : "", t.fontSize ? 'font-size="' + t
                        .fontSize + '" ' : "", t.fontStyle ? 'font-style="' + t.fontStyle + '" ' : "", t
                        .fontWeight ? 'font-weight="' + t.fontWeight + '" ' : "", t.textDecoration ?
                        'text-decoration="' + t.textDecoration + '" ' : "", 'style="', o, '">', fabric.util
                        .string.escapeXml(e), "</tspan>"
                    ].join("")
                }
            }),
            function () {
                function request(e, t, n) {
                    var r = URL.parse(e);
                    r.port || (r.port = r.protocol.indexOf("https:") === 0 ? 443 : 80);
                    var i = r.port === 443 ? HTTPS : HTTP,
                        s = i.request({
                            hostname: r.hostname,
                            port: r.port,
                            path: r.path,
                            method: "GET"
                        }, function (e) {
                            var r = "";
                            t && e.setEncoding(t), e.on("end", function () {
                                n(r)
                            }), e.on("data", function (t) {
                                e.statusCode === 200 && (r += t)
                            })
                        });
                    s.on("error", function (e) {
                        e.errno === process.ECONNREFUSED ? fabric.log("ECONNREFUSED: connection refused to " + r
                            .hostname + ":" + r.port) : fabric.log(e.message)
                    }), s.end()
                }

                function request_fs(e, t) {
                    var n = require("fs");
                    n.readFile(e, function (e, n) {
                        if (e) throw fabric.log(e), e;
                        t(n)
                    })
                }
                if (typeof document != "undefined" && typeof window != "undefined") return;
                var DOMParser = (new require("xmldom")).DOMParser,
                    URL = require("url"),
                    HTTP = require("http"),
                    HTTPS = require("https"),
                    Canvas = require("canvas"),
                    Image = require("canvas").Image;
                fabric.util.loadImage = function (e, t, n) {
                    var r = function (r) {
                            i.src = new Buffer(r, "binary"), i._src = e, t && t.call(n, i)
                        },
                        i = new Image;
                    e && (e instanceof Buffer || e.indexOf("data") === 0) ? (i.src = i._src = e, t && t.call(n,
                            i)) : e && e.indexOf("http") !== 0 ? request_fs(e, r) : e ? request(e, "binary", r) :
                        t && t
                        .call(n, e)
                }, fabric.loadSVGFromURL = function (e, t, n) {
                    e = e.replace(/^\n\s*/, "").replace(/\?.*$/, "").trim(), e.indexOf("http") !== 0 ? request_fs(e,
                        function (e) {
                            fabric.loadSVGFromString(e, t, n)
                        }) : request(e, "", function (e) {
                        fabric.loadSVGFromString(e, t, n)
                    })
                }, fabric.loadSVGFromString = function (e, t, n) {
                    var r = (new DOMParser).parseFromString(e);
                    fabric.parseSVGDocument(r.documentElement, function (e, n) {
                        t && t(e, n)
                    }, n)
                }, fabric.util.getScript = function (url, callback) {
                    request(url, "", function (body) {
                        eval(body), callback && callback()
                    })
                }, fabric.Image.fromObject = function (e, t) {
                    fabric.util.loadImage(e.src, function (n) {
                        var r = new fabric.Image(n);
                        r._initConfig(e), r._initFilters(e, function (e) {
                            r.filters = e || [], t && t(r)
                        })
                    })
                }, fabric.createCanvasForNode = function (e, t) {
                    var n = fabric.document.createElement("canvas"),
                        r = new Canvas(e || 600, t || 600);
                    n.style = {}, n.width = r.width, n.height = r.height;
                    var i = fabric.Canvas || fabric.StaticCanvas,
                        s = new i(n);
                    return s.contextContainer = r.getContext("2d"), s.nodeCanvas = r, s.Font = Canvas.Font, s
                }, fabric.StaticCanvas.prototype.createPNGStream = function () {
                    return this.nodeCanvas.createPNGStream()
                }, fabric.StaticCanvas.prototype.createJPEGStream = function (e) {
                    return this.nodeCanvas.createJPEGStream(e)
                };
                var origSetWidth = fabric.StaticCanvas.prototype.setWidth;
                fabric.StaticCanvas.prototype.setWidth = function (e) {
                    return origSetWidth.call(this, e), this.nodeCanvas.width = e, this
                }, fabric.Canvas && (fabric.Canvas.prototype.setWidth = fabric.StaticCanvas.prototype.setWidth);
                var origSetHeight = fabric.StaticCanvas.prototype.setHeight;
                fabric.StaticCanvas.prototype.setHeight = function (e) {
                    return origSetHeight.call(this, e), this.nodeCanvas.height = e, this
                }, fabric.Canvas && (fabric.Canvas.prototype.setHeight = fabric.StaticCanvas.prototype.setHeight)
            }();
    </script>
    <script>
        /*
Copyright 2016 salesforce.com, inc. All rights reserved. 

Use of this software is subject to the salesforce.com Developerforce Terms of Use and other
applicable terms that salesforce.com may make available, as may be amended from time to time.
You may not decompile, reverse engineer, disassemble, attempt to derive the source code of,
decrypt, modify, or create derivative works of this software, updates thereto, or any part
thereof. You may not use the software to engage in any development activity that interferes
with, disrupts, damages, or accesses in an unauthorized manner the servers, networks, or
other properties or services of salesforce.com or any third party.

WITHOUT LIMITING THE GENERALITY OF THE FOREGOING, THE SOFTWARE IS PROVIDED "AS IS", WITHOUT
WARRANTY OF ANY KIND, EXPRESS OR IMPLIED. IN NO EVENT SHALL SALESFORCE.COM HAVE ANY LIABILITY
FOR ANY DAMAGES, INCLUDING BUT NOT LIMITED TO, DIRECT, INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE,
OR CONSEQUENTIAL DAMAGES, OR DAMAGES BASED ON LOST PROFITS, DATA OR USE, IN CONNECTION WITH THE
SOFTWARE, HOWEVER CAUSED AND, WHETHER IN CONTRACT, TORT OR UNDER ANY OTHER THEORY OF LIABILITY,
WHETHER OR NOT YOU HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.
*/



        sendMessage = function (userMessage) {
            if (typeof LCC !== "undefined" && typeof LCC.onlineSupport !== "undefined") {
                LCC.onlineSupport.sendMessage("containerUserMessage", {
                    payload: userMessage
                });
            } else {
                // TODO: offline
            }
        }

        addErrorHandler = function (handler) {
            if (typeof LCC !== "undefined" && typeof LCC.onlineSupport !== "undefined") {
                LCC.onlineSupport.addErrorHandler(handler);
            } else {
                // TODO: offline
            }
        }

        removeErrorHandler = function (handler) {
            if (typeof LCC !== "undefined" && typeof LCC.onlineSupport !== "undefined") {
                LCC.onlineSupport.removeErrorHandler(handler);
            } else {
                // TODO: offline
            }
        }

        addMessageHandler = function (handler) {
            if (typeof LCC !== "undefined" && typeof LCC.onlineSupport !== "undefined") {
                LCC.onlineSupport.addMessageHandler(handler);
            } else {
                // TODO: offline
            }
        }

        removeMessageHandler = function (handler) {
            if (typeof LCC !== "undefined" && typeof LCC.onlineSupport !== "undefined") {
                LCC.onlineSupport.removeMessageHandler(handler);
            } else {
                // TODO: offline
            }
        }

        getRESTAPISessionKey = function () {
            if (typeof LCC !== "undefined" && typeof LCC.onlineSupport !== "undefined") {
                return LCC.onlineSupport.getRESTAPISessionKey();
            } else {
                // TODO: offline
                return "";
            }
        }

        callApex = function (fullyQualifiedApexMethodName,
            apexMethodParameters,
            callbackFunction,
            apexCallConfiguration) {
            if (typeof Visualforce !== "undefined" &&
                typeof Visualforce.remoting !== "undefined" &&
                typeof Visualforce.remoting.Manager !== "undefined") {

                Visualforce.remoting.Manager.invokeAction(fullyQualifiedApexMethodName,
                    apexMethodParameters,
                    callbackFunction,
                    apexCallConfiguration);
            } else {
                // TODO: offline
            }
        }
    </script>
    <script>
        ! function (a, b) {
            "use strict";
            "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) :
                function (a) {
                    if (!a.document) throw new Error("jQuery requires a window with a document");
                    return b(a)
                } : b(a)
        }("undefined" != typeof window ? window : this, function (a, b) {
            "use strict";
            var c = [],
                d = a.document,
                e = Object.getPrototypeOf,
                f = c.slice,
                g = c.concat,
                h = c.push,
                i = c.indexOf,
                j = {},
                k = j.toString,
                l = j.hasOwnProperty,
                m = l.toString,
                n = m.call(Object),
                o = {};

            function p(a, b) {
                b = b || d;
                var c = b.createElement("script");
                c.text = a, b.head.appendChild(c).parentNode.removeChild(c)
            }
            var q = "3.1.1",
                r = function (a, b) {
                    return new r.fn.init(a, b)
                },
                s = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
                t = /^-ms-/,
                u = /-([a-z])/g,
                v = function (a, b) {
                    return b.toUpperCase()
                };
            r.fn = r.prototype = {
                jquery: q,
                constructor: r,
                length: 0,
                toArray: function () {
                    return f.call(this)
                },
                get: function (a) {
                    return null == a ? f.call(this) : a < 0 ? this[a + this.length] : this[a]
                },
                pushStack: function (a) {
                    var b = r.merge(this.constructor(), a);
                    return b.prevObject = this, b
                },
                each: function (a) {
                    return r.each(this, a)
                },
                map: function (a) {
                    return this.pushStack(r.map(this, function (b, c) {
                        return a.call(b, c, b)
                    }))
                },
                slice: function () {
                    return this.pushStack(f.apply(this, arguments))
                },
                first: function () {
                    return this.eq(0)
                },
                last: function () {
                    return this.eq(-1)
                },
                eq: function (a) {
                    var b = this.length,
                        c = +a + (a < 0 ? b : 0);
                    return this.pushStack(c >= 0 && c < b ? [this[c]] : [])
                },
                end: function () {
                    return this.prevObject || this.constructor()
                },
                push: h,
                sort: c.sort,
                splice: c.splice
            }, r.extend = r.fn.extend = function () {
                var a, b, c, d, e, f, g = arguments[0] || {},
                    h = 1,
                    i = arguments.length,
                    j = !1;
                for ("boolean" == typeof g && (j = g, g = arguments[h] || {}, h++), "object" == typeof g || r
                    .isFunction(g) || (g = {}), h === i && (g = this, h--); h < i; h++)
                    if (null != (a = arguments[h]))
                        for (b in a) c = g[b], d = a[b], g !== d && (j && d && (r.isPlainObject(d) || (e = r
                            .isArray(d))) ? (e ? (e = !1, f = c && r.isArray(c) ? c : []) : f = c && r
                            .isPlainObject(c) ? c : {}, g[b] = r.extend(j, f, d)) : void 0 !== d && (g[
                            b] = d));
                return g
            }, r.extend({
                expando: "jQuery" + (q + Math.random()).replace(/\D/g, ""),
                isReady: !0,
                error: function (a) {
                    throw new Error(a)
                },
                noop: function () {},
                isFunction: function (a) {
                    return "function" === r.type(a)
                },
                isArray: Array.isArray,
                isWindow: function (a) {
                    return null != a && a === a.window
                },
                isNumeric: function (a) {
                    var b = r.type(a);
                    return ("number" === b || "string" === b) && !isNaN(a - parseFloat(a))
                },
                isPlainObject: function (a) {
                    var b, c;
                    return !(!a || "[object Object]" !== k.call(a)) && (!(b = e(a)) || (c = l.call(b,
                        "constructor") && b.constructor, "function" == typeof c && m.call(
                        c) === n))
                },
                isEmptyObject: function (a) {
                    var b;
                    for (b in a) return !1;
                    return !0
                },
                type: function (a) {
                    return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? j[k
                        .call(a)] || "object" : typeof a
                },
                globalEval: function (a) {
                    p(a)
                },
                camelCase: function (a) {
                    return a.replace(t, "ms-").replace(u, v)
                },
                nodeName: function (a, b) {
                    return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
                },
                each: function (a, b) {
                    var c, d = 0;
                    if (w(a)) {
                        for (c = a.length; d < c; d++)
                            if (b.call(a[d], d, a[d]) === !1) break
                    } else
                        for (d in a)
                            if (b.call(a[d], d, a[d]) === !1) break;
                    return a
                },
                trim: function (a) {
                    return null == a ? "" : (a + "").replace(s, "")
                },
                makeArray: function (a, b) {
                    var c = b || [];
                    return null != a && (w(Object(a)) ? r.merge(c, "string" == typeof a ? [a] : a) : h
                        .call(c, a)), c
                },
                inArray: function (a, b, c) {
                    return null == b ? -1 : i.call(b, a, c)
                },
                merge: function (a, b) {
                    for (var c = +b.length, d = 0, e = a.length; d < c; d++) a[e++] = b[d];
                    return a.length = e, a
                },
                grep: function (a, b, c) {
                    for (var d, e = [], f = 0, g = a.length, h = !c; f < g; f++) d = !b(a[f], f), d !==
                        h && e.push(a[f]);
                    return e
                },
                map: function (a, b, c) {
                    var d, e, f = 0,
                        h = [];
                    if (w(a))
                        for (d = a.length; f < d; f++) e = b(a[f], f, c), null != e && h.push(e);
                    else
                        for (f in a) e = b(a[f], f, c), null != e && h.push(e);
                    return g.apply([], h)
                },
                guid: 1,
                proxy: function (a, b) {
                    var c, d, e;
                    if ("string" == typeof b && (c = a[b], b = a, a = c), r.isFunction(a)) return d = f
                        .call(arguments, 2), e = function () {
                            return a.apply(b || this, d.concat(f.call(arguments)))
                        }, e.guid = a.guid = a.guid || r.guid++, e
                },
                now: Date.now,
                support: o
            }), "function" == typeof Symbol && (r.fn[Symbol.iterator] = c[Symbol.iterator]), r.each(
                "Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
                function (a, b) {
                    j["[object " + b + "]"] = b.toLowerCase()
                });

            function w(a) {
                var b = !!a && "length" in a && a.length,
                    c = r.type(a);
                return "function" !== c && !r.isWindow(a) && ("array" === c || 0 === b || "number" == typeof b &&
                    b > 0 && b - 1 in a)
            }
            var x = function (a) {
                var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date,
                    v = a.document,
                    w = 0,
                    x = 0,
                    y = ha(),
                    z = ha(),
                    A = ha(),
                    B = function (a, b) {
                        return a === b && (l = !0), 0
                    },
                    C = {}.hasOwnProperty,
                    D = [],
                    E = D.pop,
                    F = D.push,
                    G = D.push,
                    H = D.slice,
                    I = function (a, b) {
                        for (var c = 0, d = a.length; c < d; c++)
                            if (a[c] === b) return c;
                        return -1
                    },
                    J =
                    "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                    K = "[\\x20\\t\\r\\n\\f]",
                    L = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
                    M = "\\[" + K + "*(" + L + ")(?:" + K + "*([*^$|!~]?=)" + K +
                    "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + L + "))|)" + K + "*\\]",
                    N = ":(" + L +
                    ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
                    M + ")*)|.*)\\)|)",
                    O = new RegExp(K + "+", "g"),
                    P = new RegExp("^" + K + "+|((?:^|[^\\\\])(?:\\\\.)*)" + K + "+$", "g"),
                    Q = new RegExp("^" + K + "*," + K + "*"),
                    R = new RegExp("^" + K + "*([>+~]|" + K + ")" + K + "*"),
                    S = new RegExp("=" + K + "*([^\\]'\"]*?)" + K + "*\\]", "g"),
                    T = new RegExp(N),
                    U = new RegExp("^" + L + "$"),
                    V = {
                        ID: new RegExp("^#(" + L + ")"),
                        CLASS: new RegExp("^\\.(" + L + ")"),
                        TAG: new RegExp("^(" + L + "|[*])"),
                        ATTR: new RegExp("^" + M),
                        PSEUDO: new RegExp("^" + N),
                        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + K +
                            "*(even|odd|(([+-]|)(\\d*)n|)" + K + "*(?:([+-]|)" + K + "*(\\d+)|))" + K +
                            "*\\)|)", "i"),
                        bool: new RegExp("^(?:" + J + ")$", "i"),
                        needsContext: new RegExp("^" + K + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                            K + "*((?:-\\d)?\\d*)" + K + "*\\)|)(?=[^-]|$)", "i")
                    },
                    W = /^(?:input|select|textarea|button)$/i,
                    X = /^h\d$/i,
                    Y = /^[^{]+\{\s*\[native \w/,
                    Z = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                    $ = /[+~]/,
                    _ = new RegExp("\\\\([\\da-f]{1,6}" + K + "?|(" + K + ")|.)", "ig"),
                    aa = function (a, b, c) {
                        var d = "0x" + b - 65536;
                        return d !== d || c ? b : d < 0 ? String.fromCharCode(d + 65536) : String.fromCharCode(
                            d >> 10 | 55296, 1023 & d | 56320)
                    },
                    ba = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
                    ca = function (a, b) {
                        return b ? "\0" === a ? "\ufffd" : a.slice(0, -1) + "\\" + a.charCodeAt(a.length - 1)
                            .toString(16) + " " : "\\" + a
                    },
                    da = function () {
                        m()
                    },
                    ea = ta(function (a) {
                        return a.disabled === !0 && ("form" in a || "label" in a)
                    }, {
                        dir: "parentNode",
                        next: "legend"
                    });
                try {
                    G.apply(D = H.call(v.childNodes), v.childNodes), D[v.childNodes.length].nodeType
                } catch (fa) {
                    G = {
                        apply: D.length ? function (a, b) {
                            F.apply(a, H.call(b))
                        } : function (a, b) {
                            var c = a.length,
                                d = 0;
                            while (a[c++] = b[d++]);
                            a.length = c - 1
                        }
                    }
                }

                function ga(a, b, d, e) {
                    var f, h, j, k, l, o, r, s = b && b.ownerDocument,
                        w = b ? b.nodeType : 9;
                    if (d = d || [], "string" != typeof a || !a || 1 !== w && 9 !== w && 11 !== w) return d;
                    if (!e && ((b ? b.ownerDocument || b : v) !== n && m(b), b = b || n, p)) {
                        if (11 !== w && (l = Z.exec(a)))
                            if (f = l[1]) {
                                if (9 === w) {
                                    if (!(j = b.getElementById(f))) return d;
                                    if (j.id === f) return d.push(j), d
                                } else if (s && (j = s.getElementById(f)) && t(b, j) && j.id === f) return d
                                    .push(j), d
                            } else {
                                if (l[2]) return G.apply(d, b.getElementsByTagName(a)), d;
                                if ((f = l[3]) && c.getElementsByClassName && b.getElementsByClassName) return G
                                    .apply(d, b.getElementsByClassName(f)), d
                            } if (c.qsa && !A[a + " "] && (!q || !q.test(a))) {
                            if (1 !== w) s = b, r = a;
                            else if ("object" !== b.nodeName.toLowerCase()) {
                                (k = b.getAttribute("id")) ? k = k.replace(ba, ca): b.setAttribute("id", k = u),
                                    o = g(a), h = o.length;
                                while (h--) o[h] = "#" + k + " " + sa(o[h]);
                                r = o.join(","), s = $.test(a) && qa(b.parentNode) || b
                            }
                            if (r) try {
                                return G.apply(d, s.querySelectorAll(r)), d
                            } catch (x) {} finally {
                                k === u && b.removeAttribute("id")
                            }
                        }
                    }
                    return i(a.replace(P, "$1"), b, d, e)
                }

                function ha() {
                    var a = [];

                    function b(c, e) {
                        return a.push(c + " ") > d.cacheLength && delete b[a.shift()], b[c + " "] = e
                    }
                    return b
                }

                function ia(a) {
                    return a[u] = !0, a
                }

                function ja(a) {
                    var b = n.createElement("fieldset");
                    try {
                        return !!a(b)
                    } catch (c) {
                        return !1
                    } finally {
                        b.parentNode && b.parentNode.removeChild(b), b = null
                    }
                }

                function ka(a, b) {
                    var c = a.split("|"),
                        e = c.length;
                    while (e--) d.attrHandle[c[e]] = b
                }

                function la(a, b) {
                    var c = b && a,
                        d = c && 1 === a.nodeType && 1 === b.nodeType && a.sourceIndex - b.sourceIndex;
                    if (d) return d;
                    if (c)
                        while (c = c.nextSibling)
                            if (c === b) return -1;
                    return a ? 1 : -1
                }

                function ma(a) {
                    return function (b) {
                        var c = b.nodeName.toLowerCase();
                        return "input" === c && b.type === a
                    }
                }

                function na(a) {
                    return function (b) {
                        var c = b.nodeName.toLowerCase();
                        return ("input" === c || "button" === c) && b.type === a
                    }
                }

                function oa(a) {
                    return function (b) {
                        return "form" in b ? b.parentNode && b.disabled === !1 ? "label" in b ? "label" in b
                            .parentNode ? b.parentNode.disabled === a : b.disabled === a : b.isDisabled ===
                            a || b.isDisabled !== !a && ea(b) === a : b.disabled === a : "label" in b && b
                            .disabled === a
                    }
                }

                function pa(a) {
                    return ia(function (b) {
                        return b = +b, ia(function (c, d) {
                            var e, f = a([], c.length, b),
                                g = f.length;
                            while (g--) c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                        })
                    })
                }

                function qa(a) {
                    return a && "undefined" != typeof a.getElementsByTagName && a
                }
                c = ga.support = {}, f = ga.isXML = function (a) {
                    var b = a && (a.ownerDocument || a).documentElement;
                    return !!b && "HTML" !== b.nodeName
                }, m = ga.setDocument = function (a) {
                    var b, e, g = a ? a.ownerDocument || a : v;
                    return g !== n && 9 === g.nodeType && g.documentElement ? (n = g, o = n.documentElement,
                        p = !f(n), v !== n && (e = n.defaultView) && e.top !== e && (e
                            .addEventListener ? e.addEventListener("unload", da, !1) : e.attachEvent &&
                            e.attachEvent("onunload", da)), c.attributes = ja(function (a) {
                            return a.className = "i", !a.getAttribute("className")
                        }), c.getElementsByTagName = ja(function (a) {
                            return a.appendChild(n.createComment("")), !a.getElementsByTagName("*")
                                .length
                        }), c.getElementsByClassName = Y.test(n.getElementsByClassName), c.getById = ja(
                            function (a) {
                                return o.appendChild(a).id = u, !n.getElementsByName || !n
                                    .getElementsByName(u).length
                            }), c.getById ? (d.filter.ID = function (a) {
                            var b = a.replace(_, aa);
                            return function (a) {
                                return a.getAttribute("id") === b
                            }
                        }, d.find.ID = function (a, b) {
                            if ("undefined" != typeof b.getElementById && p) {
                                var c = b.getElementById(a);
                                return c ? [c] : []
                            }
                        }) : (d.filter.ID = function (a) {
                            var b = a.replace(_, aa);
                            return function (a) {
                                var c = "undefined" != typeof a.getAttributeNode && a
                                    .getAttributeNode("id");
                                return c && c.value === b
                            }
                        }, d.find.ID = function (a, b) {
                            if ("undefined" != typeof b.getElementById && p) {
                                var c, d, e, f = b.getElementById(a);
                                if (f) {
                                    if (c = f.getAttributeNode("id"), c && c.value === a) return [
                                        f
                                    ];
                                    e = b.getElementsByName(a), d = 0;
                                    while (f = e[d++])
                                        if (c = f.getAttributeNode("id"), c && c.value === a)
                                            return [f]
                                }
                                return []
                            }
                        }), d.find.TAG = c.getElementsByTagName ? function (a, b) {
                            return "undefined" != typeof b.getElementsByTagName ? b
                                .getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0
                        } : function (a, b) {
                            var c, d = [],
                                e = 0,
                                f = b.getElementsByTagName(a);
                            if ("*" === a) {
                                while (c = f[e++]) 1 === c.nodeType && d.push(c);
                                return d
                            }
                            return f
                        }, d.find.CLASS = c.getElementsByClassName && function (a, b) {
                            if ("undefined" != typeof b.getElementsByClassName && p) return b
                                .getElementsByClassName(a)
                        }, r = [], q = [], (c.qsa = Y.test(n.querySelectorAll)) && (ja(function (a) {
                            o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" +
                                u +
                                "-\r\\' msallowcapture=''><option selected=''></option></select>",
                                a.querySelectorAll("[msallowcapture^='']").length && q.push(
                                    "[*^$]=" + K + "*(?:''|\"\")"), a.querySelectorAll(
                                    "[selected]").length || q.push("\\[" + K + "*(?:value|" +
                                    J + ")"), a.querySelectorAll("[id~=" + u + "-]").length || q
                                .push("~="), a.querySelectorAll(":checked").length || q.push(
                                    ":checked"), a.querySelectorAll("a#" + u + "+*").length || q
                                .push(".#.+[+~]")
                        }), ja(function (a) {
                            a.innerHTML =
                                "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                            var b = n.createElement("input");
                            b.setAttribute("type", "hidden"), a.appendChild(b).setAttribute(
                                    "name", "D"), a.querySelectorAll("[name=d]").length && q
                                .push("name" + K + "*[*^$|!~]?="), 2 !== a.querySelectorAll(
                                    ":enabled").length && q.push(":enabled", ":disabled"), o
                                .appendChild(a).disabled = !0, 2 !== a.querySelectorAll(
                                    ":disabled").length && q.push(":enabled", ":disabled"), a
                                .querySelectorAll("*,:x"), q.push(",.*:")
                        })), (c.matchesSelector = Y.test(s = o.matches || o.webkitMatchesSelector || o
                            .mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ja(
                            function (a) {
                                c.disconnectedMatch = s.call(a, "*"), s.call(a, "[s!='']:x"), r.push(
                                    "!=", N)
                            }), q = q.length && new RegExp(q.join("|")), r = r.length && new RegExp(r
                            .join("|")), b = Y.test(o.compareDocumentPosition), t = b || Y.test(o
                            .contains) ? function (a, b) {
                            var c = 9 === a.nodeType ? a.documentElement : a,
                                d = b && b.parentNode;
                            return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) :
                                a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
                        } : function (a, b) {
                            if (b)
                                while (b = b.parentNode)
                                    if (b === a) return !0;
                            return !1
                        }, B = b ? function (a, b) {
                            if (a === b) return l = !0, 0;
                            var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                            return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a
                                .compareDocumentPosition(b) : 1, 1 & d || !c.sortDetached && b
                                .compareDocumentPosition(a) === d ? a === n || a.ownerDocument ===
                                v && t(v, a) ? -1 : b === n || b.ownerDocument === v && t(v, b) ?
                                1 : k ? I(k, a) - I(k, b) : 0 : 4 & d ? -1 : 1)
                        } : function (a, b) {
                            if (a === b) return l = !0, 0;
                            var c, d = 0,
                                e = a.parentNode,
                                f = b.parentNode,
                                g = [a],
                                h = [b];
                            if (!e || !f) return a === n ? -1 : b === n ? 1 : e ? -1 : f ? 1 : k ? I(k,
                                a) - I(k, b) : 0;
                            if (e === f) return la(a, b);
                            c = a;
                            while (c = c.parentNode) g.unshift(c);
                            c = b;
                            while (c = c.parentNode) h.unshift(c);
                            while (g[d] === h[d]) d++;
                            return d ? la(g[d], h[d]) : g[d] === v ? -1 : h[d] === v ? 1 : 0
                        }, n) : n
                }, ga.matches = function (a, b) {
                    return ga(a, null, null, b)
                }, ga.matchesSelector = function (a, b) {
                    if ((a.ownerDocument || a) !== n && m(a), b = b.replace(S, "='$1']"), c
                        .matchesSelector && p && !A[b + " "] && (!r || !r.test(b)) && (!q || !q.test(b)))
                        try {
                            var d = s.call(a, b);
                            if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType)
                                return d
                        } catch (e) {}
                    return ga(b, n, null, [a]).length > 0
                }, ga.contains = function (a, b) {
                    return (a.ownerDocument || a) !== n && m(a), t(a, b)
                }, ga.attr = function (a, b) {
                    (a.ownerDocument || a) !== n && m(a);
                    var e = d.attrHandle[b.toLowerCase()],
                        f = e && C.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
                    return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a
                        .getAttributeNode(b)) && f.specified ? f.value : null
                }, ga.escape = function (a) {
                    return (a + "").replace(ba, ca)
                }, ga.error = function (a) {
                    throw new Error("Syntax error, unrecognized expression: " + a)
                }, ga.uniqueSort = function (a) {
                    var b, d = [],
                        e = 0,
                        f = 0;
                    if (l = !c.detectDuplicates, k = !c.sortStable && a.slice(0), a.sort(B), l) {
                        while (b = a[f++]) b === a[f] && (e = d.push(f));
                        while (e--) a.splice(d[e], 1)
                    }
                    return k = null, a
                }, e = ga.getText = function (a) {
                    var b, c = "",
                        d = 0,
                        f = a.nodeType;
                    if (f) {
                        if (1 === f || 9 === f || 11 === f) {
                            if ("string" == typeof a.textContent) return a.textContent;
                            for (a = a.firstChild; a; a = a.nextSibling) c += e(a)
                        } else if (3 === f || 4 === f) return a.nodeValue
                    } else
                        while (b = a[d++]) c += e(b);
                    return c
                }, d = ga.selectors = {
                    cacheLength: 50,
                    createPseudo: ia,
                    match: V,
                    attrHandle: {},
                    find: {},
                    relative: {
                        ">": {
                            dir: "parentNode",
                            first: !0
                        },
                        " ": {
                            dir: "parentNode"
                        },
                        "+": {
                            dir: "previousSibling",
                            first: !0
                        },
                        "~": {
                            dir: "previousSibling"
                        }
                    },
                    preFilter: {
                        ATTR: function (a) {
                            return a[1] = a[1].replace(_, aa), a[3] = (a[3] || a[4] || a[5] || "")
                                .replace(_, aa), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0,
                                    4)
                        },
                        CHILD: function (a) {
                            return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || ga
                                .error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" ===
                                    a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[
                                    3])) : a[3] && ga.error(a[0]), a
                        },
                        PSEUDO: function (a) {
                            var b, c = !a[6] && a[2];
                            return V.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c &&
                                T.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c
                                    .length) && (a[0] = a[0].slice(0, b), a[2] = c.slice(0, b)), a
                                .slice(0, 3))
                        }
                    },
                    filter: {
                        TAG: function (a) {
                            var b = a.replace(_, aa).toLowerCase();
                            return "*" === a ? function () {
                                return !0
                            } : function (a) {
                                return a.nodeName && a.nodeName.toLowerCase() === b
                            }
                        },
                        CLASS: function (a) {
                            var b = y[a + " "];
                            return b || (b = new RegExp("(^|" + K + ")" + a + "(" + K + "|$)")) && y(a,
                                function (a) {
                                    return b.test("string" == typeof a.className && a.className ||
                                        "undefined" != typeof a.getAttribute && a.getAttribute(
                                            "class") || "")
                                })
                        },
                        ATTR: function (a, b, c) {
                            return function (d) {
                                var e = ga.attr(d, a);
                                return null == e ? "!=" === b : !b || (e += "", "=" === b ? e ===
                                    c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e
                                    .indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" ===
                                    b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e
                                        .replace(O, " ") + " ").indexOf(c) > -1 : "|=" === b &&
                                    (e === c || e.slice(0, c.length + 1) === c + "-"))
                            }
                        },
                        CHILD: function (a, b, c, d, e) {
                            var f = "nth" !== a.slice(0, 3),
                                g = "last" !== a.slice(-4),
                                h = "of-type" === b;
                            return 1 === d && 0 === e ? function (a) {
                                return !!a.parentNode
                            } : function (b, c, i) {
                                var j, k, l, m, n, o, p = f !== g ? "nextSibling" :
                                    "previousSibling",
                                    q = b.parentNode,
                                    r = h && b.nodeName.toLowerCase(),
                                    s = !i && !h,
                                    t = !1;
                                if (q) {
                                    if (f) {
                                        while (p) {
                                            m = b;
                                            while (m = m[p])
                                                if (h ? m.nodeName.toLowerCase() === r : 1 === m
                                                    .nodeType) return !1;
                                            o = p = "only" === a && !o && "nextSibling"
                                        }
                                        return !0
                                    }
                                    if (o = [g ? q.firstChild : q.lastChild], g && s) {
                                        m = q, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m
                                                .uniqueID] = {}), j = k[a] || [], n = j[0] === w &&
                                            j[1], t = n && j[2], m = n && q.childNodes[n];
                                        while (m = ++n && m && m[p] || (t = n = 0) || o.pop())
                                            if (1 === m.nodeType && ++t && m === b) {
                                                k[a] = [w, n, t];
                                                break
                                            }
                                    } else if (s && (m = b, l = m[u] || (m[u] = {}), k = l[m
                                                .uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [],
                                            n = j[0] === w && j[1], t = n), t === !1)
                                        while (m = ++n && m && m[p] || (t = n = 0) || o.pop())
                                            if ((h ? m.nodeName.toLowerCase() === r : 1 === m
                                                    .nodeType) && ++t && (s && (l = m[u] || (m[
                                                    u] = {}), k = l[m.uniqueID] || (l[m
                                                    .uniqueID] = {}), k[a] = [w, t]), m === b))
                                                break;
                                    return t -= e, t === d || t % d === 0 && t / d >= 0
                                }
                            }
                        },
                        PSEUDO: function (a, b) {
                            var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || ga.error(
                                "unsupported pseudo: " + a);
                            return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b], d.setFilters
                                .hasOwnProperty(a.toLowerCase()) ? ia(function (a, c) {
                                    var d, f = e(a, b),
                                        g = f.length;
                                    while (g--) d = I(a, f[g]), a[d] = !(c[d] = f[g])
                                }) : function (a) {
                                    return e(a, 0, c)
                                }) : e
                        }
                    },
                    pseudos: {
                        not: ia(function (a) {
                            var b = [],
                                c = [],
                                d = h(a.replace(P, "$1"));
                            return d[u] ? ia(function (a, b, c, e) {
                                var f, g = d(a, null, e, []),
                                    h = a.length;
                                while (h--)(f = g[h]) && (a[h] = !(b[h] = f))
                            }) : function (a, e, f) {
                                return b[0] = a, d(b, null, f, c), b[0] = null, !c.pop()
                            }
                        }),
                        has: ia(function (a) {
                            return function (b) {
                                return ga(a, b).length > 0
                            }
                        }),
                        contains: ia(function (a) {
                            return a = a.replace(_, aa),
                                function (b) {
                                    return (b.textContent || b.innerText || e(b)).indexOf(a) > -1
                                }
                        }),
                        lang: ia(function (a) {
                            return U.test(a || "") || ga.error("unsupported lang: " + a), a = a
                                .replace(_, aa).toLowerCase(),
                                function (b) {
                                    var c;
                                    do
                                        if (c = p ? b.lang : b.getAttribute("xml:lang") || b
                                            .getAttribute("lang")) return c = c.toLowerCase(), c ===
                                            a || 0 === c.indexOf(a + "-"); while ((b = b
                                            .parentNode) && 1 === b.nodeType);
                                    return !1
                                }
                        }),
                        target: function (b) {
                            var c = a.location && a.location.hash;
                            return c && c.slice(1) === b.id
                        },
                        root: function (a) {
                            return a === o
                        },
                        focus: function (a) {
                            return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a
                                .type || a.href || ~a.tabIndex)
                        },
                        enabled: oa(!1),
                        disabled: oa(!0),
                        checked: function (a) {
                            var b = a.nodeName.toLowerCase();
                            return "input" === b && !!a.checked || "option" === b && !!a.selected
                        },
                        selected: function (a) {
                            return a.parentNode && a.parentNode.selectedIndex, a.selected === !0
                        },
                        empty: function (a) {
                            for (a = a.firstChild; a; a = a.nextSibling)
                                if (a.nodeType < 6) return !1;
                            return !0
                        },
                        parent: function (a) {
                            return !d.pseudos.empty(a)
                        },
                        header: function (a) {
                            return X.test(a.nodeName)
                        },
                        input: function (a) {
                            return W.test(a.nodeName)
                        },
                        button: function (a) {
                            var b = a.nodeName.toLowerCase();
                            return "input" === b && "button" === a.type || "button" === b
                        },
                        text: function (a) {
                            var b;
                            return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null ==
                                (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                        },
                        first: pa(function () {
                            return [0]
                        }),
                        last: pa(function (a, b) {
                            return [b - 1]
                        }),
                        eq: pa(function (a, b, c) {
                            return [c < 0 ? c + b : c]
                        }),
                        even: pa(function (a, b) {
                            for (var c = 0; c < b; c += 2) a.push(c);
                            return a
                        }),
                        odd: pa(function (a, b) {
                            for (var c = 1; c < b; c += 2) a.push(c);
                            return a
                        }),
                        lt: pa(function (a, b, c) {
                            for (var d = c < 0 ? c + b : c; --d >= 0;) a.push(d);
                            return a
                        }),
                        gt: pa(function (a, b, c) {
                            for (var d = c < 0 ? c + b : c; ++d < b;) a.push(d);
                            return a
                        })
                    }
                }, d.pseudos.nth = d.pseudos.eq;
                for (b in {
                        radio: !0,
                        checkbox: !0,
                        file: !0,
                        password: !0,
                        image: !0
                    }) d.pseudos[b] = ma(b);
                for (b in {
                        submit: !0,
                        reset: !0
                    }) d.pseudos[b] = na(b);

                function ra() {}
                ra.prototype = d.filters = d.pseudos, d.setFilters = new ra, g = ga.tokenize = function (a, b) {
                    var c, e, f, g, h, i, j, k = z[a + " "];
                    if (k) return b ? 0 : k.slice(0);
                    h = a, i = [], j = d.preFilter;
                    while (h) {
                        c && !(e = Q.exec(h)) || (e && (h = h.slice(e[0].length) || h), i.push(f = [])),
                            c = !1, (e = R.exec(h)) && (c = e.shift(), f.push({
                                value: c,
                                type: e[0].replace(P, " ")
                            }), h = h.slice(c.length));
                        for (g in d.filter) !(e = V[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(),
                            f.push({
                                value: c,
                                type: g,
                                matches: e
                            }), h = h.slice(c.length));
                        if (!c) break
                    }
                    return b ? h.length : h ? ga.error(a) : z(a, i).slice(0)
                };

                function sa(a) {
                    for (var b = 0, c = a.length, d = ""; b < c; b++) d += a[b].value;
                    return d
                }

                function ta(a, b, c) {
                    var d = b.dir,
                        e = b.next,
                        f = e || d,
                        g = c && "parentNode" === f,
                        h = x++;
                    return b.first ? function (b, c, e) {
                        while (b = b[d])
                            if (1 === b.nodeType || g) return a(b, c, e);
                        return !1
                    } : function (b, c, i) {
                        var j, k, l, m = [w, h];
                        if (i) {
                            while (b = b[d])
                                if ((1 === b.nodeType || g) && a(b, c, i)) return !0
                        } else
                            while (b = b[d])
                                if (1 === b.nodeType || g)
                                    if (l = b[u] || (b[u] = {}), k = l[b.uniqueID] || (l[b.uniqueID] = {}),
                                        e && e === b.nodeName.toLowerCase()) b = b[d] || b;
                                    else {
                                        if ((j = k[f]) && j[0] === w && j[1] === h) return m[2] = j[2];
                                        if (k[f] = m, m[2] = a(b, c, i)) return !0
                                    } return !1
                    }
                }

                function ua(a) {
                    return a.length > 1 ? function (b, c, d) {
                        var e = a.length;
                        while (e--)
                            if (!a[e](b, c, d)) return !1;
                        return !0
                    } : a[0]
                }

                function va(a, b, c) {
                    for (var d = 0, e = b.length; d < e; d++) ga(a, b[d], c);
                    return c
                }

                function wa(a, b, c, d, e) {
                    for (var f, g = [], h = 0, i = a.length, j = null != b; h < i; h++)(f = a[h]) && (c && !c(f,
                        d, e) || (g.push(f), j && b.push(h)));
                    return g
                }

                function xa(a, b, c, d, e, f) {
                    return d && !d[u] && (d = xa(d)), e && !e[u] && (e = xa(e, f)), ia(function (f, g, h, i) {
                        var j, k, l, m = [],
                            n = [],
                            o = g.length,
                            p = f || va(b || "*", h.nodeType ? [h] : h, []),
                            q = !a || !f && b ? p : wa(p, m, a, h, i),
                            r = c ? e || (f ? a : o || d) ? [] : g : q;
                        if (c && c(q, r, h, i), d) {
                            j = wa(r, n), d(j, [], h, i), k = j.length;
                            while (k--)(l = j[k]) && (r[n[k]] = !(q[n[k]] = l))
                        }
                        if (f) {
                            if (e || a) {
                                if (e) {
                                    j = [], k = r.length;
                                    while (k--)(l = r[k]) && j.push(q[k] = l);
                                    e(null, r = [], j, i)
                                }
                                k = r.length;
                                while (k--)(l = r[k]) && (j = e ? I(f, l) : m[k]) > -1 && (f[j] = !(g[
                                    j] = l))
                            }
                        } else r = wa(r === g ? r.splice(o, r.length) : r), e ? e(null, g, r, i) : G
                            .apply(g, r)
                    })
                }

                function ya(a) {
                    for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ?
                            1 : 0, k = ta(function (a) {
                                return a === b
                            }, h, !0), l = ta(function (a) {
                                return I(b, a) > -1
                            }, h, !0), m = [function (a, c, d) {
                                var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c,
                                    d));
                                return b = null, e
                            }]; i < f; i++)
                        if (c = d.relative[a[i].type]) m = [ta(ua(m), c)];
                        else {
                            if (c = d.filter[a[i].type].apply(null, a[i].matches), c[u]) {
                                for (e = ++i; e < f; e++)
                                    if (d.relative[a[e].type]) break;
                                return xa(i > 1 && ua(m), i > 1 && sa(a.slice(0, i - 1).concat({
                                    value: " " === a[i - 2].type ? "*" : ""
                                })).replace(P, "$1"), c, i < e && ya(a.slice(i, e)), e < f && ya(a = a
                                    .slice(e)), e < f && sa(a))
                            }
                            m.push(c)
                        } return ua(m)
                }

                function za(a, b) {
                    var c = b.length > 0,
                        e = a.length > 0,
                        f = function (f, g, h, i, k) {
                            var l, o, q, r = 0,
                                s = "0",
                                t = f && [],
                                u = [],
                                v = j,
                                x = f || e && d.find.TAG("*", k),
                                y = w += null == v ? 1 : Math.random() || .1,
                                z = x.length;
                            for (k && (j = g === n || g || k); s !== z && null != (l = x[s]); s++) {
                                if (e && l) {
                                    o = 0, g || l.ownerDocument === n || (m(l), h = !p);
                                    while (q = a[o++])
                                        if (q(l, g || n, h)) {
                                            i.push(l);
                                            break
                                        } k && (w = y)
                                }
                                c && ((l = !q && l) && r--, f && t.push(l))
                            }
                            if (r += s, c && s !== r) {
                                o = 0;
                                while (q = b[o++]) q(t, u, g, h);
                                if (f) {
                                    if (r > 0)
                                        while (s--) t[s] || u[s] || (u[s] = E.call(i));
                                    u = wa(u)
                                }
                                G.apply(i, u), k && !f && u.length > 0 && r + b.length > 1 && ga.uniqueSort(i)
                            }
                            return k && (w = y, j = v), t
                        };
                    return c ? ia(f) : f
                }
                return h = ga.compile = function (a, b) {
                        var c, d = [],
                            e = [],
                            f = A[a + " "];
                        if (!f) {
                            b || (b = g(a)), c = b.length;
                            while (c--) f = ya(b[c]), f[u] ? d.push(f) : e.push(f);
                            f = A(a, za(e, d)), f.selector = a
                        }
                        return f
                    }, i = ga.select = function (a, b, c, e) {
                        var f, i, j, k, l, m = "function" == typeof a && a,
                            n = !e && g(a = m.selector || a);
                        if (c = c || [], 1 === n.length) {
                            if (i = n[0] = n[0].slice(0), i.length > 2 && "ID" === (j = i[0]).type && 9 === b
                                .nodeType && p && d.relative[i[1].type]) {
                                if (b = (d.find.ID(j.matches[0].replace(_, aa), b) || [])[0], !b) return c;
                                m && (b = b.parentNode), a = a.slice(i.shift().value.length)
                            }
                            f = V.needsContext.test(a) ? 0 : i.length;
                            while (f--) {
                                if (j = i[f], d.relative[k = j.type]) break;
                                if ((l = d.find[k]) && (e = l(j.matches[0].replace(_, aa), $.test(i[0].type) &&
                                        qa(b.parentNode) || b))) {
                                    if (i.splice(f, 1), a = e.length && sa(i), !a) return G.apply(c, e), c;
                                    break
                                }
                            }
                        }
                        return (m || h(a, n))(e, b, !p, c, !b || $.test(a) && qa(b.parentNode) || b), c
                    }, c.sortStable = u.split("").sort(B).join("") === u, c.detectDuplicates = !!l, m(), c
                    .sortDetached = ja(function (a) {
                        return 1 & a.compareDocumentPosition(n.createElement("fieldset"))
                    }), ja(function (a) {
                        return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href")
                    }) || ka("type|href|height|width", function (a, b, c) {
                        if (!c) return a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
                    }), c.attributes && ja(function (a) {
                        return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a
                            .firstChild.getAttribute("value")
                    }) || ka("value", function (a, b, c) {
                        if (!c && "input" === a.nodeName.toLowerCase()) return a.defaultValue
                    }), ja(function (a) {
                        return null == a.getAttribute("disabled")
                    }) || ka(J, function (a, b, c) {
                        var d;
                        if (!c) return a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d
                            .specified ? d.value : null
                    }), ga
            }(a);
            r.find = x, r.expr = x.selectors, r.expr[":"] = r.expr.pseudos, r.uniqueSort = r.unique = x.uniqueSort,
                r.text = x.getText, r.isXMLDoc = x.isXML, r.contains = x.contains, r.escapeSelector = x.escape;
            var y = function (a, b, c) {
                    var d = [],
                        e = void 0 !== c;
                    while ((a = a[b]) && 9 !== a.nodeType)
                        if (1 === a.nodeType) {
                            if (e && r(a).is(c)) break;
                            d.push(a)
                        } return d
                },
                z = function (a, b) {
                    for (var c = []; a; a = a.nextSibling) 1 === a.nodeType && a !== b && c.push(a);
                    return c
                },
                A = r.expr.match.needsContext,
                B = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,
                C = /^.[^:#\[\.,]*$/;

            function D(a, b, c) {
                return r.isFunction(b) ? r.grep(a, function (a, d) {
                    return !!b.call(a, d, a) !== c
                }) : b.nodeType ? r.grep(a, function (a) {
                    return a === b !== c
                }) : "string" != typeof b ? r.grep(a, function (a) {
                    return i.call(b, a) > -1 !== c
                }) : C.test(b) ? r.filter(b, a, c) : (b = r.filter(b, a), r.grep(a, function (a) {
                    return i.call(b, a) > -1 !== c && 1 === a.nodeType
                }))
            }
            r.filter = function (a, b, c) {
                var d = b[0];
                return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? r.find
                    .matchesSelector(d, a) ? [d] : [] : r.find.matches(a, r.grep(b, function (a) {
                        return 1 === a.nodeType
                    }))
            }, r.fn.extend({
                find: function (a) {
                    var b, c, d = this.length,
                        e = this;
                    if ("string" != typeof a) return this.pushStack(r(a).filter(function () {
                        for (b = 0; b < d; b++)
                            if (r.contains(e[b], this)) return !0
                    }));
                    for (c = this.pushStack([]), b = 0; b < d; b++) r.find(a, e[b], c);
                    return d > 1 ? r.uniqueSort(c) : c
                },
                filter: function (a) {
                    return this.pushStack(D(this, a || [], !1))
                },
                not: function (a) {
                    return this.pushStack(D(this, a || [], !0))
                },
                is: function (a) {
                    return !!D(this, "string" == typeof a && A.test(a) ? r(a) : a || [], !1).length
                }
            });
            var E, F = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
                G = r.fn.init = function (a, b, c) {
                    var e, f;
                    if (!a) return this;
                    if (c = c || E, "string" == typeof a) {
                        if (e = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : F.exec(
                                a), !e || !e[1] && b) return !b || b.jquery ? (b || c).find(a) : this.constructor(b)
                            .find(a);
                        if (e[1]) {
                            if (b = b instanceof r ? b[0] : b, r.merge(this, r.parseHTML(e[1], b && b.nodeType ? b
                                    .ownerDocument || b : d, !0)), B.test(e[1]) && r.isPlainObject(b))
                                for (e in b) r.isFunction(this[e]) ? this[e](b[e]) : this.attr(e, b[e]);
                            return this
                        }
                        return f = d.getElementById(e[2]), f && (this[0] = f, this.length = 1), this
                    }
                    return a.nodeType ? (this[0] = a, this.length = 1, this) : r.isFunction(a) ? void 0 !== c
                        .ready ? c.ready(a) : a(r) : r.makeArray(a, this)
                };
            G.prototype = r.fn, E = r(d);
            var H = /^(?:parents|prev(?:Until|All))/,
                I = {
                    children: !0,
                    contents: !0,
                    next: !0,
                    prev: !0
                };
            r.fn.extend({
                has: function (a) {
                    var b = r(a, this),
                        c = b.length;
                    return this.filter(function () {
                        for (var a = 0; a < c; a++)
                            if (r.contains(this, b[a])) return !0
                    })
                },
                closest: function (a, b) {
                    var c, d = 0,
                        e = this.length,
                        f = [],
                        g = "string" != typeof a && r(a);
                    if (!A.test(a))
                        for (; d < e; d++)
                            for (c = this[d]; c && c !== b; c = c.parentNode)
                                if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && r.find
                                        .matchesSelector(c, a))) {
                                    f.push(c);
                                    break
                                } return this.pushStack(f.length > 1 ? r.uniqueSort(f) : f)
                },
                index: function (a) {
                    return a ? "string" == typeof a ? i.call(r(a), this[0]) : i.call(this, a.jquery ? a[
                        0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
                },
                add: function (a, b) {
                    return this.pushStack(r.uniqueSort(r.merge(this.get(), r(a, b))))
                },
                addBack: function (a) {
                    return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
                }
            });

            function J(a, b) {
                while ((a = a[b]) && 1 !== a.nodeType);
                return a
            }
            r.each({
                parent: function (a) {
                    var b = a.parentNode;
                    return b && 11 !== b.nodeType ? b : null
                },
                parents: function (a) {
                    return y(a, "parentNode")
                },
                parentsUntil: function (a, b, c) {
                    return y(a, "parentNode", c)
                },
                next: function (a) {
                    return J(a, "nextSibling")
                },
                prev: function (a) {
                    return J(a, "previousSibling")
                },
                nextAll: function (a) {
                    return y(a, "nextSibling")
                },
                prevAll: function (a) {
                    return y(a, "previousSibling")
                },
                nextUntil: function (a, b, c) {
                    return y(a, "nextSibling", c)
                },
                prevUntil: function (a, b, c) {
                    return y(a, "previousSibling", c)
                },
                siblings: function (a) {
                    return z((a.parentNode || {}).firstChild, a)
                },
                children: function (a) {
                    return z(a.firstChild)
                },
                contents: function (a) {
                    return a.contentDocument || r.merge([], a.childNodes)
                }
            }, function (a, b) {
                r.fn[a] = function (c, d) {
                    var e = r.map(this, b, c);
                    return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = r
                        .filter(d, e)), this.length > 1 && (I[a] || r.uniqueSort(e), H.test(a) && e
                        .reverse()), this.pushStack(e)
                }
            });
            var K = /[^\x20\t\r\n\f]+/g;

            function L(a) {
                var b = {};
                return r.each(a.match(K) || [], function (a, c) {
                    b[c] = !0
                }), b
            }
            r.Callbacks = function (a) {
                a = "string" == typeof a ? L(a) : r.extend({}, a);
                var b, c, d, e, f = [],
                    g = [],
                    h = -1,
                    i = function () {
                        for (e = a.once, d = b = !0; g.length; h = -1) {
                            c = g.shift();
                            while (++h < f.length) f[h].apply(c[0], c[1]) === !1 && a.stopOnFalse && (h = f
                                .length, c = !1)
                        }
                        a.memory || (c = !1), b = !1, e && (f = c ? [] : "")
                    },
                    j = {
                        add: function () {
                            return f && (c && !b && (h = f.length - 1, g.push(c)), function d(b) {
                                r.each(b, function (b, c) {
                                    r.isFunction(c) ? a.unique && j.has(c) || f.push(c) :
                                        c && c.length && "string" !== r.type(c) && d(c)
                                })
                            }(arguments), c && !b && i()), this
                        },
                        remove: function () {
                            return r.each(arguments, function (a, b) {
                                var c;
                                while ((c = r.inArray(b, f, c)) > -1) f.splice(c, 1), c <= h && h--
                            }), this
                        },
                        has: function (a) {
                            return a ? r.inArray(a, f) > -1 : f.length > 0
                        },
                        empty: function () {
                            return f && (f = []), this
                        },
                        disable: function () {
                            return e = g = [], f = c = "", this
                        },
                        disabled: function () {
                            return !f
                        },
                        lock: function () {
                            return e = g = [], c || b || (f = c = ""), this
                        },
                        locked: function () {
                            return !!e
                        },
                        fireWith: function (a, c) {
                            return e || (c = c || [], c = [a, c.slice ? c.slice() : c], g.push(c), b ||
                                i()), this
                        },
                        fire: function () {
                            return j.fireWith(this, arguments), this
                        },
                        fired: function () {
                            return !!d
                        }
                    };
                return j
            };

            function M(a) {
                return a
            }

            function N(a) {
                throw a
            }

            function O(a, b, c) {
                var d;
                try {
                    a && r.isFunction(d = a.promise) ? d.call(a).done(b).fail(c) : a && r.isFunction(d = a.then) ? d
                        .call(a, b, c) : b.call(void 0, a)
                } catch (a) {
                    c.call(void 0, a)
                }
            }
            r.extend({
                Deferred: function (b) {
                    var c = [
                            ["notify", "progress", r.Callbacks("memory"), r.Callbacks("memory"), 2],
                            ["resolve", "done", r.Callbacks("once memory"), r.Callbacks("once memory"),
                                0, "resolved"
                            ],
                            ["reject", "fail", r.Callbacks("once memory"), r.Callbacks("once memory"),
                                1, "rejected"
                            ]
                        ],
                        d = "pending",
                        e = {
                            state: function () {
                                return d
                            },
                            always: function () {
                                return f.done(arguments).fail(arguments), this
                            },
                            "catch": function (a) {
                                return e.then(null, a)
                            },
                            pipe: function () {
                                var a = arguments;
                                return r.Deferred(function (b) {
                                    r.each(c, function (c, d) {
                                        var e = r.isFunction(a[d[4]]) && a[d[4]];
                                        f[d[1]](function () {
                                            var a = e && e.apply(this,
                                                arguments);
                                            a && r.isFunction(a.promise) ? a
                                                .promise().progress(b
                                                    .notify).done(b.resolve)
                                                .fail(b.reject) : b[d[0] +
                                                    "With"](this, e ? [a] :
                                                    arguments)
                                        })
                                    }), a = null
                                }).promise()
                            },
                            then: function (b, d, e) {
                                var f = 0;

                                function g(b, c, d, e) {
                                    return function () {
                                        var h = this,
                                            i = arguments,
                                            j = function () {
                                                var a, j;
                                                if (!(b < f)) {
                                                    if (a = d.apply(h, i), a === c.promise())
                                                        throw new TypeError(
                                                            "Thenable self-resolution");
                                                    j = a && ("object" == typeof a ||
                                                            "function" == typeof a) && a.then, r
                                                        .isFunction(j) ? e ? j.call(a, g(f, c,
                                                            M, e), g(f, c, N, e)) : (f++, j
                                                            .call(a, g(f, c, M, e), g(f, c, N,
                                                                e), g(f, c, M, c
                                                                .notifyWith))) : (d !== M && (
                                                            h = void 0, i = [a]), (e || c
                                                            .resolveWith)(h, i))
                                                }
                                            },
                                            k = e ? j : function () {
                                                try {
                                                    j()
                                                } catch (a) {
                                                    r.Deferred.exceptionHook && r.Deferred
                                                        .exceptionHook(a, k.stackTrace), b +
                                                        1 >= f && (d !== N && (h = void 0, i = [
                                                            a
                                                        ]), c.rejectWith(h, i))
                                                }
                                            };
                                        b ? k() : (r.Deferred.getStackHook && (k.stackTrace = r
                                            .Deferred.getStackHook()), a.setTimeout(k))
                                    }
                                }
                                return r.Deferred(function (a) {
                                    c[0][3].add(g(0, a, r.isFunction(e) ? e : M, a
                                        .notifyWith)), c[1][3].add(g(0, a, r.isFunction(
                                        b) ? b : M)), c[2][3].add(g(0, a, r.isFunction(
                                        d) ? d : N))
                                }).promise()
                            },
                            promise: function (a) {
                                return null != a ? r.extend(a, e) : e
                            }
                        },
                        f = {};
                    return r.each(c, function (a, b) {
                        var g = b[2],
                            h = b[5];
                        e[b[1]] = g.add, h && g.add(function () {
                                d = h
                            }, c[3 - a][2].disable, c[0][2].lock), g.add(b[3].fire), f[b[0]] =
                            function () {
                                return f[b[0] + "With"](this === f ? void 0 : this, arguments),
                                    this
                            }, f[b[0] + "With"] = g.fireWith
                    }), e.promise(f), b && b.call(f, f), f
                },
                when: function (a) {
                    var b = arguments.length,
                        c = b,
                        d = Array(c),
                        e = f.call(arguments),
                        g = r.Deferred(),
                        h = function (a) {
                            return function (c) {
                                d[a] = this, e[a] = arguments.length > 1 ? f.call(arguments) : c, --
                                b || g.resolveWith(d, e)
                            }
                        };
                    if (b <= 1 && (O(a, g.done(h(c)).resolve, g.reject), "pending" === g.state() || r
                            .isFunction(e[c] && e[c].then))) return g.then();
                    while (c--) O(e[c], h(c), g.reject);
                    return g.promise()
                }
            });
            var P = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
            r.Deferred.exceptionHook = function (b, c) {
                a.console && a.console.warn && b && P.test(b.name) && a.console.warn(
                    "jQuery.Deferred exception: " + b.message, b.stack, c)
            }, r.readyException = function (b) {
                a.setTimeout(function () {
                    throw b
                })
            };
            var Q = r.Deferred();
            r.fn.ready = function (a) {
                return Q.then(a)["catch"](function (a) {
                    r.readyException(a)
                }), this
            }, r.extend({
                isReady: !1,
                readyWait: 1,
                holdReady: function (a) {
                    a ? r.readyWait++ : r.ready(!0)
                },
                ready: function (a) {
                    (a === !0 ? --r.readyWait : r.isReady) || (r.isReady = !0, a !== !0 && --r
                        .readyWait > 0 || Q.resolveWith(d, [r]))
                }
            }), r.ready.then = Q.then;

            function R() {
                d.removeEventListener("DOMContentLoaded", R),
                    /*! jQuery v3.1.1 | (c) jQuery Foundation | jquery.org/license */
                    a.removeEventListener("load", R), r.ready()
            }
            "complete" === d.readyState || "loading" !== d.readyState && !d.documentElement.doScroll ? a.setTimeout(
                r.ready) : (d.addEventListener("DOMContentLoaded", R), a.addEventListener("load", R));
            var S = function (a, b, c, d, e, f, g) {
                    var h = 0,
                        i = a.length,
                        j = null == c;
                    if ("object" === r.type(c)) {
                        e = !0;
                        for (h in c) S(a, b, h, c[h], !0, f, g)
                    } else if (void 0 !== d && (e = !0, r.isFunction(d) || (g = !0), j && (g ? (b.call(a, d), b =
                            null) : (j = b, b = function (a, b, c) {
                            return j.call(r(a), c)
                        })), b))
                        for (; h < i; h++) b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
                    return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
                },
                T = function (a) {
                    return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
                };

            function U() {
                this.expando = r.expando + U.uid++
            }
            U.uid = 1, U.prototype = {
                cache: function (a) {
                    var b = a[this.expando];
                    return b || (b = {}, T(a) && (a.nodeType ? a[this.expando] = b : Object.defineProperty(
                        a, this.expando, {
                            value: b,
                            configurable: !0
                        }))), b
                },
                set: function (a, b, c) {
                    var d, e = this.cache(a);
                    if ("string" == typeof b) e[r.camelCase(b)] = c;
                    else
                        for (d in b) e[r.camelCase(d)] = b[d];
                    return e
                },
                get: function (a, b) {
                    return void 0 === b ? this.cache(a) : a[this.expando] && a[this.expando][r.camelCase(b)]
                },
                access: function (a, b, c) {
                    return void 0 === b || b && "string" == typeof b && void 0 === c ? this.get(a, b) : (
                        this.set(a, b, c), void 0 !== c ? c : b)
                },
                remove: function (a, b) {
                    var c, d = a[this.expando];
                    if (void 0 !== d) {
                        if (void 0 !== b) {
                            r.isArray(b) ? b = b.map(r.camelCase) : (b = r.camelCase(b), b = b in d ? [b] :
                                b.match(K) || []), c = b.length;
                            while (c--) delete d[b[c]]
                        }(void 0 === b || r.isEmptyObject(d)) && (a.nodeType ? a[this.expando] = void 0 :
                            delete a[this.expando])
                    }
                },
                hasData: function (a) {
                    var b = a[this.expando];
                    return void 0 !== b && !r.isEmptyObject(b)
                }
            };
            var V = new U,
                W = new U,
                X = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
                Y = /[A-Z]/g;

            function Z(a) {
                return "true" === a || "false" !== a && ("null" === a ? null : a === +a + "" ? +a : X.test(a) ? JSON
                    .parse(a) : a)
            }

            function $(a, b, c) {
                var d;
                if (void 0 === c && 1 === a.nodeType)
                    if (d = "data-" + b.replace(Y, "-$&").toLowerCase(), c = a.getAttribute(d), "string" ==
                        typeof c) {
                        try {
                            c = Z(c)
                        } catch (e) {}
                        W.set(a, b, c)
                    } else c = void 0;
                return c
            }
            r.extend({
                hasData: function (a) {
                    return W.hasData(a) || V.hasData(a)
                },
                data: function (a, b, c) {
                    return W.access(a, b, c)
                },
                removeData: function (a, b) {
                    W.remove(a, b)
                },
                _data: function (a, b, c) {
                    return V.access(a, b, c)
                },
                _removeData: function (a, b) {
                    V.remove(a, b)
                }
            }), r.fn.extend({
                data: function (a, b) {
                    var c, d, e, f = this[0],
                        g = f && f.attributes;
                    if (void 0 === a) {
                        if (this.length && (e = W.get(f), 1 === f.nodeType && !V.get(f,
                                "hasDataAttrs"))) {
                            c = g.length;
                            while (c--) g[c] && (d = g[c].name, 0 === d.indexOf("data-") && (d = r
                                .camelCase(d.slice(5)), $(f, d, e[d])));
                            V.set(f, "hasDataAttrs", !0)
                        }
                        return e
                    }
                    return "object" == typeof a ? this.each(function () {
                        W.set(this, a)
                    }) : S(this, function (b) {
                        var c;
                        if (f && void 0 === b) {
                            if (c = W.get(f, a), void 0 !== c) return c;
                            if (c = $(f, a), void 0 !== c) return c
                        } else this.each(function () {
                            W.set(this, a, b)
                        })
                    }, null, b, arguments.length > 1, null, !0)
                },
                removeData: function (a) {
                    return this.each(function () {
                        W.remove(this, a)
                    })
                }
            }), r.extend({
                queue: function (a, b, c) {
                    var d;
                    if (a) return b = (b || "fx") + "queue", d = V.get(a, b), c && (!d || r.isArray(c) ?
                        d = V.access(a, b, r.makeArray(c)) : d.push(c)), d || []
                },
                dequeue: function (a, b) {
                    b = b || "fx";
                    var c = r.queue(a, b),
                        d = c.length,
                        e = c.shift(),
                        f = r._queueHooks(a, b),
                        g = function () {
                            r.dequeue(a, b)
                        };
                    "inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift(
                        "inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire()
                },
                _queueHooks: function (a, b) {
                    var c = b + "queueHooks";
                    return V.get(a, c) || V.access(a, c, {
                        empty: r.Callbacks("once memory").add(function () {
                            V.remove(a, [b + "queue", c])
                        })
                    })
                }
            }), r.fn.extend({
                queue: function (a, b) {
                    var c = 2;
                    return "string" != typeof a && (b = a, a = "fx", c--), arguments.length < c ? r
                        .queue(this[0], a) : void 0 === b ? this : this.each(function () {
                            var c = r.queue(this, a, b);
                            r._queueHooks(this, a), "fx" === a && "inprogress" !== c[0] && r
                                .dequeue(this, a)
                        })
                },
                dequeue: function (a) {
                    return this.each(function () {
                        r.dequeue(this, a)
                    })
                },
                clearQueue: function (a) {
                    return this.queue(a || "fx", [])
                },
                promise: function (a, b) {
                    var c, d = 1,
                        e = r.Deferred(),
                        f = this,
                        g = this.length,
                        h = function () {
                            --d || e.resolveWith(f, [f])
                        };
                    "string" != typeof a && (b = a, a = void 0), a = a || "fx";
                    while (g--) c = V.get(f[g], a + "queueHooks"), c && c.empty && (d++, c.empty.add(
                        h));
                    return h(), e.promise(b)
                }
            });
            var _ = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
                aa = new RegExp("^(?:([+-])=|)(" + _ + ")([a-z%]*)$", "i"),
                ba = ["Top", "Right", "Bottom", "Left"],
                ca = function (a, b) {
                    return a = b || a, "none" === a.style.display || "" === a.style.display && r.contains(a
                        .ownerDocument, a) && "none" === r.css(a, "display")
                },
                da = function (a, b, c, d) {
                    var e, f, g = {};
                    for (f in b) g[f] = a.style[f], a.style[f] = b[f];
                    e = c.apply(a, d || []);
                    for (f in b) a.style[f] = g[f];
                    return e
                };

            function ea(a, b, c, d) {
                var e, f = 1,
                    g = 20,
                    h = d ? function () {
                        return d.cur()
                    } : function () {
                        return r.css(a, b, "")
                    },
                    i = h(),
                    j = c && c[3] || (r.cssNumber[b] ? "" : "px"),
                    k = (r.cssNumber[b] || "px" !== j && +i) && aa.exec(r.css(a, b));
                if (k && k[3] !== j) {
                    j = j || k[3], c = c || [], k = +i || 1;
                    do f = f || ".5", k /= f, r.style(a, b, k + j); while (f !== (f = h() / i) && 1 !== f && --g)
                }
                return c && (k = +k || +i || 0, e = c[1] ? k + (c[1] + 1) * c[2] : +c[2], d && (d.unit = j, d
                    .start = k, d.end = e)), e
            }
            var fa = {};

            function ga(a) {
                var b, c = a.ownerDocument,
                    d = a.nodeName,
                    e = fa[d];
                return e ? e : (b = c.body.appendChild(c.createElement(d)), e = r.css(b, "display"), b.parentNode
                    .removeChild(b), "none" === e && (e = "block"), fa[d] = e, e)
            }

            function ha(a, b) {
                for (var c, d, e = [], f = 0, g = a.length; f < g; f++) d = a[f], d.style && (c = d.style.display,
                    b ? ("none" === c && (e[f] = V.get(d, "display") || null, e[f] || (d.style.display = "")),
                        "" === d.style.display && ca(d) && (e[f] = ga(d))) : "none" !== c && (e[f] = "none", V
                        .set(d, "display", c)));
                for (f = 0; f < g; f++) null != e[f] && (a[f].style.display = e[f]);
                return a
            }
            r.fn.extend({
                show: function () {
                    return ha(this, !0)
                },
                hide: function () {
                    return ha(this)
                },
                toggle: function (a) {
                    return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(
                        function () {
                            ca(this) ? r(this).show() : r(this).hide()
                        })
                }
            });
            var ia = /^(?:checkbox|radio)$/i,
                ja = /<([a-z][^\/\0>\x20\t\r\n\f]+)/i,
                ka = /^$|\/(?:java|ecma)script/i,
                la = {
                    option: [1, "<select multiple='multiple'>", "</select>"],
                    thead: [1, "<table>", "</table>"],
                    col: [2, "<table><colgroup>", "</colgroup></table>"],
                    tr: [2, "<table><tbody>", "</tbody></table>"],
                    td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                    _default: [0, "", ""]
                };
            la.optgroup = la.option, la.tbody = la.tfoot = la.colgroup = la.caption = la.thead, la.th = la.td;

            function ma(a, b) {
                var c;
                return c = "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") :
                    "undefined" != typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : [], void 0 === b ||
                    b && r.nodeName(a, b) ? r.merge([a], c) : c
            }

            function na(a, b) {
                for (var c = 0, d = a.length; c < d; c++) V.set(a[c], "globalEval", !b || V.get(b[c], "globalEval"))
            }
            var oa = /<|&#?\w+;/;

            function pa(a, b, c, d, e) {
                for (var f, g, h, i, j, k, l = b.createDocumentFragment(), m = [], n = 0, o = a.length; n < o; n++)
                    if (f = a[n], f || 0 === f)
                        if ("object" === r.type(f)) r.merge(m, f.nodeType ? [f] : f);
                        else if (oa.test(f)) {
                    g = g || l.appendChild(b.createElement("div")), h = (ja.exec(f) || ["", ""])[1].toLowerCase(),
                        i = la[h] || la._default, g.innerHTML = i[1] + r.htmlPrefilter(f) + i[2], k = i[0];
                    while (k--) g = g.lastChild;
                    r.merge(m, g.childNodes), g = l.firstChild, g.textContent = ""
                } else m.push(b.createTextNode(f));
                l.textContent = "", n = 0;
                while (f = m[n++])
                    if (d && r.inArray(f, d) > -1) e && e.push(f);
                    else if (j = r.contains(f.ownerDocument, f), g = ma(l.appendChild(f), "script"), j && na(g),
                    c) {
                    k = 0;
                    while (f = g[k++]) ka.test(f.type || "") && c.push(f)
                }
                return l
            }! function () {
                var a = d.createDocumentFragment(),
                    b = a.appendChild(d.createElement("div")),
                    c = d.createElement("input");
                c.setAttribute("type", "radio"), c.setAttribute("checked", "checked"), c.setAttribute("name", "t"),
                    b.appendChild(c), o.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked, b.innerHTML =
                    "<textarea>x</textarea>", o.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
            }();
            var qa = d.documentElement,
                ra = /^key/,
                sa = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
                ta = /^([^.]*)(?:\.(.+)|)/;

            function ua() {
                return !0
            }

            function va() {
                return !1
            }

            function wa() {
                try {
                    return d.activeElement
                } catch (a) {}
            }

            function xa(a, b, c, d, e, f) {
                var g, h;
                if ("object" == typeof b) {
                    "string" != typeof c && (d = d || c, c = void 0);
                    for (h in b) xa(a, h, c, d, b[h], f);
                    return a
                }
                if (null == d && null == e ? (e = c, d = c = void 0) : null == e && ("string" == typeof c ? (e = d,
                        d = void 0) : (e = d, d = c, c = void 0)), e === !1) e = va;
                else if (!e) return a;
                return 1 === f && (g = e, e = function (a) {
                    return r().off(a), g.apply(this, arguments)
                }, e.guid = g.guid || (g.guid = r.guid++)), a.each(function () {
                    r.event.add(this, b, e, d, c)
                })
            }
            r.event = {
                global: {},
                add: function (a, b, c, d, e) {
                    var f, g, h, i, j, k, l, m, n, o, p, q = V.get(a);
                    if (q) {
                        c.handler && (f = c, c = f.handler, e = f.selector), e && r.find.matchesSelector(qa,
                            e), c.guid || (c.guid = r.guid++), (i = q.events) || (i = q.events = {}), (
                            g = q.handle) || (g = q.handle = function (b) {
                            return "undefined" != typeof r && r.event.triggered !== b.type ? r.event
                                .dispatch.apply(a, arguments) : void 0
                        }), b = (b || "").match(K) || [""], j = b.length;
                        while (j--) h = ta.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".")
                            .sort(), n && (l = r.event.special[n] || {}, n = (e ? l.delegateType : l
                                    .bindType) || n, l = r.event.special[n] || {}, k = r.extend({
                                    type: n,
                                    origType: p,
                                    data: d,
                                    handler: c,
                                    guid: c.guid,
                                    selector: e,
                                    needsContext: e && r.expr.match.needsContext.test(e),
                                    namespace: o.join(".")
                                }, f), (m = i[n]) || (m = i[n] = [], m.delegateCount = 0, l.setup && l.setup
                                    .call(a, d, o, g) !== !1 || a.addEventListener && a.addEventListener(n,
                                        g)), l.add && (l.add.call(a, k), k.handler.guid || (k.handler.guid =
                                    c.guid)), e ? m.splice(m.delegateCount++, 0, k) : m.push(k), r.event
                                .global[n] = !0)
                    }
                },
                remove: function (a, b, c, d, e) {
                    var f, g, h, i, j, k, l, m, n, o, p, q = V.hasData(a) && V.get(a);
                    if (q && (i = q.events)) {
                        b = (b || "").match(K) || [""], j = b.length;
                        while (j--)
                            if (h = ta.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(),
                                n) {
                                l = r.event.special[n] || {}, n = (d ? l.delegateType : l.bindType) || n,
                                    m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + o.join(
                                        "\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length;
                                while (f--) k = m[f], !e && p !== k.origType || c && c.guid !== k.guid ||
                                    h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k
                                        .selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l
                                        .remove && l.remove.call(a, k));
                                g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || r
                                    .removeEvent(a, n, q.handle), delete i[n])
                            } else
                                for (n in i) r.event.remove(a, n + b[j], c, d, !0);
                        r.isEmptyObject(i) && V.remove(a, "handle events")
                    }
                },
                dispatch: function (a) {
                    var b = r.event.fix(a),
                        c, d, e, f, g, h, i = new Array(arguments.length),
                        j = (V.get(this, "events") || {})[b.type] || [],
                        k = r.event.special[b.type] || {};
                    for (i[0] = b, c = 1; c < arguments.length; c++) i[c] = arguments[c];
                    if (b.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, b) !== !1) {
                        h = r.event.handlers.call(this, b, j), c = 0;
                        while ((f = h[c++]) && !b.isPropagationStopped()) {
                            b.currentTarget = f.elem, d = 0;
                            while ((g = f.handlers[d++]) && !b.isImmediatePropagationStopped()) b
                                .rnamespace && !b.rnamespace.test(g.namespace) || (b.handleObj = g, b.data =
                                    g.data, e = ((r.event.special[g.origType] || {}).handle || g.handler)
                                    .apply(f.elem, i), void 0 !== e && (b.result = e) === !1 && (b
                                        .preventDefault(), b.stopPropagation()))
                        }
                        return k.postDispatch && k.postDispatch.call(this, b), b.result
                    }
                },
                handlers: function (a, b) {
                    var c, d, e, f, g, h = [],
                        i = b.delegateCount,
                        j = a.target;
                    if (i && j.nodeType && !("click" === a.type && a.button >= 1))
                        for (; j !== this; j = j.parentNode || this)
                            if (1 === j.nodeType && ("click" !== a.type || j.disabled !== !0)) {
                                for (f = [], g = {}, c = 0; c < i; c++) d = b[c], e = d.selector + " ",
                                    void 0 === g[e] && (g[e] = d.needsContext ? r(e, this).index(j) > -1 : r
                                        .find(e, this, null, [j]).length), g[e] && f.push(d);
                                f.length && h.push({
                                    elem: j,
                                    handlers: f
                                })
                            } return j = this, i < b.length && h.push({
                        elem: j,
                        handlers: b.slice(i)
                    }), h
                },
                addProp: function (a, b) {
                    Object.defineProperty(r.Event.prototype, a, {
                        enumerable: !0,
                        configurable: !0,
                        get: r.isFunction(b) ? function () {
                            if (this.originalEvent) return b(this.originalEvent)
                        } : function () {
                            if (this.originalEvent) return this.originalEvent[a]
                        },
                        set: function (b) {
                            Object.defineProperty(this, a, {
                                enumerable: !0,
                                configurable: !0,
                                writable: !0,
                                value: b
                            })
                        }
                    })
                },
                fix: function (a) {
                    return a[r.expando] ? a : new r.Event(a)
                },
                special: {
                    load: {
                        noBubble: !0
                    },
                    focus: {
                        trigger: function () {
                            if (this !== wa() && this.focus) return this.focus(), !1
                        },
                        delegateType: "focusin"
                    },
                    blur: {
                        trigger: function () {
                            if (this === wa() && this.blur) return this.blur(), !1
                        },
                        delegateType: "focusout"
                    },
                    click: {
                        trigger: function () {
                            if ("checkbox" === this.type && this.click && r.nodeName(this, "input"))
                                return this.click(), !1
                        },
                        _default: function (a) {
                            return r.nodeName(a.target, "a")
                        }
                    },
                    beforeunload: {
                        postDispatch: function (a) {
                            void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a
                                .result)
                        }
                    }
                }
            }, r.removeEvent = function (a, b, c) {
                a.removeEventListener && a.removeEventListener(b, c)
            }, r.Event = function (a, b) {
                return this instanceof r.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type,
                        this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a
                        .returnValue === !1 ? ua : va, this.target = a.target && 3 === a.target.nodeType ? a
                        .target.parentNode : a.target, this.currentTarget = a.currentTarget, this
                        .relatedTarget = a.relatedTarget) : this.type = a, b && r.extend(this, b), this
                    .timeStamp = a && a.timeStamp || r.now(), void(this[r.expando] = !0)) : new r.Event(a,
                    b)
            }, r.Event.prototype = {
                constructor: r.Event,
                isDefaultPrevented: va,
                isPropagationStopped: va,
                isImmediatePropagationStopped: va,
                isSimulated: !1,
                preventDefault: function () {
                    var a = this.originalEvent;
                    this.isDefaultPrevented = ua, a && !this.isSimulated && a.preventDefault()
                },
                stopPropagation: function () {
                    var a = this.originalEvent;
                    this.isPropagationStopped = ua, a && !this.isSimulated && a.stopPropagation()
                },
                stopImmediatePropagation: function () {
                    var a = this.originalEvent;
                    this.isImmediatePropagationStopped = ua, a && !this.isSimulated && a
                        .stopImmediatePropagation(), this.stopPropagation()
                }
            }, r.each({
                altKey: !0,
                bubbles: !0,
                cancelable: !0,
                changedTouches: !0,
                ctrlKey: !0,
                detail: !0,
                eventPhase: !0,
                metaKey: !0,
                pageX: !0,
                pageY: !0,
                shiftKey: !0,
                view: !0,
                "char": !0,
                charCode: !0,
                key: !0,
                keyCode: !0,
                button: !0,
                buttons: !0,
                clientX: !0,
                clientY: !0,
                offsetX: !0,
                offsetY: !0,
                pointerId: !0,
                pointerType: !0,
                screenX: !0,
                screenY: !0,
                targetTouches: !0,
                toElement: !0,
                touches: !0,
                which: function (a) {
                    var b = a.button;
                    return null == a.which && ra.test(a.type) ? null != a.charCode ? a.charCode : a
                        .keyCode : !a.which && void 0 !== b && sa.test(a.type) ? 1 & b ? 1 : 2 & b ? 3 :
                        4 & b ? 2 : 0 : a.which
                }
            }, r.event.addProp), r.each({
                mouseenter: "mouseover",
                mouseleave: "mouseout",
                pointerenter: "pointerover",
                pointerleave: "pointerout"
            }, function (a, b) {
                r.event.special[a] = {
                    delegateType: b,
                    bindType: b,
                    handle: function (a) {
                        var c, d = this,
                            e = a.relatedTarget,
                            f = a.handleObj;
                        return e && (e === d || r.contains(d, e)) || (a.type = f.origType, c = f
                            .handler.apply(this, arguments), a.type = b), c
                    }
                }
            }), r.fn.extend({
                on: function (a, b, c, d) {
                    return xa(this, a, b, c, d)
                },
                one: function (a, b, c, d) {
                    return xa(this, a, b, c, d, 1)
                },
                off: function (a, b, c) {
                    var d, e;
                    if (a && a.preventDefault && a.handleObj) return d = a.handleObj, r(a
                        .delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d
                        .origType, d.selector, d.handler), this;
                    if ("object" == typeof a) {
                        for (e in a) this.off(e, b, a[e]);
                        return this
                    }
                    return b !== !1 && "function" != typeof b || (c = b, b = void 0), c === !1 && (c =
                        va), this.each(function () {
                        r.event.remove(this, a, c, b)
                    })
                }
            });
            var ya = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
                za = /<script|<style|<link/i,
                Aa = /checked\s*(?:[^=]|=\s*.checked.)/i,
                Ba = /^true\/(.*)/,
                Ca = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

            function Da(a, b) {
                return r.nodeName(a, "table") && r.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a
                    .getElementsByTagName("tbody")[0] || a : a
            }

            function Ea(a) {
                return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a
            }

            function Fa(a) {
                var b = Ba.exec(a.type);
                return b ? a.type = b[1] : a.removeAttribute("type"), a
            }

            function Ga(a, b) {
                var c, d, e, f, g, h, i, j;
                if (1 === b.nodeType) {
                    if (V.hasData(a) && (f = V.access(a), g = V.set(b, f), j = f.events)) {
                        delete g.handle, g.events = {};
                        for (e in j)
                            for (c = 0, d = j[e].length; c < d; c++) r.event.add(b, e, j[e][c])
                    }
                    W.hasData(a) && (h = W.access(a), i = r.extend({}, h), W.set(b, i))
                }
            }

            function Ha(a, b) {
                var c = b.nodeName.toLowerCase();
                "input" === c && ia.test(a.type) ? b.checked = a.checked : "input" !== c && "textarea" !== c || (b
                    .defaultValue = a.defaultValue)
            }

            function Ia(a, b, c, d) {
                b = g.apply([], b);
                var e, f, h, i, j, k, l = 0,
                    m = a.length,
                    n = m - 1,
                    q = b[0],
                    s = r.isFunction(q);
                if (s || m > 1 && "string" == typeof q && !o.checkClone && Aa.test(q)) return a.each(function (e) {
                    var f = a.eq(e);
                    s && (b[0] = q.call(this, e, f.html())), Ia(f, b, c, d)
                });
                if (m && (e = pa(b, a[0].ownerDocument, !1, a, d), f = e.firstChild, 1 === e.childNodes.length && (
                        e = f), f || d)) {
                    for (h = r.map(ma(e, "script"), Ea), i = h.length; l < m; l++) j = e, l !== n && (j = r.clone(j,
                        !0, !0), i && r.merge(h, ma(j, "script"))), c.call(a[l], j, l);
                    if (i)
                        for (k = h[h.length - 1].ownerDocument, r.map(h, Fa), l = 0; l < i; l++) j = h[l], ka.test(j
                            .type || "") && !V.access(j, "globalEval") && r.contains(k, j) && (j.src ? r
                            ._evalUrl && r._evalUrl(j.src) : p(j.textContent.replace(Ca, ""), k))
                }
                return a
            }

            function Ja(a, b, c) {
                for (var d, e = b ? r.filter(b, a) : a, f = 0; null != (d = e[f]); f++) c || 1 !== d.nodeType || r
                    .cleanData(ma(d)), d.parentNode && (c && r.contains(d.ownerDocument, d) && na(ma(d, "script")),
                        d.parentNode.removeChild(d));
                return a
            }
            r.extend({
                htmlPrefilter: function (a) {
                    return a.replace(ya, "<$1></$2>")
                },
                clone: function (a, b, c) {
                    var d, e, f, g, h = a.cloneNode(!0),
                        i = r.contains(a.ownerDocument, a);
                    if (!(o.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || r.isXMLDoc(a)))
                        for (g = ma(h), f = ma(a), d = 0, e = f.length; d < e; d++) Ha(f[d], g[d]);
                    if (b)
                        if (c)
                            for (f = f || ma(a), g = g || ma(h), d = 0, e = f.length; d < e; d++) Ga(f[
                                d], g[d]);
                        else Ga(a, h);
                    return g = ma(h, "script"), g.length > 0 && na(g, !i && ma(a, "script")), h
                },
                cleanData: function (a) {
                    for (var b, c, d, e = r.event.special, f = 0; void 0 !== (c = a[f]); f++)
                        if (T(c)) {
                            if (b = c[V.expando]) {
                                if (b.events)
                                    for (d in b.events) e[d] ? r.event.remove(c, d) : r.removeEvent(c,
                                        d, b.handle);
                                c[V.expando] = void 0
                            }
                            c[W.expando] && (c[W.expando] = void 0)
                        }
                }
            }), r.fn.extend({
                detach: function (a) {
                    return Ja(this, a, !0)
                },
                remove: function (a) {
                    return Ja(this, a)
                },
                text: function (a) {
                    return S(this, function (a) {
                        return void 0 === a ? r.text(this) : this.empty().each(function () {
                            1 !== this.nodeType && 11 !== this.nodeType && 9 !== this
                                .nodeType || (this.textContent = a)
                        })
                    }, null, a, arguments.length)
                },
                append: function () {
                    return Ia(this, arguments, function (a) {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this
                            .nodeType) {
                            var b = Da(this, a);
                            b.appendChild(a)
                        }
                    })
                },
                prepend: function () {
                    return Ia(this, arguments, function (a) {
                        if (1 === this.nodeType || 11 === this.nodeType || 9 === this
                            .nodeType) {
                            var b = Da(this, a);
                            b.insertBefore(a, b.firstChild)
                        }
                    })
                },
                before: function () {
                    return Ia(this, arguments, function (a) {
                        this.parentNode && this.parentNode.insertBefore(a, this)
                    })
                },
                after: function () {
                    return Ia(this, arguments, function (a) {
                        this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
                    })
                },
                empty: function () {
                    for (var a, b = 0; null != (a = this[b]); b++) 1 === a.nodeType && (r.cleanData(ma(
                        a, !1)), a.textContent = "");
                    return this
                },
                clone: function (a, b) {
                    return a = null != a && a, b = null == b ? a : b, this.map(function () {
                        return r.clone(this, a, b)
                    })
                },
                html: function (a) {
                    return S(this, function (a) {
                        var b = this[0] || {},
                            c = 0,
                            d = this.length;
                        if (void 0 === a && 1 === b.nodeType) return b.innerHTML;
                        if ("string" == typeof a && !za.test(a) && !la[(ja.exec(a) || ["", ""])[
                                1].toLowerCase()]) {
                            a = r.htmlPrefilter(a);
                            try {
                                for (; c < d; c++) b = this[c] || {}, 1 === b.nodeType && (r
                                    .cleanData(ma(b, !1)), b.innerHTML = a);
                                b = 0
                            } catch (e) {}
                        }
                        b && this.empty().append(a)
                    }, null, a, arguments.length)
                },
                replaceWith: function () {
                    var a = [];
                    return Ia(this, arguments, function (b) {
                        var c = this.parentNode;
                        r.inArray(this, a) < 0 && (r.cleanData(ma(this)), c && c.replaceChild(b,
                            this))
                    }, a)
                }
            }), r.each({
                appendTo: "append",
                prependTo: "prepend",
                insertBefore: "before",
                insertAfter: "after",
                replaceAll: "replaceWith"
            }, function (a, b) {
                r.fn[a] = function (a) {
                    for (var c, d = [], e = r(a), f = e.length - 1, g = 0; g <= f; g++) c = g === f ?
                        this : this.clone(!0), r(e[g])[b](c), h.apply(d, c.get());
                    return this.pushStack(d)
                }
            });
            var Ka = /^margin/,
                La = new RegExp("^(" + _ + ")(?!px)[a-z%]+$", "i"),
                Ma = function (b) {
                    var c = b.ownerDocument.defaultView;
                    return c && c.opener || (c = a), c.getComputedStyle(b)
                };
            ! function () {
                function b() {
                    if (i) {
                        i.style.cssText =
                            "box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",
                            i.innerHTML = "", qa.appendChild(h);
                        var b = a.getComputedStyle(i);
                        c = "1%" !== b.top, g = "2px" === b.marginLeft, e = "4px" === b.width, i.style.marginRight =
                            "50%", f = "4px" === b.marginRight, qa.removeChild(h), i = null
                    }
                }
                var c, e, f, g, h = d.createElement("div"),
                    i = d.createElement("div");
                i.style && (i.style.backgroundClip = "content-box", i.cloneNode(!0).style.backgroundClip = "", o
                    .clearCloneStyle = "content-box" === i.style.backgroundClip, h.style.cssText =
                    "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
                    h.appendChild(i), r.extend(o, {
                        pixelPosition: function () {
                            return b(), c
                        },
                        boxSizingReliable: function () {
                            return b(), e
                        },
                        pixelMarginRight: function () {
                            return b(), f
                        },
                        reliableMarginLeft: function () {
                            return b(), g
                        }
                    }))
            }();

            function Na(a, b, c) {
                var d, e, f, g, h = a.style;
                return c = c || Ma(a), c && (g = c.getPropertyValue(b) || c[b], "" !== g || r.contains(a
                            .ownerDocument, a) || (g = r.style(a, b)), !o.pixelMarginRight() && La.test(g) && Ka
                        .test(b) && (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h
                            .width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f)), void 0 !== g ?
                    g + "" : g
            }

            function Oa(a, b) {
                return {
                    get: function () {
                        return a() ? void delete this.get : (this.get = b).apply(this, arguments)
                    }
                }
            }
            var Pa = /^(none|table(?!-c[ea]).+)/,
                Qa = {
                    position: "absolute",
                    visibility: "hidden",
                    display: "block"
                },
                Ra = {
                    letterSpacing: "0",
                    fontWeight: "400"
                },
                Sa = ["Webkit", "Moz", "ms"],
                Ta = d.createElement("div").style;

            function Ua(a) {
                if (a in Ta) return a;
                var b = a[0].toUpperCase() + a.slice(1),
                    c = Sa.length;
                while (c--)
                    if (a = Sa[c] + b, a in Ta) return a
            }

            function Va(a, b, c) {
                var d = aa.exec(b);
                return d ? Math.max(0, d[2] - (c || 0)) + (d[3] || "px") : b
            }

            function Wa(a, b, c, d, e) {
                var f, g = 0;
                for (f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0; f < 4; f += 2) "margin" ===
                    c && (g += r.css(a, c + ba[f], !0, e)), d ? ("content" === c && (g -= r.css(a, "padding" + ba[
                        f], !0, e)), "margin" !== c && (g -= r.css(a, "border" + ba[f] + "Width", !0, e))) : (g += r
                        .css(a, "padding" + ba[f], !0, e), "padding" !== c && (g += r.css(a, "border" + ba[f] +
                            "Width", !0, e)));
                return g
            }

            function Xa(a, b, c) {
                var d, e = !0,
                    f = Ma(a),
                    g = "border-box" === r.css(a, "boxSizing", !1, f);
                if (a.getClientRects().length && (d = a.getBoundingClientRect()[b]), d <= 0 || null == d) {
                    if (d = Na(a, b, f), (d < 0 || null == d) && (d = a.style[b]), La.test(d)) return d;
                    e = g && (o.boxSizingReliable() || d === a.style[b]), d = parseFloat(d) || 0
                }
                return d + Wa(a, b, c || (g ? "border" : "content"), e, f) + "px"
            }
            r.extend({
                cssHooks: {
                    opacity: {
                        get: function (a, b) {
                            if (b) {
                                var c = Na(a, "opacity");
                                return "" === c ? "1" : c
                            }
                        }
                    }
                },
                cssNumber: {
                    animationIterationCount: !0,
                    columnCount: !0,
                    fillOpacity: !0,
                    flexGrow: !0,
                    flexShrink: !0,
                    fontWeight: !0,
                    lineHeight: !0,
                    opacity: !0,
                    order: !0,
                    orphans: !0,
                    widows: !0,
                    zIndex: !0,
                    zoom: !0
                },
                cssProps: {
                    "float": "cssFloat"
                },
                style: function (a, b, c, d) {
                    if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                        var e, f, g, h = r.camelCase(b),
                            i = a.style;
                        return b = r.cssProps[h] || (r.cssProps[h] = Ua(h) || h), g = r.cssHooks[b] || r
                            .cssHooks[h], void 0 === c ? g && "get" in g && void 0 !== (e = g.get(a, !1,
                                d)) ? e : i[b] : (f = typeof c, "string" === f && (e = aa.exec(c)) && e[
                                1] && (c = ea(a, b, e), f = "number"), null != c && c === c && (
                                "number" === f && (c += e && e[3] || (r.cssNumber[h] ? "" : "px")),
                                o.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (
                                    i[b] = "inherit"), g && "set" in g && void 0 === (c = g.set(a,
                                    c, d)) || (i[b] = c)), void 0)
                    }
                },
                css: function (a, b, c, d) {
                    var e, f, g, h = r.camelCase(b);
                    return b = r.cssProps[h] || (r.cssProps[h] = Ua(h) || h), g = r.cssHooks[b] || r
                        .cssHooks[h], g && "get" in g && (e = g.get(a, !0, c)), void 0 === e && (e = Na(
                            a, b, d)), "normal" === e && b in Ra && (e = Ra[b]), "" === c || c ? (f =
                            parseFloat(e), c === !0 || isFinite(f) ? f || 0 : e) : e
                }
            }), r.each(["height", "width"], function (a, b) {
                r.cssHooks[b] = {
                    get: function (a, c, d) {
                        if (c) return !Pa.test(r.css(a, "display")) || a.getClientRects().length &&
                            a.getBoundingClientRect().width ? Xa(a, b, d) : da(a, Qa,
                                function () {
                                    return Xa(a, b, d)
                                })
                    },
                    set: function (a, c, d) {
                        var e, f = d && Ma(a),
                            g = d && Wa(a, b, d, "border-box" === r.css(a, "boxSizing", !1, f), f);
                        return g && (e = aa.exec(c)) && "px" !== (e[3] || "px") && (a.style[b] = c,
                            c = r.css(a, b)), Va(a, c, g)
                    }
                }
            }), r.cssHooks.marginLeft = Oa(o.reliableMarginLeft, function (a, b) {
                if (b) return (parseFloat(Na(a, "marginLeft")) || a.getBoundingClientRect().left - da(a, {
                    marginLeft: 0
                }, function () {
                    return a.getBoundingClientRect().left
                })) + "px"
            }), r.each({
                margin: "",
                padding: "",
                border: "Width"
            }, function (a, b) {
                r.cssHooks[a + b] = {
                    expand: function (c) {
                        for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; d <
                            4; d++) e[a + ba[d] + b] = f[d] || f[d - 2] || f[0];
                        return e
                    }
                }, Ka.test(a) || (r.cssHooks[a + b].set = Va)
            }), r.fn.extend({
                css: function (a, b) {
                    return S(this, function (a, b, c) {
                        var d, e, f = {},
                            g = 0;
                        if (r.isArray(b)) {
                            for (d = Ma(a), e = b.length; g < e; g++) f[b[g]] = r.css(a, b[g], !
                                1, d);
                            return f
                        }
                        return void 0 !== c ? r.style(a, b, c) : r.css(a, b)
                    }, a, b, arguments.length > 1)
                }
            });

            function Ya(a, b, c, d, e) {
                return new Ya.prototype.init(a, b, c, d, e)
            }
            r.Tween = Ya, Ya.prototype = {
                constructor: Ya,
                init: function (a, b, c, d, e, f) {
                    this.elem = a, this.prop = c, this.easing = e || r.easing._default, this.options = b,
                        this.start = this.now = this.cur(), this.end = d, this.unit = f || (r.cssNumber[c] ?
                            "" : "px")
                },
                cur: function () {
                    var a = Ya.propHooks[this.prop];
                    return a && a.get ? a.get(this) : Ya.propHooks._default.get(this)
                },
                run: function (a) {
                    var b, c = Ya.propHooks[this.prop];
                    return this.options.duration ? this.pos = b = r.easing[this.easing](a, this.options
                            .duration * a, 0, 1, this.options.duration) : this.pos = b = a, this.now = (this
                            .end - this.start) * b + this.start, this.options.step && this.options.step
                        .call(this.elem, this.now, this), c && c.set ? c.set(this) : Ya.propHooks._default
                        .set(this), this
                }
            }, Ya.prototype.init.prototype = Ya.prototype, Ya.propHooks = {
                _default: {
                    get: function (a) {
                        var b;
                        return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a
                            .prop] ? a.elem[a.prop] : (b = r.css(a.elem, a.prop, ""), b && "auto" !==
                            b ? b : 0)
                    },
                    set: function (a) {
                        r.fx.step[a.prop] ? r.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem
                            .style[r.cssProps[a.prop]] && !r.cssHooks[a.prop] ? a.elem[a.prop] = a.now : r
                            .style(a.elem, a.prop, a.now + a.unit)
                    }
                }
            }, Ya.propHooks.scrollTop = Ya.propHooks.scrollLeft = {
                set: function (a) {
                    a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
                }
            }, r.easing = {
                linear: function (a) {
                    return a
                },
                swing: function (a) {
                    return .5 - Math.cos(a * Math.PI) / 2
                },
                _default: "swing"
            }, r.fx = Ya.prototype.init, r.fx.step = {};
            var Za, $a, _a = /^(?:toggle|show|hide)$/,
                ab = /queueHooks$/;

            function bb() {
                $a && (a.requestAnimationFrame(bb), r.fx.tick())
            }

            function cb() {
                return a.setTimeout(function () {
                    Za = void 0
                }), Za = r.now()
            }

            function db(a, b) {
                var c, d = 0,
                    e = {
                        height: a
                    };
                for (b = b ? 1 : 0; d < 4; d += 2 - b) c = ba[d], e["margin" + c] = e["padding" + c] = a;
                return b && (e.opacity = e.width = a), e
            }

            function eb(a, b, c) {
                for (var d, e = (hb.tweeners[b] || []).concat(hb.tweeners["*"]), f = 0, g = e.length; f < g; f++)
                    if (d = e[f].call(c, b, a)) return d
            }

            function fb(a, b, c) {
                var d, e, f, g, h, i, j, k, l = "width" in b || "height" in b,
                    m = this,
                    n = {},
                    o = a.style,
                    p = a.nodeType && ca(a),
                    q = V.get(a, "fxshow");
                c.queue || (g = r._queueHooks(a, "fx"), null == g.unqueued && (g.unqueued = 0, h = g.empty.fire, g
                    .empty.fire = function () {
                        g.unqueued || h()
                    }), g.unqueued++, m.always(function () {
                    m.always(function () {
                        g.unqueued--, r.queue(a, "fx").length || g.empty.fire()
                    })
                }));
                for (d in b)
                    if (e = b[d], _a.test(e)) {
                        if (delete b[d], f = f || "toggle" === e, e === (p ? "hide" : "show")) {
                            if ("show" !== e || !q || void 0 === q[d]) continue;
                            p = !0
                        }
                        n[d] = q && q[d] || r.style(a, d)
                    } if (i = !r.isEmptyObject(b), i || !r.isEmptyObject(n)) {
                    l && 1 === a.nodeType && (c.overflow = [o.overflow, o.overflowX, o.overflowY], j = q && q
                        .display, null == j && (j = V.get(a, "display")), k = r.css(a, "display"), "none" ===
                        k && (j ? k = j : (ha([a], !0), j = a.style.display || j, k = r.css(a, "display"), ha([
                            a
                        ]))), ("inline" === k || "inline-block" === k && null != j) && "none" === r.css(a,
                            "float") && (i || (m.done(function () {
                                o.display = j
                            }), null == j && (k = o.display, j = "none" === k ? "" : k)), o.display =
                            "inline-block")), c.overflow && (o.overflow = "hidden", m.always(function () {
                        o.overflow = c.overflow[0], o.overflowX = c.overflow[1], o.overflowY = c
                            .overflow[2]
                    })), i = !1;
                    for (d in n) i || (q ? "hidden" in q && (p = q.hidden) : q = V.access(a, "fxshow", {
                        display: j
                    }), f && (q.hidden = !p), p && ha([a], !0), m.done(function () {
                        p || ha([a]), V.remove(a, "fxshow");
                        for (d in n) r.style(a, d, n[d])
                    })), i = eb(p ? q[d] : 0, d, m), d in q || (q[d] = i.start, p && (i.end = i.start, i.start =
                        0))
                }
            }

            function gb(a, b) {
                var c, d, e, f, g;
                for (c in a)
                    if (d = r.camelCase(c), e = b[d], f = a[c], r.isArray(f) && (e = f[1], f = a[c] = f[0]), c !==
                        d && (a[d] = f, delete a[c]), g = r.cssHooks[d], g && "expand" in g) {
                        f = g.expand(f), delete a[d];
                        for (c in f) c in a || (a[c] = f[c], b[c] = e)
                    } else b[d] = e
            }

            function hb(a, b, c) {
                var d, e, f = 0,
                    g = hb.prefilters.length,
                    h = r.Deferred().always(function () {
                        delete i.elem
                    }),
                    i = function () {
                        if (e) return !1;
                        for (var b = Za || cb(), c = Math.max(0, j.startTime + j.duration - b), d = c / j
                                .duration || 0, f = 1 - d, g = 0, i = j.tweens.length; g < i; g++) j.tweens[g].run(
                            f);
                        return h.notifyWith(a, [j, f, c]), f < 1 && i ? c : (h.resolveWith(a, [j]), !1)
                    },
                    j = h.promise({
                        elem: a,
                        props: r.extend({}, b),
                        opts: r.extend(!0, {
                            specialEasing: {},
                            easing: r.easing._default
                        }, c),
                        originalProperties: b,
                        originalOptions: c,
                        startTime: Za || cb(),
                        duration: c.duration,
                        tweens: [],
                        createTween: function (b, c) {
                            var d = r.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                            return j.tweens.push(d), d
                        },
                        stop: function (b) {
                            var c = 0,
                                d = b ? j.tweens.length : 0;
                            if (e) return this;
                            for (e = !0; c < d; c++) j.tweens[c].run(1);
                            return b ? (h.notifyWith(a, [j, 1, 0]), h.resolveWith(a, [j, b])) : h
                                .rejectWith(a, [j, b]), this
                        }
                    }),
                    k = j.props;
                for (gb(k, j.opts.specialEasing); f < g; f++)
                    if (d = hb.prefilters[f].call(j, a, k, j.opts)) return r.isFunction(d.stop) && (r._queueHooks(j
                        .elem, j.opts.queue).stop = r.proxy(d.stop, d)), d;
                return r.map(k, eb, j), r.isFunction(j.opts.start) && j.opts.start.call(a, j), r.fx.timer(r.extend(
                        i, {
                            elem: a,
                            anim: j,
                            queue: j.opts.queue
                        })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail)
                    .always(j.opts.always)
            }
            r.Animation = r.extend(hb, {
                    tweeners: {
                        "*": [function (a, b) {
                            var c = this.createTween(a, b);
                            return ea(c.elem, a, aa.exec(b), c), c
                        }]
                    },
                    tweener: function (a, b) {
                        r.isFunction(a) ? (b = a, a = ["*"]) : a = a.match(K);
                        for (var c, d = 0, e = a.length; d < e; d++) c = a[d], hb.tweeners[c] = hb.tweeners[
                            c] || [], hb.tweeners[c].unshift(b)
                    },
                    prefilters: [fb],
                    prefilter: function (a, b) {
                        b ? hb.prefilters.unshift(a) : hb.prefilters.push(a)
                    }
                }), r.speed = function (a, b, c) {
                    var e = a && "object" == typeof a ? r.extend({}, a) : {
                        complete: c || !c && b || r.isFunction(a) && a,
                        duration: a,
                        easing: c && b || b && !r.isFunction(b) && b
                    };
                    return r.fx.off || d.hidden ? e.duration = 0 : "number" != typeof e.duration && (e.duration in r
                            .fx.speeds ? e.duration = r.fx.speeds[e.duration] : e.duration = r.fx.speeds._default),
                        null != e.queue && e.queue !== !0 || (e.queue = "fx"), e.old = e.complete, e.complete =
                        function () {
                            r.isFunction(e.old) && e.old.call(this), e.queue && r.dequeue(this, e.queue)
                        }, e
                }, r.fn.extend({
                    fadeTo: function (a, b, c, d) {
                        return this.filter(ca).css("opacity", 0).show().end().animate({
                            opacity: b
                        }, a, c, d)
                    },
                    animate: function (a, b, c, d) {
                        var e = r.isEmptyObject(a),
                            f = r.speed(b, c, d),
                            g = function () {
                                var b = hb(this, r.extend({}, a), f);
                                (e || V.get(this, "finish")) && b.stop(!0)
                            };
                        return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
                    },
                    stop: function (a, b, c) {
                        var d = function (a) {
                            var b = a.stop;
                            delete a.stop, b(c)
                        };
                        return "string" != typeof a && (c = b, b = a, a = void 0), b && a !== !1 && this
                            .queue(a || "fx", []), this.each(function () {
                                var b = !0,
                                    e = null != a && a + "queueHooks",
                                    f = r.timers,
                                    g = V.get(this);
                                if (e) g[e] && g[e].stop && d(g[e]);
                                else
                                    for (e in g) g[e] && g[e].stop && ab.test(e) && d(g[e]);
                                for (e = f.length; e--;) f[e].elem !== this || null != a && f[e]
                                    .queue !== a || (f[e].anim.stop(c), b = !1, f.splice(e, 1));
                                !b && c || r.dequeue(this, a)
                            })
                    },
                    finish: function (a) {
                        return a !== !1 && (a = a || "fx"), this.each(function () {
                            var b, c = V.get(this),
                                d = c[a + "queue"],
                                e = c[a + "queueHooks"],
                                f = r.timers,
                                g = d ? d.length : 0;
                            for (c.finish = !0, r.queue(this, a, []), e && e.stop && e.stop.call(
                                    this, !0), b = f.length; b--;) f[b].elem === this && f[b]
                                .queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
                            for (b = 0; b < g; b++) d[b] && d[b].finish && d[b].finish.call(this);
                            delete c.finish
                        })
                    }
                }), r.each(["toggle", "show", "hide"], function (a, b) {
                    var c = r.fn[b];
                    r.fn[b] = function (a, d, e) {
                        return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(
                            db(b, !0), a, d, e)
                    }
                }), r.each({
                    slideDown: db("show"),
                    slideUp: db("hide"),
                    slideToggle: db("toggle"),
                    fadeIn: {
                        opacity: "show"
                    },
                    fadeOut: {
                        opacity: "hide"
                    },
                    fadeToggle: {
                        opacity: "toggle"
                    }
                }, function (a, b) {
                    r.fn[a] = function (a, c, d) {
                        return this.animate(b, a, c, d)
                    }
                }), r.timers = [], r.fx.tick = function () {
                    var a, b = 0,
                        c = r.timers;
                    for (Za = r.now(); b < c.length; b++) a = c[b], a() || c[b] !== a || c.splice(b--, 1);
                    c.length || r.fx.stop(), Za = void 0
                }, r.fx.timer = function (a) {
                    r.timers.push(a), a() ? r.fx.start() : r.timers.pop()
                }, r.fx.interval = 13, r.fx.start = function () {
                    $a || ($a = a.requestAnimationFrame ? a.requestAnimationFrame(bb) : a.setInterval(r.fx.tick, r
                        .fx.interval))
                }, r.fx.stop = function () {
                    a.cancelAnimationFrame ? a.cancelAnimationFrame($a) : a.clearInterval($a), $a = null
                }, r.fx.speeds = {
                    slow: 600,
                    fast: 200,
                    _default: 400
                }, r.fn.delay = function (b, c) {
                    return b = r.fx ? r.fx.speeds[b] || b : b, c = c || "fx", this.queue(c, function (c, d) {
                        var e = a.setTimeout(c, b);
                        d.stop = function () {
                            a.clearTimeout(e)
                        }
                    })
                },
                function () {
                    var a = d.createElement("input"),
                        b = d.createElement("select"),
                        c = b.appendChild(d.createElement("option"));
                    a.type = "checkbox", o.checkOn = "" !== a.value, o.optSelected = c.selected, a = d
                        .createElement("input"), a.value = "t", a.type = "radio", o.radioValue = "t" === a.value
                }();
            var ib, jb = r.expr.attrHandle;
            r.fn.extend({
                attr: function (a, b) {
                    return S(this, r.attr, a, b, arguments.length > 1)
                },
                removeAttr: function (a) {
                    return this.each(function () {
                        r.removeAttr(this, a)
                    })
                }
            }), r.extend({
                attr: function (a, b, c) {
                    var d, e, f = a.nodeType;
                    if (3 !== f && 8 !== f && 2 !== f) return "undefined" == typeof a.getAttribute ? r
                        .prop(a, b, c) : (1 === f && r.isXMLDoc(a) || (e = r.attrHooks[b
                                .toLowerCase()] || (r.expr.match.bool.test(b) ? ib : void 0)),
                            void 0 !== c ? null === c ? void r.removeAttr(a, b) : e && "set" in e &&
                            void 0 !== (d = e.set(a, c, b)) ? d : (a.setAttribute(b, c + ""), c) :
                            e && "get" in e && null !== (d = e.get(a, b)) ? d : (d = r.find.attr(a,
                                b), null == d ? void 0 : d))
                },
                attrHooks: {
                    type: {
                        set: function (a, b) {
                            if (!o.radioValue && "radio" === b && r.nodeName(a, "input")) {
                                var c = a.value;
                                return a.setAttribute("type", b), c && (a.value = c), b
                            }
                        }
                    }
                },
                removeAttr: function (a, b) {
                    var c, d = 0,
                        e = b && b.match(K);
                    if (e && 1 === a.nodeType)
                        while (c = e[d++]) a.removeAttribute(c)
                }
            }), ib = {
                set: function (a, b, c) {
                    return b === !1 ? r.removeAttr(a, c) : a.setAttribute(c, c), c
                }
            }, r.each(r.expr.match.bool.source.match(/\w+/g), function (a, b) {
                var c = jb[b] || r.find.attr;
                jb[b] = function (a, b, d) {
                    var e, f, g = b.toLowerCase();
                    return d || (f = jb[g], jb[g] = e, e = null != c(a, b, d) ? g : null, jb[g] = f), e
                }
            });
            var kb = /^(?:input|select|textarea|button)$/i,
                lb = /^(?:a|area)$/i;
            r.fn.extend({
                prop: function (a, b) {
                    return S(this, r.prop, a, b, arguments.length > 1)
                },
                removeProp: function (a) {
                    return this.each(function () {
                        delete this[r.propFix[a] || a]
                    })
                }
            }), r.extend({
                prop: function (a, b, c) {
                    var d, e, f = a.nodeType;
                    if (3 !== f && 8 !== f && 2 !== f) return 1 === f && r.isXMLDoc(a) || (b = r
                            .propFix[b] || b, e = r.propHooks[b]), void 0 !== c ? e && "set" in e &&
                        void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get" in e && null !==
                        (d = e.get(a, b)) ? d : a[b]
                },
                propHooks: {
                    tabIndex: {
                        get: function (a) {
                            var b = r.find.attr(a, "tabindex");
                            return b ? parseInt(b, 10) : kb.test(a.nodeName) || lb.test(a.nodeName) && a
                                .href ? 0 : -1
                        }
                    }
                },
                propFix: {
                    "for": "htmlFor",
                    "class": "className"
                }
            }), o.optSelected || (r.propHooks.selected = {
                get: function (a) {
                    var b = a.parentNode;
                    return b && b.parentNode && b.parentNode.selectedIndex, null
                },
                set: function (a) {
                    var b = a.parentNode;
                    b && (b.selectedIndex, b.parentNode && b.parentNode.selectedIndex)
                }
            }), r.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan",
                "useMap", "frameBorder", "contentEditable"
            ], function () {
                r.propFix[this.toLowerCase()] = this
            });

            function mb(a) {
                var b = a.match(K) || [];
                return b.join(" ")
            }

            function nb(a) {
                return a.getAttribute && a.getAttribute("class") || ""
            }
            r.fn.extend({
                addClass: function (a) {
                    var b, c, d, e, f, g, h, i = 0;
                    if (r.isFunction(a)) return this.each(function (b) {
                        r(this).addClass(a.call(this, b, nb(this)))
                    });
                    if ("string" == typeof a && a) {
                        b = a.match(K) || [];
                        while (c = this[i++])
                            if (e = nb(c), d = 1 === c.nodeType && " " + mb(e) + " ") {
                                g = 0;
                                while (f = b[g++]) d.indexOf(" " + f + " ") < 0 && (d += f + " ");
                                h = mb(d), e !== h && c.setAttribute("class", h)
                            }
                    }
                    return this
                },
                removeClass: function (a) {
                    var b, c, d, e, f, g, h, i = 0;
                    if (r.isFunction(a)) return this.each(function (b) {
                        r(this).removeClass(a.call(this, b, nb(this)))
                    });
                    if (!arguments.length) return this.attr("class", "");
                    if ("string" == typeof a && a) {
                        b = a.match(K) || [];
                        while (c = this[i++])
                            if (e = nb(c), d = 1 === c.nodeType && " " + mb(e) + " ") {
                                g = 0;
                                while (f = b[g++])
                                    while (d.indexOf(" " + f + " ") > -1) d = d.replace(" " + f + " ",
                                        " ");
                                h = mb(d), e !== h && c.setAttribute("class", h)
                            }
                    }
                    return this
                },
                toggleClass: function (a, b) {
                    var c = typeof a;
                    return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this
                        .removeClass(a) : r.isFunction(a) ? this.each(function (c) {
                            r(this).toggleClass(a.call(this, c, nb(this), b), b)
                        }) : this.each(function () {
                            var b, d, e, f;
                            if ("string" === c) {
                                d = 0, e = r(this), f = a.match(K) || [];
                                while (b = f[d++]) e.hasClass(b) ? e.removeClass(b) : e.addClass(b)
                            } else void 0 !== a && "boolean" !== c || (b = nb(this), b && V.set(
                                    this, "__className__", b), this.setAttribute && this
                                .setAttribute("class", b || a === !1 ? "" : V.get(this,
                                    "__className__") || ""))
                        })
                },
                hasClass: function (a) {
                    var b, c, d = 0;
                    b = " " + a + " ";
                    while (c = this[d++])
                        if (1 === c.nodeType && (" " + mb(nb(c)) + " ").indexOf(b) > -1) return !0;
                    return !1
                }
            });
            var ob = /\r/g;
            r.fn.extend({
                val: function (a) {
                    var b, c, d, e = this[0]; {
                        if (arguments.length) return d = r.isFunction(a), this.each(function (c) {
                            var e;
                            1 === this.nodeType && (e = d ? a.call(this, c, r(this).val()) :
                                a, null == e ? e = "" : "number" == typeof e ? e += "" :
                                r.isArray(e) && (e = r.map(e, function (a) {
                                    return null == a ? "" : a + ""
                                })), b = r.valHooks[this.type] || r.valHooks[this
                                    .nodeName.toLowerCase()], b && "set" in b &&
                                void 0 !== b.set(this, e, "value") || (this.value = e))
                        });
                        if (e) return b = r.valHooks[e.type] || r.valHooks[e.nodeName.toLowerCase()],
                            b && "get" in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e
                                .value, "string" == typeof c ? c.replace(ob, "") : null == c ? "" :
                                c)
                    }
                }
            }), r.extend({
                valHooks: {
                    option: {
                        get: function (a) {
                            var b = r.find.attr(a, "value");
                            return null != b ? b : mb(r.text(a))
                        }
                    },
                    select: {
                        get: function (a) {
                            var b, c, d, e = a.options,
                                f = a.selectedIndex,
                                g = "select-one" === a.type,
                                h = g ? null : [],
                                i = g ? f + 1 : e.length;
                            for (d = f < 0 ? i : g ? f : 0; d < i; d++)
                                if (c = e[d], (c.selected || d === f) && !c.disabled && (!c.parentNode
                                        .disabled || !r.nodeName(c.parentNode, "optgroup"))) {
                                    if (b = r(c).val(), g) return b;
                                    h.push(b)
                                } return h
                        },
                        set: function (a, b) {
                            var c, d, e = a.options,
                                f = r.makeArray(b),
                                g = e.length;
                            while (g--) d = e[g], (d.selected = r.inArray(r.valHooks.option.get(d), f) >
                                -1) && (c = !0);
                            return c || (a.selectedIndex = -1), f
                        }
                    }
                }
            }), r.each(["radio", "checkbox"], function () {
                r.valHooks[this] = {
                    set: function (a, b) {
                        if (r.isArray(b)) return a.checked = r.inArray(r(a).val(), b) > -1
                    }
                }, o.checkOn || (r.valHooks[this].get = function (a) {
                    return null === a.getAttribute("value") ? "on" : a.value
                })
            });
            var pb = /^(?:focusinfocus|focusoutblur)$/;
            r.extend(r.event, {
                trigger: function (b, c, e, f) {
                    var g, h, i, j, k, m, n, o = [e || d],
                        p = l.call(b, "type") ? b.type : b,
                        q = l.call(b, "namespace") ? b.namespace.split(".") : [];
                    if (h = i = e = e || d, 3 !== e.nodeType && 8 !== e.nodeType && !pb.test(p + r.event
                            .triggered) && (p.indexOf(".") > -1 && (q = p.split("."), p = q.shift(), q
                                .sort()), k = p.indexOf(":") < 0 && "on" + p, b = b[r.expando] ? b :
                            new r.Event(p, "object" == typeof b && b), b.isTrigger = f ? 2 : 3, b
                            .namespace = q.join("."), b.rnamespace = b.namespace ? new RegExp(
                                "(^|\\.)" + q.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, b.result =
                            void 0, b.target || (b.target = e), c = null == c ? [b] : r.makeArray(c, [
                                b
                            ]), n = r.event.special[p] || {}, f || !n.trigger || n.trigger.apply(e,
                                c) !== !1)) {
                        if (!f && !n.noBubble && !r.isWindow(e)) {
                            for (j = n.delegateType || p, pb.test(j + p) || (h = h.parentNode); h; h = h
                                .parentNode) o.push(h), i = h;
                            i === (e.ownerDocument || d) && o.push(i.defaultView || i.parentWindow || a)
                        }
                        g = 0;
                        while ((h = o[g++]) && !b.isPropagationStopped()) b.type = g > 1 ? j : n
                            .bindType || p, m = (V.get(h, "events") || {})[b.type] && V.get(h,
                                "handle"), m && m.apply(h, c), m = k && h[k], m && m.apply && T(h) && (b
                                .result = m.apply(h, c), b.result === !1 && b.preventDefault());
                        return b.type = p, f || b.isDefaultPrevented() || n._default && n._default
                            .apply(o.pop(), c) !== !1 || !T(e) || k && r.isFunction(e[p]) && !r
                            .isWindow(e) && (i = e[k], i && (e[k] = null), r.event.triggered = p, e[p]
                                (), r.event.triggered = void 0, i && (e[k] = i)), b.result
                    }
                },
                simulate: function (a, b, c) {
                    var d = r.extend(new r.Event, c, {
                        type: a,
                        isSimulated: !0
                    });
                    r.event.trigger(d, null, b)
                }
            }), r.fn.extend({
                trigger: function (a, b) {
                    return this.each(function () {
                        r.event.trigger(a, b, this)
                    })
                },
                triggerHandler: function (a, b) {
                    var c = this[0];
                    if (c) return r.event.trigger(a, b, c, !0)
                }
            }), r.each(
                "blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu"
                .split(" "),
                function (a, b) {
                    r.fn[b] = function (a, c) {
                        return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
                    }
                }), r.fn.extend({
                hover: function (a, b) {
                    return this.mouseenter(a).mouseleave(b || a)
                }
            }), o.focusin = "onfocusin" in a, o.focusin || r.each({
                focus: "focusin",
                blur: "focusout"
            }, function (a, b) {
                var c = function (a) {
                    r.event.simulate(b, a.target, r.event.fix(a))
                };
                r.event.special[b] = {
                    setup: function () {
                        var d = this.ownerDocument || this,
                            e = V.access(d, b);
                        e || d.addEventListener(a, c, !0), V.access(d, b, (e || 0) + 1)
                    },
                    teardown: function () {
                        var d = this.ownerDocument || this,
                            e = V.access(d, b) - 1;
                        e ? V.access(d, b, e) : (d.removeEventListener(a, c, !0), V.remove(d, b))
                    }
                }
            });
            var qb = a.location,
                rb = r.now(),
                sb = /\?/;
            r.parseXML = function (b) {
                var c;
                if (!b || "string" != typeof b) return null;
                try {
                    c = (new a.DOMParser).parseFromString(b, "text/xml")
                } catch (d) {
                    c = void 0
                }
                return c && !c.getElementsByTagName("parsererror").length || r.error("Invalid XML: " + b), c
            };
            var tb = /\[\]$/,
                ub = /\r?\n/g,
                vb = /^(?:submit|button|image|reset|file)$/i,
                wb = /^(?:input|select|textarea|keygen)/i;

            function xb(a, b, c, d) {
                var e;
                if (r.isArray(b)) r.each(b, function (b, e) {
                    c || tb.test(a) ? d(a, e) : xb(a + "[" + ("object" == typeof e && null != e ? b : "") +
                        "]", e, c, d)
                });
                else if (c || "object" !== r.type(b)) d(a, b);
                else
                    for (e in b) xb(a + "[" + e + "]", b[e], c, d)
            }
            r.param = function (a, b) {
                var c, d = [],
                    e = function (a, b) {
                        var c = r.isFunction(b) ? b() : b;
                        d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(null == c ? "" : c)
                    };
                if (r.isArray(a) || a.jquery && !r.isPlainObject(a)) r.each(a, function () {
                    e(this.name, this.value)
                });
                else
                    for (c in a) xb(c, a[c], b, e);
                return d.join("&")
            }, r.fn.extend({
                serialize: function () {
                    return r.param(this.serializeArray())
                },
                serializeArray: function () {
                    return this.map(function () {
                        var a = r.prop(this, "elements");
                        return a ? r.makeArray(a) : this
                    }).filter(function () {
                        var a = this.type;
                        return this.name && !r(this).is(":disabled") && wb.test(this
                            .nodeName) && !vb.test(a) && (this.checked || !ia.test(a))
                    }).map(function (a, b) {
                        var c = r(this).val();
                        return null == c ? null : r.isArray(c) ? r.map(c, function (a) {
                            return {
                                name: b.name,
                                value: a.replace(ub, "\r\n")
                            }
                        }) : {
                            name: b.name,
                            value: c.replace(ub, "\r\n")
                        }
                    }).get()
                }
            });
            var yb = /%20/g,
                zb = /#.*$/,
                Ab = /([?&])_=[^&]*/,
                Bb = /^(.*?):[ \t]*([^\r\n]*)$/gm,
                Cb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
                Db = /^(?:GET|HEAD)$/,
                Eb = /^\/\//,
                Fb = {},
                Gb = {},
                Hb = "*/".concat("*"),
                Ib = d.createElement("a");
            Ib.href = qb.href;

            function Jb(a) {
                return function (b, c) {
                    "string" != typeof b && (c = b, b = "*");
                    var d, e = 0,
                        f = b.toLowerCase().match(K) || [];
                    if (r.isFunction(c))
                        while (d = f[e++]) "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(
                            c)) : (a[d] = a[d] || []).push(c)
                }
            }

            function Kb(a, b, c, d) {
                var e = {},
                    f = a === Gb;

                function g(h) {
                    var i;
                    return e[h] = !0, r.each(a[h] || [], function (a, h) {
                        var j = h(b, c, d);
                        return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes
                            .unshift(j), g(j), !1)
                    }), i
                }
                return g(b.dataTypes[0]) || !e["*"] && g("*")
            }

            function Lb(a, b) {
                var c, d, e = r.ajaxSettings.flatOptions || {};
                for (c in b) void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
                return d && r.extend(!0, a, d), a
            }

            function Mb(a, b, c) {
                var d, e, f, g, h = a.contents,
                    i = a.dataTypes;
                while ("*" === i[0]) i.shift(), void 0 === d && (d = a.mimeType || b.getResponseHeader(
                    "Content-Type"));
                if (d)
                    for (e in h)
                        if (h[e] && h[e].test(d)) {
                            i.unshift(e);
                            break
                        } if (i[0] in c) f = i[0];
                else {
                    for (e in c) {
                        if (!i[0] || a.converters[e + " " + i[0]]) {
                            f = e;
                            break
                        }
                        g || (g = e)
                    }
                    f = f || g
                }
                if (f) return f !== i[0] && i.unshift(f), c[f]
            }

            function Nb(a, b, c, d) {
                var e, f, g, h, i, j = {},
                    k = a.dataTypes.slice();
                if (k[1])
                    for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
                f = k.shift();
                while (f)
                    if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a
                            .dataFilter(b, a.dataType)), i = f, f = k.shift())
                        if ("*" === f) f = i;
                        else if ("*" !== i && i !== f) {
                    if (g = j[i + " " + f] || j["* " + f], !g)
                        for (e in j)
                            if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
                                break
                            } if (g !== !0)
                        if (g && a["throws"]) b = g(b);
                        else try {
                            b = g(b)
                        } catch (l) {
                            return {
                                state: "parsererror",
                                error: g ? l : "No conversion from " + i + " to " + f
                            }
                        }
                }
                return {
                    state: "success",
                    data: b
                }
            }
            r.extend({
                active: 0,
                lastModified: {},
                etag: {},
                ajaxSettings: {
                    url: qb.href,
                    type: "GET",
                    isLocal: Cb.test(qb.protocol),
                    global: !0,
                    processData: !0,
                    async: !0,
                    contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                    accepts: {
                        "*": Hb,
                        text: "text/plain",
                        html: "text/html",
                        xml: "application/xml, text/xml",
                        json: "application/json, text/javascript"
                    },
                    contents: {
                        xml: /\bxml\b/,
                        html: /\bhtml/,
                        json: /\bjson\b/
                    },
                    responseFields: {
                        xml: "responseXML",
                        text: "responseText",
                        json: "responseJSON"
                    },
                    converters: {
                        "* text": String,
                        "text html": !0,
                        "text json": JSON.parse,
                        "text xml": r.parseXML
                    },
                    flatOptions: {
                        url: !0,
                        context: !0
                    }
                },
                ajaxSetup: function (a, b) {
                    return b ? Lb(Lb(a, r.ajaxSettings), b) : Lb(r.ajaxSettings, a)
                },
                ajaxPrefilter: Jb(Fb),
                ajaxTransport: Jb(Gb),
                ajax: function (b, c) {
                    "object" == typeof b && (c = b, b = void 0), c = c || {};
                    var e, f, g, h, i, j, k, l, m, n, o = r.ajaxSetup({}, c),
                        p = o.context || o,
                        q = o.context && (p.nodeType || p.jquery) ? r(p) : r.event,
                        s = r.Deferred(),
                        t = r.Callbacks("once memory"),
                        u = o.statusCode || {},
                        v = {},
                        w = {},
                        x = "canceled",
                        y = {
                            readyState: 0,
                            getResponseHeader: function (a) {
                                var b;
                                if (k) {
                                    if (!h) {
                                        h = {};
                                        while (b = Bb.exec(g)) h[b[1].toLowerCase()] = b[2]
                                    }
                                    b = h[a.toLowerCase()]
                                }
                                return null == b ? null : b
                            },
                            getAllResponseHeaders: function () {
                                return k ? g : null
                            },
                            setRequestHeader: function (a, b) {
                                return null == k && (a = w[a.toLowerCase()] = w[a.toLowerCase()] ||
                                    a, v[a] = b), this
                            },
                            overrideMimeType: function (a) {
                                return null == k && (o.mimeType = a), this
                            },
                            statusCode: function (a) {
                                var b;
                                if (a)
                                    if (k) y.always(a[y.status]);
                                    else
                                        for (b in a) u[b] = [u[b], a[b]];
                                return this
                            },
                            abort: function (a) {
                                var b = a || x;
                                return e && e.abort(b), A(0, b), this
                            }
                        };
                    if (s.promise(y), o.url = ((b || o.url || qb.href) + "").replace(Eb, qb.protocol +
                            "//"), o.type = c.method || c.type || o.method || o.type, o.dataTypes = (o
                            .dataType || "*").toLowerCase().match(K) || [""], null == o.crossDomain) {
                        j = d.createElement("a");
                        try {
                            j.href = o.url, j.href = j.href, o.crossDomain = Ib.protocol + "//" + Ib
                                .host != j.protocol + "//" + j.host
                        } catch (z) {
                            o.crossDomain = !0
                        }
                    }
                    if (o.data && o.processData && "string" != typeof o.data && (o.data = r.param(o
                            .data, o.traditional)), Kb(Fb, o, c, y), k) return y;
                    l = r.event && o.global, l && 0 === r.active++ && r.event.trigger("ajaxStart"), o
                        .type = o.type.toUpperCase(), o.hasContent = !Db.test(o.type), f = o.url
                        .replace(zb, ""), o.hasContent ? o.data && o.processData && 0 === (o
                            .contentType || "").indexOf("application/x-www-form-urlencoded") && (o
                            .data = o.data.replace(yb, "+")) : (n = o.url.slice(f.length), o.data && (
                                f += (sb.test(f) ? "&" : "?") + o.data, delete o.data), o.cache === !
                            1 && (f = f.replace(Ab, "$1"), n = (sb.test(f) ? "&" : "?") + "_=" + rb++ +
                                n), o.url = f + n), o.ifModified && (r.lastModified[f] && y
                            .setRequestHeader("If-Modified-Since", r.lastModified[f]), r.etag[f] && y
                            .setRequestHeader("If-None-Match", r.etag[f])), (o.data && o.hasContent && o
                            .contentType !== !1 || c.contentType) && y.setRequestHeader("Content-Type",
                            o.contentType), y.setRequestHeader("Accept", o.dataTypes[0] && o.accepts[o
                            .dataTypes[0]] ? o.accepts[o.dataTypes[0]] + ("*" !== o.dataTypes[0] ?
                            ", " + Hb + "; q=0.01" : "") : o.accepts["*"]);
                    for (m in o.headers) y.setRequestHeader(m, o.headers[m]);
                    if (o.beforeSend && (o.beforeSend.call(p, y, o) === !1 || k)) return y.abort();
                    if (x = "abort", t.add(o.complete), y.done(o.success), y.fail(o.error), e = Kb(Gb,
                            o, c, y)) {
                        if (y.readyState = 1, l && q.trigger("ajaxSend", [y, o]), k) return y;
                        o.async && o.timeout > 0 && (i = a.setTimeout(function () {
                            y.abort("timeout")
                        }, o.timeout));
                        try {
                            k = !1, e.send(v, A)
                        } catch (z) {
                            if (k) throw z;
                            A(-1, z)
                        }
                    } else A(-1, "No Transport");

                    function A(b, c, d, h) {
                        var j, m, n, v, w, x = c;
                        k || (k = !0, i && a.clearTimeout(i), e = void 0, g = h || "", y.readyState =
                            b > 0 ? 4 : 0, j = b >= 200 && b < 300 || 304 === b, d && (v = Mb(o, y,
                                d)), v = Nb(o, v, y, j), j ? (o.ifModified && (w = y
                                    .getResponseHeader("Last-Modified"), w && (r.lastModified[f] =
                                        w), w = y.getResponseHeader("etag"), w && (r.etag[f] = w)),
                                204 === b || "HEAD" === o.type ? x = "nocontent" : 304 === b ? x =
                                "notmodified" : (x = v.state, m = v.data, n = v.error, j = !n)) : (
                                n = x, !b && x || (x = "error", b < 0 && (b = 0))), y.status = b, y
                            .statusText = (c || x) + "", j ? s.resolveWith(p, [m, x, y]) : s
                            .rejectWith(p, [y, x, n]), y.statusCode(u), u = void 0, l && q.trigger(
                                j ? "ajaxSuccess" : "ajaxError", [y, o, j ? m : n]), t.fireWith(p, [
                                y, x
                            ]), l && (q.trigger("ajaxComplete", [y, o]), --r.active || r.event
                                .trigger("ajaxStop")))
                    }
                    return y
                },
                getJSON: function (a, b, c) {
                    return r.get(a, b, c, "json")
                },
                getScript: function (a, b) {
                    return r.get(a, void 0, b, "script")
                }
            }), r.each(["get", "post"], function (a, b) {
                r[b] = function (a, c, d, e) {
                    return r.isFunction(c) && (e = e || d, d = c, c = void 0), r.ajax(r.extend({
                        url: a,
                        type: b,
                        dataType: e,
                        data: c,
                        success: d
                    }, r.isPlainObject(a) && a))
                }
            }), r._evalUrl = function (a) {
                return r.ajax({
                    url: a,
                    type: "GET",
                    dataType: "script",
                    cache: !0,
                    async: !1,
                    global: !1,
                    "throws": !0
                })
            }, r.fn.extend({
                wrapAll: function (a) {
                    var b;
                    return this[0] && (r.isFunction(a) && (a = a.call(this[0])), b = r(a, this[0]
                        .ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(
                        this[0]), b.map(function () {
                        var a = this;
                        while (a.firstElementChild) a = a.firstElementChild;
                        return a
                    }).append(this)), this
                },
                wrapInner: function (a) {
                    return r.isFunction(a) ? this.each(function (b) {
                        r(this).wrapInner(a.call(this, b))
                    }) : this.each(function () {
                        var b = r(this),
                            c = b.contents();
                        c.length ? c.wrapAll(a) : b.append(a)
                    })
                },
                wrap: function (a) {
                    var b = r.isFunction(a);
                    return this.each(function (c) {
                        r(this).wrapAll(b ? a.call(this, c) : a)
                    })
                },
                unwrap: function (a) {
                    return this.parent(a).not("body").each(function () {
                        r(this).replaceWith(this.childNodes)
                    }), this
                }
            }), r.expr.pseudos.hidden = function (a) {
                return !r.expr.pseudos.visible(a)
            }, r.expr.pseudos.visible = function (a) {
                return !!(a.offsetWidth || a.offsetHeight || a.getClientRects().length)
            }, r.ajaxSettings.xhr = function () {
                try {
                    return new a.XMLHttpRequest
                } catch (b) {}
            };
            var Ob = {
                    0: 200,
                    1223: 204
                },
                Pb = r.ajaxSettings.xhr();
            o.cors = !!Pb && "withCredentials" in Pb, o.ajax = Pb = !!Pb, r.ajaxTransport(function (b) {
                var c, d;
                if (o.cors || Pb && !b.crossDomain) return {
                    send: function (e, f) {
                        var g, h = b.xhr();
                        if (h.open(b.type, b.url, b.async, b.username, b.password), b.xhrFields)
                            for (g in b.xhrFields) h[g] = b.xhrFields[g];
                        b.mimeType && h.overrideMimeType && h.overrideMimeType(b.mimeType), b
                            .crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] =
                                "XMLHttpRequest");
                        for (g in e) h.setRequestHeader(g, e[g]);
                        c = function (a) {
                                return function () {
                                    c && (c = d = h.onload = h.onerror = h.onabort = h
                                        .onreadystatechange = null, "abort" === a ? h
                                        .abort() : "error" === a ? "number" != typeof h
                                        .status ? f(0, "error") : f(h.status, h
                                            .statusText) : f(Ob[h.status] || h.status, h
                                            .statusText, "text" !== (h.responseType ||
                                                "text") || "string" != typeof h
                                            .responseText ? {
                                                binary: h.response
                                            } : {
                                                text: h.responseText
                                            }, h.getAllResponseHeaders()))
                                }
                            }, h.onload = c(), d = h.onerror = c("error"), void 0 !== h.onabort ? h
                            .onabort = d : h.onreadystatechange = function () {
                                4 === h.readyState && a.setTimeout(function () {
                                    c && d()
                                })
                            }, c = c("abort");
                        try {
                            h.send(b.hasContent && b.data || null)
                        } catch (i) {
                            if (c) throw i
                        }
                    },
                    abort: function () {
                        c && c()
                    }
                }
            }), r.ajaxPrefilter(function (a) {
                a.crossDomain && (a.contents.script = !1)
            }), r.ajaxSetup({
                accepts: {
                    script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                },
                contents: {
                    script: /\b(?:java|ecma)script\b/
                },
                converters: {
                    "text script": function (a) {
                        return r.globalEval(a), a
                    }
                }
            }), r.ajaxPrefilter("script", function (a) {
                void 0 === a.cache && (a.cache = !1), a.crossDomain && (a.type = "GET")
            }), r.ajaxTransport("script", function (a) {
                if (a.crossDomain) {
                    var b, c;
                    return {
                        send: function (e, f) {
                            b = r("<script>").prop({
                                charset: a.scriptCharset,
                                src: a.url
                            }).on("load error", c = function (a) {
                                b.remove(), c = null, a && f("error" === a.type ? 404 : 200, a
                                    .type)
                            }), d.head.appendChild(b[0])
                        },
                        abort: function () {
                            c && c()
                        }
                    }
                }
            });
            var Qb = [],
                Rb = /(=)\?(?=&|$)|\?\?/;
            r.ajaxSetup({
                jsonp: "callback",
                jsonpCallback: function () {
                    var a = Qb.pop() || r.expando + "_" + rb++;
                    return this[a] = !0, a
                }
            }), r.ajaxPrefilter("json jsonp", function (b, c, d) {
                var e, f, g, h = b.jsonp !== !1 && (Rb.test(b.url) ? "url" : "string" == typeof b.data &&
                    0 === (b.contentType || "").indexOf("application/x-www-form-urlencoded") && Rb.test(
                        b.data) && "data");
                if (h || "jsonp" === b.dataTypes[0]) return e = b.jsonpCallback = r.isFunction(b
                    .jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(
                    Rb, "$1" + e) : b.jsonp !== !1 && (b.url += (sb.test(b.url) ? "&" : "?") + b
                    .jsonp + "=" + e), b.converters["script json"] = function () {
                    return g || r.error(e + " was not called"), g[0]
                }, b.dataTypes[0] = "json", f = a[e], a[e] = function () {
                    g = arguments
                }, d.always(function () {
                    void 0 === f ? r(a).removeProp(e) : a[e] = f, b[e] && (b.jsonpCallback = c
                            .jsonpCallback, Qb.push(e)), g && r.isFunction(f) && f(g[0]), g =
                        f = void 0
                }), "script"
            }), o.createHTMLDocument = function () {
                var a = d.implementation.createHTMLDocument("").body;
                return a.innerHTML = "<form></form><form></form>", 2 === a.childNodes.length
            }(), r.parseHTML = function (a, b, c) {
                if ("string" != typeof a) return [];
                "boolean" == typeof b && (c = b, b = !1);
                var e, f, g;
                return b || (o.createHTMLDocument ? (b = d.implementation.createHTMLDocument(""), e = b
                        .createElement("base"), e.href = d.location.href, b.head.appendChild(e)) : b = d), f = B
                    .exec(a), g = !c && [], f ? [b.createElement(f[1])] : (f = pa([a], b, g), g && g.length &&
                        r(g).remove(), r.merge([], f.childNodes))
            }, r.fn.load = function (a, b, c) {
                var d, e, f, g = this,
                    h = a.indexOf(" ");
                return h > -1 && (d = mb(a.slice(h)), a = a.slice(0, h)), r.isFunction(b) ? (c = b, b =
                    void 0) : b && "object" == typeof b && (e = "POST"), g.length > 0 && r.ajax({
                    url: a,
                    type: e || "GET",
                    dataType: "html",
                    data: b
                }).done(function (a) {
                    f = arguments, g.html(d ? r("<div>").append(r.parseHTML(a)).find(d) : a)
                }).always(c && function (a, b) {
                    g.each(function () {
                        c.apply(this, f || [a.responseText, b, a])
                    })
                }), this
            }, r.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"],
                function (a, b) {
                    r.fn[b] = function (a) {
                        return this.on(b, a)
                    }
                }), r.expr.pseudos.animated = function (a) {
                return r.grep(r.timers, function (b) {
                    return a === b.elem
                }).length
            };

            function Sb(a) {
                return r.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
            }
            r.offset = {
                setOffset: function (a, b, c) {
                    var d, e, f, g, h, i, j, k = r.css(a, "position"),
                        l = r(a),
                        m = {};
                    "static" === k && (a.style.position = "relative"), h = l.offset(), f = r.css(a, "top"),
                        i = r.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf(
                            "auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(
                            f) || 0, e = parseFloat(i) || 0), r.isFunction(b) && (b = b.call(a, c, r
                            .extend({}, h))), null != b.top && (m.top = b.top - h.top + g), null != b
                        .left && (m
                            .left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m)
                }
            }, r.fn.extend({
                offset: function (a) {
                    if (arguments.length) return void 0 === a ? this : this.each(function (b) {
                        r.offset.setOffset(this, a, b)
                    });
                    var b, c, d, e, f = this[0];
                    if (f) return f.getClientRects().length ? (d = f.getBoundingClientRect(), d.width ||
                        d.height ? (e = f.ownerDocument, c = Sb(e), b = e.documentElement, {
                            top: d.top + c.pageYOffset - b.clientTop,
                            left: d.left + c.pageXOffset - b.clientLeft
                        }) : d) : {
                        top: 0,
                        left: 0
                    }
                },
                position: function () {
                    if (this[0]) {
                        var a, b, c = this[0],
                            d = {
                                top: 0,
                                left: 0
                            };
                        return "fixed" === r.css(c, "position") ? b = c.getBoundingClientRect() : (a =
                            this.offsetParent(), b = this.offset(), r.nodeName(a[0], "html") || (d =
                                a.offset()), d = {
                                top: d.top + r.css(a[0], "borderTopWidth", !0),
                                left: d.left + r.css(a[0], "borderLeftWidth", !0)
                            }), {
                            top: b.top - d.top - r.css(c, "marginTop", !0),
                            left: b.left - d.left - r.css(c, "marginLeft", !0)
                        }
                    }
                },
                offsetParent: function () {
                    return this.map(function () {
                        var a = this.offsetParent;
                        while (a && "static" === r.css(a, "position")) a = a.offsetParent;
                        return a || qa
                    })
                }
            }), r.each({
                scrollLeft: "pageXOffset",
                scrollTop: "pageYOffset"
            }, function (a, b) {
                var c = "pageYOffset" === b;
                r.fn[a] = function (d) {
                    return S(this, function (a, d, e) {
                        var f = Sb(a);
                        return void 0 === e ? f ? f[b] : a[d] : void(f ? f.scrollTo(c ? f
                            .pageXOffset : e, c ? e : f.pageYOffset) : a[d] = e)
                    }, a, d, arguments.length)
                }
            }), r.each(["top", "left"], function (a, b) {
                r.cssHooks[b] = Oa(o.pixelPosition, function (a, c) {
                    if (c) return c = Na(a, b), La.test(c) ? r(a).position()[b] + "px" : c
                })
            }), r.each({
                Height: "height",
                Width: "width"
            }, function (a, b) {
                r.each({
                    padding: "inner" + a,
                    content: b,
                    "": "outer" + a
                }, function (c, d) {
                    r.fn[d] = function (e, f) {
                        var g = arguments.length && (c || "boolean" != typeof e),
                            h = c || (e === !0 || f === !0 ? "margin" : "border");
                        return S(this, function (b, c, e) {
                            var f;
                            return r.isWindow(b) ? 0 === d.indexOf("outer") ? b[
                                "inner" + a] : b.document.documentElement["client" +
                                a] : 9 === b.nodeType ? (f = b.documentElement, Math
                                .max(b.body["scroll" + a], f["scroll" + a], b.body[
                                    "offset" + a], f["offset" + a], f["client" +
                                    a])) : void 0 === e ? r.css(b, c, h) : r.style(
                                b, c, e, h)
                        }, b, g ? e : void 0, g)
                    }
                })
            }), r.fn.extend({
                bind: function (a, b, c) {
                    return this.on(a, null, b, c)
                },
                unbind: function (a, b) {
                    return this.off(a, null, b)
                },
                delegate: function (a, b, c, d) {
                    return this.on(b, a, c, d)
                },
                undelegate: function (a, b, c) {
                    return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
                }
            }), r.parseJSON = JSON.parse, "function" == typeof define && define.amd && define("jquery", [],
                function () {
                    return r
                });
            var Tb = a.jQuery,
                Ub = a.$;
            return r.noConflict = function (b) {
                return a.$ === r && (a.$ = Ub), b && a.jQuery === r && (a.jQuery = Tb), r
            }, b || (a.jQuery = a.$ = r), r
        });
    </script>
    <script>
        /*!
         * Cropper v2.3.3
         * https://github.com/fengyuanchen/cropper
         *
         * Copyright (c) 2014-2016 Fengyuan Chen and contributors
         * Released under the MIT license
         *
         * Date: 2016-08-10T08:58:55.176Z
         */
        ! function (t) {
            "function" == typeof define && define.amd ? define(["jquery"], t) : t("object" == typeof exports ? require(
                "jquery") : jQuery)
        }(function (t) {
            "use strict";

            function i(t) {
                return "number" == typeof t && !isNaN(t)
            }

            function e(t) {
                return "undefined" == typeof t
            }

            function s(t, e) {
                var s = [];
                return i(e) && s.push(e), s.slice.apply(t, s)
            }

            function a(t, i) {
                var e = s(arguments, 2);
                return function () {
                    return t.apply(i, e.concat(s(arguments)))
                }
            }

            function o(t) {
                var i = t.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);
                return i && (i[1] !== C.protocol || i[2] !== C.hostname || i[3] !== C.port)
            }

            function h(t) {
                var i = "timestamp=" + (new Date).getTime();
                return t + (t.indexOf("?") === -1 ? "?" : "&") + i
            }

            function n(t) {
                return t ? ' crossOrigin="' + t + '"' : ""
            }

            function r(t, i) {
                var e;
                return t.naturalWidth && !mt ? i(t.naturalWidth, t.naturalHeight) : (e = document.createElement(
                    "img"), e.onload = function () {
                    i(this.width, this.height)
                }, void(e.src = t.src))
            }

            function p(t) {
                var e = [],
                    s = t.rotate,
                    a = t.scaleX,
                    o = t.scaleY;
                return i(s) && 0 !== s && e.push("rotate(" + s + "deg)"), i(a) && 1 !== a && e.push("scaleX(" + a +
                    ")"), i(o) && 1 !== o && e.push("scaleY(" + o + ")"), e.length ? e.join(" ") : "none"
            }

            function c(t, i) {
                var e, s, a = Ct(t.degree) % 180,
                    o = (a > 90 ? 180 - a : a) * Math.PI / 180,
                    h = bt(o),
                    n = Bt(o),
                    r = t.width,
                    p = t.height,
                    c = t.aspectRatio;
                return i ? (e = r / (n + h / c), s = e / c) : (e = r * n + p * h, s = r * h + p * n), {
                    width: e,
                    height: s
                }
            }

            function l(e, s) {
                var a, o, h, n = t("<canvas>")[0],
                    r = n.getContext("2d"),
                    p = 0,
                    l = 0,
                    d = s.naturalWidth,
                    g = s.naturalHeight,
                    u = s.rotate,
                    f = s.scaleX,
                    m = s.scaleY,
                    v = i(f) && i(m) && (1 !== f || 1 !== m),
                    w = i(u) && 0 !== u,
                    x = w || v,
                    C = d * Ct(f || 1),
                    b = g * Ct(m || 1);
                return v && (a = C / 2, o = b / 2), w && (h = c({
                    width: C,
                    height: b,
                    degree: u
                }), C = h.width, b = h.height, a = C / 2, o = b / 2), n.width = C, n.height = b, x && (p = -d /
                    2, l = -g / 2, r.save(), r.translate(a, o)), w && r.rotate(u * Math.PI / 180), v && r.scale(
                    f, m), r.drawImage(e, $t(p), $t(l), $t(d), $t(g)), x && r.restore(), n
            }

            function d(i) {
                var e = i.length,
                    s = 0,
                    a = 0;
                return e && (t.each(i, function (t, i) {
                    s += i.pageX, a += i.pageY
                }), s /= e, a /= e), {
                    pageX: s,
                    pageY: a
                }
            }

            function g(t, i, e) {
                var s, a = "";
                for (s = i, e += i; s < e; s++) a += Lt(t.getUint8(s));
                return a
            }

            function u(t) {
                var i, e, s, a, o, h, n, r, p, c, l = new D(t),
                    d = l.byteLength;
                if (255 === l.getUint8(0) && 216 === l.getUint8(1))
                    for (p = 2; p < d;) {
                        if (255 === l.getUint8(p) && 225 === l.getUint8(p + 1)) {
                            n = p;
                            break
                        }
                        p++
                    }
                if (n && (e = n + 4, s = n + 10, "Exif" === g(l, e, 4) && (h = l.getUint16(s), o = 18761 === h, (
                        o || 19789 === h) && 42 === l.getUint16(s + 2, o) && (a = l.getUint32(s + 4, o),
                        a >= 8 && (r = s + a)))), r)
                    for (d = l.getUint16(r, o), c = 0; c < d; c++)
                        if (p = r + 12 * c + 2, 274 === l.getUint16(p, o)) {
                            p += 8, i = l.getUint16(p, o), mt && l.setUint16(p, 1, o);
                            break
                        } return i
            }

            function f(t) {
                var i, e = t.replace(G, ""),
                    s = atob(e),
                    a = s.length,
                    o = new B(a),
                    h = new y(o);
                for (i = 0; i < a; i++) h[i] = s.charCodeAt(i);
                return o
            }

            function m(t) {
                var i, e = new y(t),
                    s = e.length,
                    a = "";
                for (i = 0; i < s; i++) a += Lt(e[i]);
                return "data:image/jpeg;base64," + $(a)
            }

            function v(i, e) {
                this.$element = t(i), this.options = t.extend({}, v.DEFAULTS, t.isPlainObject(e) && e), this
                    .isLoaded = !1, this.isBuilt = !1, this.isCompleted = !1, this.isRotated = !1, this
                    .isCropped = !1, this.isDisabled = !1, this.isReplaced = !1, this.isLimited = !1, this
                    .wheeling = !1, this.isImg = !1, this.originalUrl = "", this.canvas = null, this.cropBox = null,
                    this.init()
            }
            var w = t(window),
                x = t(document),
                C = window.location,
                b = window.navigator,
                B = window.ArrayBuffer,
                y = window.Uint8Array,
                D = window.DataView,
                $ = window.btoa,
                L = "cropper",
                X = "cropper-modal",
                Y = "cropper-hide",
                T = "cropper-hidden",
                k = "cropper-invisible",
                M = "cropper-move",
                W = "cropper-crop",
                H = "cropper-disabled",
                R = "cropper-bg",
                z = "mousedown touchstart pointerdown MSPointerDown",
                O = "mousemove touchmove pointermove MSPointerMove",
                P = "mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel",
                E = "wheel mousewheel DOMMouseScroll",
                U = "dblclick",
                I = "load." + L,
                F = "error." + L,
                j = "resize." + L,
                A = "build." + L,
                S = "built." + L,
                N = "cropstart." + L,
                _ = "cropmove." + L,
                q = "cropend." + L,
                K = "crop." + L,
                Z = "zoom." + L,
                Q = /^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,
                V = /^data:/,
                G = /^data:([^;]+);base64,/,
                J = /^data:image\/jpeg.*;base64,/,
                tt = "preview",
                it = "action",
                et = "e",
                st = "w",
                at = "s",
                ot = "n",
                ht = "se",
                nt = "sw",
                rt = "ne",
                pt = "nw",
                ct = "all",
                lt = "crop",
                dt = "move",
                gt = "zoom",
                ut = "none",
                ft = t.isFunction(t("<canvas>")[0].getContext),
                mt = b && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(b.userAgent),
                vt = Number,
                wt = Math.min,
                xt = Math.max,
                Ct = Math.abs,
                bt = Math.sin,
                Bt = Math.cos,
                yt = Math.sqrt,
                Dt = Math.round,
                $t = Math.floor,
                Lt = String.fromCharCode;
            v.prototype = {
                    constructor: v,
                    init: function () {
                        var t, i = this.$element;
                        if (i.is("img")) {
                            if (this.isImg = !0, this.originalUrl = t = i.attr("src"), !t) return;
                            t = i.prop("src")
                        } else i.is("canvas") && ft && (t = i[0].toDataURL());
                        this.load(t)
                    },
                    trigger: function (i, e) {
                        var s = t.Event(i, e);
                        return this.$element.trigger(s), s
                    },
                    load: function (i) {
                        var e, s, a = this.options,
                            n = this.$element;
                        if (i && (n.one(A, a.build), !this.trigger(A).isDefaultPrevented())) {
                            if (this.url = i, this.image = {}, !a.checkOrientation || !B) return this.clone();
                            if (e = t.proxy(this.read, this), V.test(i)) return J.test(i) ? e(f(i)) : this
                                .clone();
                            s = new XMLHttpRequest, s.onerror = s.onabort = t.proxy(function () {
                                this.clone()
                            }, this), s.onload = function () {
                                e(this.response)
                            }, a.checkCrossOrigin && o(i) && n.prop("crossOrigin") && (i = h(i)), s.open(
                                "get", i), s.responseType = "arraybuffer", s.send()
                        }
                    },
                    read: function (t) {
                        var i = this.options,
                            e = u(t),
                            s = this.image,
                            a = 0,
                            o = 1,
                            h = 1;
                        if (e > 1) switch (this.url = m(t), e) {
                            case 2:
                                o = -1;
                                break;
                            case 3:
                                a = -180;
                                break;
                            case 4:
                                h = -1;
                                break;
                            case 5:
                                a = 90, h = -1;
                                break;
                            case 6:
                                a = 90;
                                break;
                            case 7:
                                a = 90, o = -1;
                                break;
                            case 8:
                                a = -90
                        }
                        i.rotatable && (s.rotate = a), i.scalable && (s.scaleX = o, s.scaleY = h), this.clone()
                    },
                    clone: function () {
                        var i, e, s = this.options,
                            a = this.$element,
                            r = this.url,
                            p = "";
                        s.checkCrossOrigin && o(r) && (p = a.prop("crossOrigin"), p ? i = r : (p = "anonymous",
                                i = h(r))), this.crossOrigin = p, this.crossOriginUrl = i, this.$clone = e = t(
                                "<img" + n(p) + ' src="' + (i || r) + '">'), this.isImg ? a[0].complete ? this
                            .start() : a.one(I, t.proxy(this.start, this)) : e.one(I, t.proxy(this.start, this))
                            .one(F, t.proxy(this.stop, this)).addClass(Y).insertAfter(a)
                    },
                    start: function () {
                        var i = this.$element,
                            e = this.$clone;
                        this.isImg || (e.off(F, this.stop), i = e), r(i[0], t.proxy(function (i, e) {
                            t.extend(this.image, {
                                naturalWidth: i,
                                naturalHeight: e,
                                aspectRatio: i / e
                            }), this.isLoaded = !0, this.build()
                        }, this))
                    },
                    stop: function () {
                        this.$clone.remove(), this.$clone = null
                    },
                    build: function () {
                        var i, e, s, a = this.options,
                            o = this.$element,
                            h = this.$clone;
                        this.isLoaded && (this.isBuilt && this.unbuild(), this.$container = o.parent(), this
                            .$cropper = i = t(v.TEMPLATE), this.$canvas = i.find(".cropper-canvas").append(
                                h), this.$dragBox = i.find(".cropper-drag-box"), this.$cropBox = e = i.find(
                                ".cropper-crop-box"), this.$viewBox = i.find(".cropper-view-box"), this
                            .$face = s = e.find(".cropper-face"), o.addClass(T).after(i), this.isImg || h
                            .removeClass(Y), this.initPreview(), this.bind(), a.aspectRatio = xt(0, a
                                .aspectRatio) || NaN, a.viewMode = xt(0, wt(3, Dt(a.viewMode))) || 0, a
                            .autoCrop ? (this.isCropped = !0, a.modal && this.$dragBox.addClass(X)) : e
                            .addClass(T), a.guides || e.find(".cropper-dashed").addClass(T), a.center || e
                            .find(".cropper-center").addClass(T), a.cropBoxMovable && s.addClass(M).data(it,
                                ct), a.highlight || s.addClass(k), a.background && i.addClass(R), a
                            .cropBoxResizable || e.find(".cropper-line, .cropper-point").addClass(T), this
                            .setDragMode(a.dragMode), this.render(), this.isBuilt = !0, this.setData(a
                                .data), o.one(S, a.built), setTimeout(t.proxy(function () {
                                this.trigger(S), this.trigger(K, this.getData()), this
                                    .isCompleted = !0
                            }, this), 0))
                    },
                    unbuild: function () {
                        this.isBuilt && (this.isBuilt = !1, this.isCompleted = !1, this.initialImage = null,
                            this.initialCanvas = null, this.initialCropBox = null, this.container = null,
                            this.canvas = null, this.cropBox = null, this.unbind(), this.resetPreview(),
                            this.$preview = null, this.$viewBox = null, this.$cropBox = null, this
                            .$dragBox = null, this.$canvas = null, this.$container = null, this.$cropper
                            .remove(), this.$cropper = null)
                    },
                    render: function () {
                        this.initContainer(), this.initCanvas(), this.initCropBox(), this.renderCanvas(), this
                            .isCropped && this.renderCropBox()
                    },
                    initContainer: function () {
                        var t = this.options,
                            i = this.$element,
                            e = this.$container,
                            s = this.$cropper;
                        s.addClass(T), i.removeClass(T), s.css(this.container = {
                            width: xt(e.width(), vt(t.minContainerWidth) || 200),
                            height: xt(e.height(), vt(t.minContainerHeight) || 100)
                        }), i.addClass(T), s.removeClass(T)
                    },
                    initCanvas: function () {
                        var i, e = this.options.viewMode,
                            s = this.container,
                            a = s.width,
                            o = s.height,
                            h = this.image,
                            n = h.naturalWidth,
                            r = h.naturalHeight,
                            p = 90 === Ct(h.rotate),
                            c = p ? r : n,
                            l = p ? n : r,
                            d = c / l,
                            g = a,
                            u = o;
                        o * d > a ? 3 === e ? g = o * d : u = a / d : 3 === e ? u = a / d : g = o * d, i = {
                                naturalWidth: c,
                                naturalHeight: l,
                                aspectRatio: d,
                                width: g,
                                height: u
                            }, i.oldLeft = i.left = (a - g) / 2, i.oldTop = i.top = (o - u) / 2, this.canvas =
                            i, this.isLimited = 1 === e || 2 === e, this.limitCanvas(!0, !0), this
                            .initialImage = t.extend({}, h), this.initialCanvas = t.extend({}, i)
                    },
                    limitCanvas: function (t, i) {
                        var e, s, a, o, h = this.options,
                            n = h.viewMode,
                            r = this.container,
                            p = r.width,
                            c = r.height,
                            l = this.canvas,
                            d = l.aspectRatio,
                            g = this.cropBox,
                            u = this.isCropped && g;
                        t && (e = vt(h.minCanvasWidth) || 0, s = vt(h.minCanvasHeight) || 0, n && (n > 1 ? (e =
                                    xt(e, p), s = xt(s, c), 3 === n && (s * d > e ? e = s * d : s = e / d)
                                ) : e ? e = xt(e, u ? g.width : 0) : s ? s = xt(s, u ? g.height : 0) :
                                u && (e = g.width, s = g.height, s * d > e ? e = s * d : s = e / d)), e &&
                            s ? s * d > e ? s = e / d : e = s * d : e ? s = e / d : s && (e = s * d), l
                            .minWidth = e, l.minHeight = s, l.maxWidth = 1 / 0, l.maxHeight = 1 / 0), i && (
                            n ? (a = p - l.width, o = c - l.height, l.minLeft = wt(0, a), l.minTop = wt(0,
                                o), l.maxLeft = xt(0, a), l.maxTop = xt(0, o), u && this.isLimited && (l
                                .minLeft = wt(g.left, g.left + g.width - l.width), l.minTop = wt(g.top,
                                    g.top + g.height - l.height), l.maxLeft = g.left, l.maxTop = g.top,
                                2 === n && (l.width >= p && (l.minLeft = wt(0, a), l.maxLeft = xt(0,
                                        a)), l.height >= c && (l.minTop = wt(0, o), l.maxTop = xt(0,
                                    o))))) : (l
                                .minLeft = -l.width, l.minTop = -l.height, l.maxLeft = p, l.maxTop = c))
                    },
                    renderCanvas: function (t) {
                        var i, e, s = this.canvas,
                            a = this.image,
                            o = a.rotate,
                            h = a.naturalWidth,
                            n = a.naturalHeight;
                        this.isRotated && (this.isRotated = !1, e = c({
                                width: a.width,
                                height: a.height,
                                degree: o
                            }), i = e.width / e.height, i !== s.aspectRatio && (s.left -= (e.width - s
                                    .width) / 2, s.top -= (e.height - s.height) / 2, s.width = e.width, s
                                .height = e.height, s.aspectRatio = i, s.naturalWidth = h, s.naturalHeight =
                                n, o % 180 && (e = c({
                                    width: h,
                                    height: n,
                                    degree: o
                                }), s.naturalWidth = e.width, s.naturalHeight = e.height), this.limitCanvas(
                                    !0, !1))), (s.width > s.maxWidth || s.width < s.minWidth) && (s.left = s
                                .oldLeft), (s.height > s.maxHeight || s.height < s.minHeight) && (s.top = s
                                .oldTop), s.width = wt(xt(s.width, s.minWidth), s.maxWidth), s.height = wt(xt(s
                                .height, s.minHeight), s.maxHeight), this.limitCanvas(!1, !0), s.oldLeft = s
                            .left = wt(xt(s.left, s.minLeft), s.maxLeft), s.oldTop = s.top = wt(xt(s.top, s
                                .minTop), s.maxTop), this.$canvas.css({
                                width: s.width,
                                height: s.height,
                                left: s.left,
                                top: s.top
                            }), this.renderImage(), this.isCropped && this.isLimited && this.limitCropBox(!0, !
                                0), t && this.output()
                    },
                    renderImage: function (i) {
                        var e, s = this.canvas,
                            a = this.image;
                        a.rotate && (e = c({
                            width: s.width,
                            height: s.height,
                            degree: a.rotate,
                            aspectRatio: a.aspectRatio
                        }, !0)), t.extend(a, e ? {
                            width: e.width,
                            height: e.height,
                            left: (s.width - e.width) / 2,
                            top: (s.height - e.height) / 2
                        } : {
                            width: s.width,
                            height: s.height,
                            left: 0,
                            top: 0
                        }), this.$clone.css({
                            width: a.width,
                            height: a.height,
                            marginLeft: a.left,
                            marginTop: a.top,
                            transform: p(a)
                        }), i && this.output()
                    },
                    initCropBox: function () {
                        var i = this.options,
                            e = this.canvas,
                            s = i.aspectRatio,
                            a = vt(i.autoCropArea) || .8,
                            o = {
                                width: e.width,
                                height: e.height
                            };
                        s && (e.height * s > e.width ? o.height = o.width / s : o.width = o.height * s), this
                            .cropBox = o, this.limitCropBox(!0, !0), o.width = wt(xt(o.width, o.minWidth), o
                                .maxWidth), o.height = wt(xt(o.height, o.minHeight), o.maxHeight), o.width = xt(
                                o.minWidth, o.width * a), o.height = xt(o.minHeight, o.height * a), o.oldLeft =
                            o.left = e.left + (e.width - o.width) / 2, o.oldTop = o.top = e.top + (e.height - o
                                .height) / 2, this.initialCropBox = t.extend({}, o)
                    },
                    limitCropBox: function (t, i) {
                        var e, s, a, o, h = this.options,
                            n = h.aspectRatio,
                            r = this.container,
                            p = r.width,
                            c = r.height,
                            l = this.canvas,
                            d = this.cropBox,
                            g = this.isLimited;
                        t && (e = vt(h.minCropBoxWidth) || 0, s = vt(h.minCropBoxHeight) || 0, e = wt(e, p), s =
                            wt(s, c), a = wt(p, g ? l.width : p), o = wt(c, g ? l.height : c), n && (e &&
                                s ? s * n > e ? s = e / n : e = s * n : e ? s = e / n : s && (e = s * n),
                                o * n > a ? o = a / n : a = o * n), d.minWidth = wt(e, a), d.minHeight = wt(
                                s, o), d.maxWidth = a, d.maxHeight = o), i && (g ? (d.minLeft = xt(0, l
                                .left), d.minTop = xt(0, l.top), d.maxLeft = wt(p, l.left + l.width) - d
                            .width, d.maxTop = wt(c, l.top + l.height) - d.height) : (d.minLeft = 0, d
                            .minTop = 0, d.maxLeft = p - d.width, d.maxTop = c - d.height))
                    },
                    renderCropBox: function () {
                        var t = this.options,
                            i = this.container,
                            e = i.width,
                            s = i.height,
                            a = this.cropBox;
                        (a.width > a.maxWidth || a.width < a.minWidth) && (a.left = a.oldLeft), (a.height > a
                            .maxHeight || a.height < a.minHeight) && (a.top = a.oldTop), a.width = wt(xt(a
                                .width, a.minWidth), a.maxWidth), a.height = wt(xt(a.height, a.minHeight), a
                                .maxHeight), this.limitCropBox(!1, !0), a.oldLeft = a.left = wt(xt(a.left, a
                                .minLeft), a.maxLeft), a.oldTop = a.top = wt(xt(a.top, a.minTop), a.maxTop), t
                            .movable && t.cropBoxMovable && this.$face.data(it, a.width === e && a.height ===
                                s ? dt : ct), this.$cropBox.css({
                                width: a.width,
                                height: a.height,
                                left: a.left,
                                top: a.top
                            }), this.isCropped && this.isLimited && this.limitCanvas(!0, !0), this.isDisabled ||
                            this.output()
                    },
                    output: function () {
                        this.preview(), this.isCompleted && this.trigger(K, this.getData())
                    },
                    initPreview: function () {
                        var i, e = n(this.crossOrigin),
                            s = e ? this.crossOriginUrl : this.url;
                        this.$preview = t(this.options.preview), this.$clone2 = i = t("<img" + e + ' src="' +
                            s + '">'), this.$viewBox.html(i), this.$preview.each(function () {
                            var i = t(this);
                            i.data(tt, {
                                width: i.width(),
                                height: i.height(),
                                html: i.html()
                            }), i.html("<img" + e + ' src="' + s +
                                '" style="display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;">'
                            )
                        })
                    },
                    resetPreview: function () {
                        this.$preview.each(function () {
                            var i = t(this),
                                e = i.data(tt);
                            i.css({
                                width: e.width,
                                height: e.height
                            }).html(e.html).removeData(tt)
                        })
                    },
                    preview: function () {
                        var i = this.image,
                            e = this.canvas,
                            s = this.cropBox,
                            a = s.width,
                            o = s.height,
                            h = i.width,
                            n = i.height,
                            r = s.left - e.left - i.left,
                            c = s.top - e.top - i.top;
                        this.isCropped && !this.isDisabled && (this.$clone2.css({
                            width: h,
                            height: n,
                            marginLeft: -r,
                            marginTop: -c,
                            transform: p(i)
                        }), this.$preview.each(function () {
                            var e = t(this),
                                s = e.data(tt),
                                l = s.width,
                                d = s.height,
                                g = l,
                                u = d,
                                f = 1;
                            a && (f = l / a, u = o * f), o && u > d && (f = d / o, g = a * f, u =
                                d), e.css({
                                width: g,
                                height: u
                            }).find("img").css({
                                width: h * f,
                                height: n * f,
                                marginLeft: -r * f,
                                marginTop: -c * f,
                                transform: p(i)
                            })
                        }))
                    },
                    bind: function () {
                        var i = this.options,
                            e = this.$element,
                            s = this.$cropper;
                        t.isFunction(i.cropstart) && e.on(N, i.cropstart), t.isFunction(i.cropmove) && e.on(_, i
                            .cropmove), t.isFunction(i.cropend) && e.on(q, i.cropend), t.isFunction(i
                            .crop) && e.on(K, i.crop), t.isFunction(i.zoom) && e.on(Z, i.zoom), s.on(z, t
                            .proxy(
                                this.cropStart, this)), i.zoomable && i.zoomOnWheel && s.on(E, t.proxy(this
                            .wheel, this)), i.toggleDragModeOnDblclick && s.on(U, t.proxy(this.dblclick,
                            this)), x.on(O, this._cropMove = a(this.cropMove, this)).on(P, this._cropEnd =
                            a(this.cropEnd, this)), i.responsive && w.on(j, this._resize = a(this.resize,
                            this))
                    },
                    unbind: function () {
                        var i = this.options,
                            e = this.$element,
                            s = this.$cropper;
                        t.isFunction(i.cropstart) && e.off(N, i.cropstart), t.isFunction(i.cropmove) && e.off(_,
                                i.cropmove), t.isFunction(i.cropend) && e.off(q, i.cropend), t.isFunction(i
                                .crop) && e.off(K, i.crop), t.isFunction(i.zoom) && e.off(Z, i.zoom), s.off(z,
                                this.cropStart), i.zoomable && i.zoomOnWheel && s.off(E, this.wheel), i
                            .toggleDragModeOnDblclick && s.off(U, this.dblclick), x.off(O, this._cropMove).off(
                                P, this._cropEnd), i.responsive && w.off(j, this._resize)
                    },
                    resize: function () {
                        var i, e, s, a = this.options.restore,
                            o = this.$container,
                            h = this.container;
                        !this.isDisabled && h && (s = o.width() / h.width, 1 === s && o.height() === h.height ||
                            (a && (i = this.getCanvasData(), e = this.getCropBoxData()), this.render(), a &&
                                (this.setCanvasData(t.each(i, function (t, e) {
                                    i[t] = e * s
                                })), this.setCropBoxData(t.each(e, function (t, i) {
                                    e[t] = i * s
                                })))))
                    },
                    dblclick: function () {
                        this.isDisabled || (this.$dragBox.hasClass(W) ? this.setDragMode(dt) : this.setDragMode(
                            lt))
                    },
                    wheel: function (i) {
                        var e = i.originalEvent || i,
                            s = vt(this.options.wheelZoomRatio) || .1,
                            a = 1;
                        this.isDisabled || (i.preventDefault(), this.wheeling || (this.wheeling = !0,
                            setTimeout(t.proxy(function () {
                                this.wheeling = !1
                            }, this), 50), e.deltaY ? a = e.deltaY > 0 ? 1 : -1 : e.wheelDelta ? a = -e
                            .wheelDelta / 120 : e.detail && (a = e.detail > 0 ? 1 : -1), this.zoom(-a *
                                s, i)))
                    },
                    cropStart: function (i) {
                        var e, s, a = this.options,
                            o = i.originalEvent,
                            h = o && o.touches,
                            n = i;
                        if (!this.isDisabled) {
                            if (h) {
                                if (e = h.length, e > 1) {
                                    if (!a.zoomable || !a.zoomOnTouch || 2 !== e) return;
                                    n = h[1], this.startX2 = n.pageX, this.startY2 = n.pageY, s = gt
                                }
                                n = h[0]
                            }
                            if (s = s || t(n.target).data(it), Q.test(s)) {
                                if (this.trigger(N, {
                                        originalEvent: o,
                                        action: s
                                    }).isDefaultPrevented()) return;
                                i.preventDefault(), this.action = s, this.cropping = !1, this.startX = n
                                    .pageX || o && o.pageX, this.startY = n.pageY || o && o.pageY, s === lt && (
                                        this.cropping = !0, this.$dragBox.addClass(X))
                            }
                        }
                    },
                    cropMove: function (t) {
                        var i, e = this.options,
                            s = t.originalEvent,
                            a = s && s.touches,
                            o = t,
                            h = this.action;
                        if (!this.isDisabled) {
                            if (a) {
                                if (i = a.length, i > 1) {
                                    if (!e.zoomable || !e.zoomOnTouch || 2 !== i) return;
                                    o = a[1], this.endX2 = o.pageX, this.endY2 = o.pageY
                                }
                                o = a[0]
                            }
                            if (h) {
                                if (this.trigger(_, {
                                        originalEvent: s,
                                        action: h
                                    }).isDefaultPrevented()) return;
                                t.preventDefault(), this.endX = o.pageX || s && s.pageX, this.endY = o.pageY ||
                                    s && s.pageY, this.change(o.shiftKey, h === gt ? t : null)
                            }
                        }
                    },
                    cropEnd: function (t) {
                        var i = t.originalEvent,
                            e = this.action;
                        this.isDisabled || e && (t.preventDefault(), this.cropping && (this.cropping = !1, this
                                .$dragBox.toggleClass(X, this.isCropped && this.options.modal)), this
                            .action = "", this.trigger(q, {
                                originalEvent: i,
                                action: e
                            }))
                    },
                    change: function (t, i) {
                        var e, s, a = this.options,
                            o = a.aspectRatio,
                            h = this.action,
                            n = this.container,
                            r = this.canvas,
                            p = this.cropBox,
                            c = p.width,
                            l = p.height,
                            d = p.left,
                            g = p.top,
                            u = d + c,
                            f = g + l,
                            m = 0,
                            v = 0,
                            w = n.width,
                            x = n.height,
                            C = !0;
                        switch (!o && t && (o = c && l ? c / l : 1), this.isLimited && (m = p.minLeft, v = p
                            .minTop, w = m + wt(n.width, r.left + r.width), x = v + wt(n.height, r.top + r
                                .height)), s = {
                            x: this.endX - this.startX,
                            y: this.endY - this.startY
                        }, o && (s.X = s.y * o, s.Y = s.x / o), h) {
                            case ct:
                                d += s.x, g += s.y;
                                break;
                            case et:
                                if (s.x >= 0 && (u >= w || o && (g <= v || f >= x))) {
                                    C = !1;
                                    break
                                }
                                c += s.x, o && (l = c / o, g -= s.Y / 2), c < 0 && (h = st, c = 0);
                                break;
                            case ot:
                                if (s.y <= 0 && (g <= v || o && (d <= m || u >= w))) {
                                    C = !1;
                                    break
                                }
                                l -= s.y, g += s.y, o && (c = l * o, d += s.X / 2), l < 0 && (h = at, l = 0);
                                break;
                            case st:
                                if (s.x <= 0 && (d <= m || o && (g <= v || f >= x))) {
                                    C = !1;
                                    break
                                }
                                c -= s.x, d += s.x, o && (l = c / o, g += s.Y / 2), c < 0 && (h = et, c = 0);
                                break;
                            case at:
                                if (s.y >= 0 && (f >= x || o && (d <= m || u >= w))) {
                                    C = !1;
                                    break
                                }
                                l += s.y, o && (c = l * o, d -= s.X / 2), l < 0 && (h = ot, l = 0);
                                break;
                            case rt:
                                if (o) {
                                    if (s.y <= 0 && (g <= v || u >= w)) {
                                        C = !1;
                                        break
                                    }
                                    l -= s.y, g += s.y, c = l * o
                                } else s.x >= 0 ? u < w ? c += s.x : s.y <= 0 && g <= v && (C = !1) : c += s.x,
                                    s.y <= 0 ? g > v && (l -= s.y, g += s.y) : (l -= s.y, g += s.y);
                                c < 0 && l < 0 ? (h = nt, l = 0, c = 0) : c < 0 ? (h = pt, c = 0) : l < 0 && (
                                    h = ht, l = 0);
                                break;
                            case pt:
                                if (o) {
                                    if (s.y <= 0 && (g <= v || d <= m)) {
                                        C = !1;
                                        break
                                    }
                                    l -= s.y, g += s.y, c = l * o, d += s.X
                                } else s.x <= 0 ? d > m ? (c -= s.x, d += s.x) : s.y <= 0 && g <= v && (C = !
                                    1) : (c -= s.x, d += s.x), s.y <= 0 ? g > v && (l -= s.y, g += s.y) : (
                                    l -=
                                    s.y, g += s.y);
                                c < 0 && l < 0 ? (h = ht, l = 0, c = 0) : c < 0 ? (h = rt, c = 0) : l < 0 && (
                                    h = nt, l = 0);
                                break;
                            case nt:
                                if (o) {
                                    if (s.x <= 0 && (d <= m || f >= x)) {
                                        C = !1;
                                        break
                                    }
                                    c -= s.x, d += s.x, l = c / o
                                } else s.x <= 0 ? d > m ? (c -= s.x, d += s.x) : s.y >= 0 && f >= x && (C = !
                                    1) : (c -= s.x, d += s.x), s.y >= 0 ? f < x && (l += s.y) : l += s.y;
                                c < 0 && l < 0 ? (h = rt, l = 0, c = 0) : c < 0 ? (h = ht, c = 0) : l < 0 && (
                                    h = pt, l = 0);
                                break;
                            case ht:
                                if (o) {
                                    if (s.x >= 0 && (u >= w || f >= x)) {
                                        C = !1;
                                        break
                                    }
                                    c += s.x, l = c / o
                                } else s.x >= 0 ? u < w ? c += s.x : s.y >= 0 && f >= x && (C = !1) : c += s.x,
                                    s.y >= 0 ? f < x && (l += s.y) : l += s.y;
                                c < 0 && l < 0 ? (h = pt, l = 0, c = 0) : c < 0 ? (h = nt, c = 0) : l < 0 && (
                                    h = rt, l = 0);
                                break;
                            case dt:
                                this.move(s.x, s.y), C = !1;
                                break;
                            case gt:
                                this.zoom(function (t, i, e, s) {
                                        var a = yt(t * t + i * i),
                                            o = yt(e * e + s * s);
                                        return (o - a) / a
                                    }(Ct(this.startX - this.startX2), Ct(this.startY - this.startY2), Ct(
                                        this.endX - this.endX2), Ct(this.endY - this.endY2)), i), this.startX2 =
                                    this.endX2, this.startY2 = this.endY2, C = !1;
                                break;
                            case lt:
                                if (!s.x || !s.y) {
                                    C = !1;
                                    break
                                }
                                e = this.$cropper.offset(), d = this.startX - e.left, g = this.startY - e.top,
                                    c = p.minWidth, l = p.minHeight, s.x > 0 ? h = s.y > 0 ? ht : rt : s.x <
                                    0 && (d -= c, h = s.y > 0 ? nt : pt), s.y < 0 && (g -= l), this.isCropped ||
                                    (this.$cropBox.removeClass(T), this.isCropped = !0, this.isLimited && this
                                        .limitCropBox(!0, !0))
                        }
                        C && (p.width = c, p.height = l, p.left = d, p.top = g, this.action = h, this
                            .renderCropBox()), this.startX = this.endX, this.startY = this.endY
                    },
                    crop: function () {
                        this.isBuilt && !this.isDisabled && (this.isCropped || (this.isCropped = !0, this
                            .limitCropBox(!0, !0), this.options.modal && this.$dragBox.addClass(X), this
                            .$cropBox.removeClass(T)), this.setCropBoxData(this.initialCropBox))
                    },
                    reset: function () {
                        this.isBuilt && !this.isDisabled && (this.image = t.extend({}, this.initialImage), this
                            .canvas = t.extend({}, this.initialCanvas), this.cropBox = t.extend({}, this
                                .initialCropBox), this.renderCanvas(), this.isCropped && this
                            .renderCropBox())
                    },
                    clear: function () {
                        this.isCropped && !this.isDisabled && (t.extend(this.cropBox, {
                                left: 0,
                                top: 0,
                                width: 0,
                                height: 0
                            }), this.isCropped = !1, this.renderCropBox(), this.limitCanvas(!0, !0), this
                            .renderCanvas(), this.$dragBox.removeClass(X), this.$cropBox.addClass(T))
                    },
                    replace: function (t, i) {
                        !this.isDisabled && t && (this.isImg && this.$element.attr("src", t), i ? (this.url = t,
                            this.$clone.attr("src", t), this.isBuilt && this.$preview.find("img").add(
                                this.$clone2).attr("src", t)) : (this.isImg && (this.isReplaced = !0),
                            this.options.data = null, this.load(t)))
                    },
                    enable: function () {
                        this.isBuilt && (this.isDisabled = !1, this.$cropper.removeClass(H))
                    },
                    disable: function () {
                        this.isBuilt && (this.isDisabled = !0, this.$cropper.addClass(H))
                    },
                    destroy: function () {
                        var t = this.$element;
                        this.isLoaded ? (this.isImg && this.isReplaced && t.attr("src", this.originalUrl), this
                                .unbuild(), t.removeClass(T)) : this.isImg ? t.off(I, this.start) : this
                            .$clone && this.$clone.remove(), t.removeData(L)
                    },
                    move: function (t, i) {
                        var s = this.canvas;
                        this.moveTo(e(t) ? t : s.left + vt(t), e(i) ? i : s.top + vt(i))
                    },
                    moveTo: function (t, s) {
                        var a = this.canvas,
                            o = !1;
                        e(s) && (s = t), t = vt(t), s = vt(s), this.isBuilt && !this.isDisabled && this.options
                            .movable && (i(t) && (a.left = t, o = !0), i(s) && (a.top = s, o = !0), o && this
                                .renderCanvas(!0))
                    },
                    zoom: function (t, i) {
                        var e = this.canvas;
                        t = vt(t), t = t < 0 ? 1 / (1 - t) : 1 + t, this.zoomTo(e.width * t / e.naturalWidth, i)
                    },
                    zoomTo: function (t, i) {
                        var e, s, a, o, h, n = this.options,
                            r = this.canvas,
                            p = r.width,
                            c = r.height,
                            l = r.naturalWidth,
                            g = r.naturalHeight;
                        if (t = vt(t), t >= 0 && this.isBuilt && !this.isDisabled && n.zoomable) {
                            if (s = l * t, a = g * t, i && (e = i.originalEvent), this.trigger(Z, {
                                    originalEvent: e,
                                    oldRatio: p / l,
                                    ratio: s / l
                                }).isDefaultPrevented()) return;
                            e ? (o = this.$cropper.offset(), h = e.touches ? d(e.touches) : {
                                    pageX: i.pageX || e.pageX || 0,
                                    pageY: i.pageY || e.pageY || 0
                                }, r.left -= (s - p) * ((h.pageX - o.left - r.left) / p), r.top -= (a - c) *
                                ((h.pageY - o.top - r.top) / c)) : (r.left -= (s - p) / 2, r.top -= (a -
                                c) / 2), r.width = s, r.height = a, this.renderCanvas(!0)
                        }
                    },
                    rotate: function (t) {
                        this.rotateTo((this.image.rotate || 0) + vt(t))
                    },
                    rotateTo: function (t) {
                        t = vt(t), i(t) && this.isBuilt && !this.isDisabled && this.options.rotatable && (this
                            .image.rotate = t % 360, this.isRotated = !0, this.renderCanvas(!0))
                    },
                    scale: function (t, s) {
                        var a = this.image,
                            o = !1;
                        e(s) && (s = t), t = vt(t), s = vt(s), this.isBuilt && !this.isDisabled && this.options
                            .scalable && (i(t) && (a.scaleX = t, o = !0), i(s) && (a.scaleY = s, o = !0), o &&
                                this.renderImage(!0))
                    },
                    scaleX: function (t) {
                        var e = this.image.scaleY;
                        this.scale(t, i(e) ? e : 1)
                    },
                    scaleY: function (t) {
                        var e = this.image.scaleX;
                        this.scale(i(e) ? e : 1, t)
                    },
                    getData: function (i) {
                        var e, s, a = this.options,
                            o = this.image,
                            h = this.canvas,
                            n = this.cropBox;
                        return this.isBuilt && this.isCropped ? (s = {
                            x: n.left - h.left,
                            y: n.top - h.top,
                            width: n.width,
                            height: n.height
                        }, e = o.width / o.naturalWidth, t.each(s, function (t, a) {
                            a /= e, s[t] = i ? Dt(a) : a
                        })) : s = {
                            x: 0,
                            y: 0,
                            width: 0,
                            height: 0
                        }, a.rotatable && (s.rotate = o.rotate || 0), a.scalable && (s.scaleX = o.scaleX ||
                            1, s.scaleY = o.scaleY || 1), s
                    },
                    setData: function (e) {
                        var s, a, o, h = this.options,
                            n = this.image,
                            r = this.canvas,
                            p = {};
                        t.isFunction(e) && (e = e.call(this.element)), this.isBuilt && !this.isDisabled && t
                            .isPlainObject(e) && (h.rotatable && i(e.rotate) && e.rotate !== n.rotate && (n
                                    .rotate = e.rotate, this.isRotated = s = !0), h.scalable && (i(e.scaleX) &&
                                    e.scaleX !== n.scaleX && (n.scaleX = e.scaleX, a = !0), i(e.scaleY) && e
                                    .scaleY !== n.scaleY && (n.scaleY = e.scaleY, a = !0)), s ? this
                                .renderCanvas() : a && this.renderImage(), o = n.width / n.naturalWidth, i(e
                                    .x) && (p.left = e.x * o + r.left), i(e.y) && (p.top = e.y * o + r.top), i(e
                                    .width) && (p.width = e.width * o), i(e.height) && (p.height = e.height *
                                    o), this.setCropBoxData(p))
                    },
                    getContainerData: function () {
                        return this.isBuilt ? this.container : {}
                    },
                    getImageData: function () {
                        return this.isLoaded ? this.image : {}
                    },
                    getCanvasData: function () {
                        var i = this.canvas,
                            e = {};
                        return this.isBuilt && t.each(["left", "top", "width", "height", "naturalWidth",
                            "naturalHeight"
                        ], function (t, s) {
                            e[s] = i[s]
                        }), e
                    },
                    setCanvasData: function (e) {
                        var s = this.canvas,
                            a = s.aspectRatio;
                        t.isFunction(e) && (e = e.call(this.$element)), this.isBuilt && !this.isDisabled && t
                            .isPlainObject(e) && (i(e.left) && (s.left = e.left), i(e.top) && (s.top = e.top),
                                i(e.width) ? (s.width = e.width, s.height = e.width / a) : i(e.height) && (s
                                    .height = e.height, s.width = e.height * a), this.renderCanvas(!0))
                    },
                    getCropBoxData: function () {
                        var t, i = this.cropBox;
                        return this.isBuilt && this.isCropped && (t = {
                            left: i.left,
                            top: i.top,
                            width: i.width,
                            height: i.height
                        }), t || {}
                    },
                    setCropBoxData: function (e) {
                        var s, a, o = this.cropBox,
                            h = this.options.aspectRatio;
                        t.isFunction(e) && (e = e.call(this.$element)), this.isBuilt && this.isCropped && !this
                            .isDisabled && t.isPlainObject(e) && (i(e.left) && (o.left = e.left), i(e.top) && (o
                                .top = e.top), i(e.width) && (s = !0, o.width = e.width), i(e.height) && (
                                a = !0, o.height = e.height), h && (s ? o.height = o.width / h : a && (o
                                .width = o.height * h)), this.renderCropBox())
                    },
                    getCroppedCanvas: function (i) {
                        var e, s, a, o, h, n, r, p, c, d, g;
                        if (this.isBuilt && ft) return this.isCropped ? (t.isPlainObject(i) || (i = {}), g =
                            this.getData(), e = g.width, s = g.height, p = e / s, t.isPlainObject(i) &&
                            (h = i.width, n = i.height, h ? (n = h / p, r = h / e) : n && (h = n * p,
                                r = n / s)), a = $t(h || e), o = $t(n || s), c = t("<canvas>")[0], c
                            .width = a, c.height = o, d = c.getContext("2d"), i.fillColor && (d
                                .fillStyle = i.fillColor, d.fillRect(0, 0, a, o)), d.drawImage.apply(d,
                                function () {
                                    var t, i, a, o, h, n, p = l(this.$clone[0], this.image),
                                        c = p.width,
                                        d = p.height,
                                        u = this.canvas,
                                        f = [p],
                                        m = g.x + u.naturalWidth * (Ct(g.scaleX || 1) - 1) / 2,
                                        v = g.y + u.naturalHeight * (Ct(g.scaleY || 1) - 1) / 2;
                                    return m <= -e || m > c ? m = t = a = h = 0 : m <= 0 ? (a = -m, m =
                                            0, t = h = wt(c, e + m)) : m <= c && (a = 0, t = h = wt(e,
                                            c - m)), t <= 0 || v <= -s || v > d ? v = i = o = n = 0 :
                                        v <= 0 ? (o = -v, v = 0, i = n = wt(d, s + v)) : v <= d && (o =
                                            0, i = n = wt(s, d - v)), f.push($t(m), $t(v), $t(t), $t(
                                            i)), r && (a *= r, o *= r, h *= r, n *= r), h > 0 && n >
                                        0 && f
                                        .push($t(a), $t(o), $t(h), $t(n)), f
                                }.call(this)), c) : l(this.$clone[0], this.image)
                    },
                    setAspectRatio: function (t) {
                        var i = this.options;
                        this.isDisabled || e(t) || (i.aspectRatio = xt(0, t) || NaN, this.isBuilt && (this
                            .initCropBox(), this.isCropped && this.renderCropBox()))
                    },
                    setDragMode: function (t) {
                        var i, e, s = this.options;
                        this.isLoaded && !this.isDisabled && (i = t === lt, e = s.movable && t === dt, t = i ||
                            e ? t : ut, this.$dragBox.data(it, t).toggleClass(W, i).toggleClass(M, e), s
                            .cropBoxMovable || this.$face.data(it, t).toggleClass(W, i).toggleClass(M, e))
                    }
                }, v.DEFAULTS = {
                    viewMode: 0,
                    dragMode: "crop",
                    aspectRatio: NaN,
                    data: null,
                    preview: "",
                    responsive: !0,
                    restore: !0,
                    checkCrossOrigin: !0,
                    checkOrientation: !0,
                    modal: !0,
                    guides: !0,
                    center: !0,
                    highlight: !0,
                    background: !0,
                    autoCrop: !0,
                    autoCropArea: .8,
                    movable: !0,
                    rotatable: !0,
                    scalable: !0,
                    zoomable: !0,
                    zoomOnTouch: !0,
                    zoomOnWheel: !0,
                    wheelZoomRatio: .1,
                    cropBoxMovable: !0,
                    cropBoxResizable: !0,
                    toggleDragModeOnDblclick: !0,
                    minCanvasWidth: 0,
                    minCanvasHeight: 0,
                    minCropBoxWidth: 0,
                    minCropBoxHeight: 0,
                    minContainerWidth: 200,
                    minContainerHeight: 100,
                    build: null,
                    built: null,
                    cropstart: null,
                    cropmove: null,
                    cropend: null,
                    crop: null,
                    zoom: null
                }, v.setDefaults = function (i) {
                    t.extend(v.DEFAULTS, i)
                }, v.TEMPLATE =
                '<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',
                v.other = t.fn.cropper, t.fn.cropper = function (i) {
                    var a, o = s(arguments, 1);
                    return this.each(function () {
                        var e, s, h = t(this),
                            n = h.data(L);
                        if (!n) {
                            if (/destroy/.test(i)) return;
                            e = t.extend({}, h.data(), t.isPlainObject(i) && i), h.data(L, n = new v(this,
                                e))
                        }
                        "string" == typeof i && t.isFunction(s = n[i]) && (a = s.apply(n, o))
                    }), e(a) ? this : a
                }, t.fn.cropper.Constructor = v, t.fn.cropper.setDefaults = v.setDefaults, t.fn.cropper.noConflict =
                function () {
                    return t.fn.cropper = v.other, this
                }
        });
    </script>
    <script>
        var sw = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
        var sh = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        sw = sw - 20;
        sh = sh - 80;
    </script>
    <style>
        /*!
 * Cropper v3.0.0-rc
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2017 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2017-03-25T12:04:34.654Z
 */

        .cropper-container {
            font-size: 0;
            line-height: 0;
            position: relative;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            direction: ltr;
            -ms-touch-action: none;
            touch-action: none
        }

        .cropper-container img {
            display: block;
            min-width: 0 !important;
            max-width: none !important;
            min-height: 0 !important;
            max-height: none !important;
            width: 100%;
            height: 100%;
            image-orientation: 0deg
        }

        .cropper-canvas,
        .cropper-crop-box,
        .cropper-drag-box,
        .cropper-modal,
        .cropper-wrap-box {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0
        }

        .cropper-wrap-box {
            overflow: hidden
        }

        .cropper-drag-box {
            opacity: 0;
            background-color: #fff
        }

        .cropper-modal {
            opacity: .5;
            background-color: #000
        }

        .cropper-view-box {
            display: block;
            overflow: hidden;
            width: 100%;
            height: 100%;
            outline: 1px solid #39f;
            outline-color: rgba(51, 153, 255, .75)
        }

        .cropper-dashed {
            position: absolute;
            display: block;
            opacity: .5;
            border: 0 dashed #eee
        }

        .cropper-dashed.dashed-h {
            top: 33.33333%;
            left: 0;
            width: 100%;
            height: 33.33333%;
            border-top-width: 1px;
            border-bottom-width: 1px
        }

        .cropper-dashed.dashed-v {
            top: 0;
            left: 33.33333%;
            width: 33.33333%;
            height: 100%;
            border-right-width: 1px;
            border-left-width: 1px
        }

        .cropper-center {
            position: absolute;
            top: 50%;
            left: 50%;
            display: block;
            width: 0;
            height: 0;
            opacity: .75
        }

        .cropper-center:after,
        .cropper-center:before {
            position: absolute;
            display: block;
            content: " ";
            background-color: #eee
        }

        .cropper-center:before {
            top: 0;
            left: -3px;
            width: 7px;
            height: 1px
        }

        .cropper-center:after {
            top: -3px;
            left: 0;
            width: 1px;
            height: 7px
        }

        .cropper-face,
        .cropper-line,
        .cropper-point {
            position: absolute;
            display: block;
            width: 100%;
            height: 100%;
            opacity: .1
        }

        .cropper-face {
            top: 0;
            left: 0;
            background-color: #fff
        }

        .cropper-line {
            background-color: #39f
        }

        .cropper-line.line-e {
            top: 0;
            right: -3px;
            width: 5px;
            cursor: e-resize
        }

        .cropper-line.line-n {
            top: -3px;
            left: 0;
            height: 5px;
            cursor: n-resize
        }

        .cropper-line.line-w {
            top: 0;
            left: -3px;
            width: 5px;
            cursor: w-resize
        }

        .cropper-line.line-s {
            bottom: -3px;
            left: 0;
            height: 5px;
            cursor: s-resize
        }

        .cropper-point {
            width: 5px;
            height: 5px;
            opacity: .75;
            background-color: #39f
        }

        .cropper-point.point-e {
            top: 50%;
            right: -3px;
            margin-top: -3px;
            cursor: e-resize
        }

        .cropper-point.point-n {
            top: -3px;
            left: 50%;
            margin-left: -3px;
            cursor: n-resize
        }

        .cropper-point.point-w {
            top: 50%;
            left: -3px;
            margin-top: -3px;
            cursor: w-resize
        }

        .cropper-point.point-s {
            bottom: -3px;
            left: 50%;
            margin-left: -3px;
            cursor: s-resize
        }

        .cropper-point.point-ne {
            top: -3px;
            right: -3px;
            cursor: ne-resize
        }

        .cropper-point.point-nw {
            top: -3px;
            left: -3px;
            cursor: nw-resize
        }

        .cropper-point.point-sw {
            bottom: -3px;
            left: -3px;
            cursor: sw-resize
        }

        .cropper-point.point-se {
            right: -3px;
            bottom: -3px;
            width: 20px;
            height: 20px;
            cursor: se-resize;
            opacity: 1
        }

        @media (min-width:768px) {
            .cropper-point.point-se {
                width: 15px;
                height: 15px
            }
        }

        @media (min-width:992px) {
            .cropper-point.point-se {
                width: 10px;
                height: 10px
            }
        }

        @media (min-width:1200px) {
            .cropper-point.point-se {
                width: 5px;
                height: 5px;
                opacity: .75
            }
        }

        .cropper-point.point-se:before {
            position: absolute;
            right: -50%;
            bottom: -50%;
            display: block;
            width: 200%;
            height: 200%;
            content: " ";
            opacity: 0;
            background-color: #39f
        }

        .cropper-invisible {
            opacity: 0
        }

        .cropper-bg {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")
        }

        .cropper-hide {
            position: absolute;
            display: block;
            width: 0;
            height: 0
        }

        .cropper-hidden {
            display: none !important
        }

        .cropper-move {
            cursor: move
        }

        .cropper-crop {
            cursor: crosshair
        }

        .cropper-disabled .cropper-drag-box,
        .cropper-disabled .cropper-face,
        .cropper-disabled .cropper-line,
        .cropper-disabled .cropper-point {
            cursor: not-allowed
        }

        body {
            touch-action: none
        }

        #selectionFeatures {
            display: none;
        }


        button {
            position: relative;
            display: inline-block;

            background-clip: border-box;
            cursor: pointer;
            border-radius: .25rem;

            text-decoration: none;
            color: rgba(27, 82, 151, 1);
            -webkit-appearance: none;
            white-space: normal;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            height: 30px;
            padding-left: 1rem;
            padding-right: 1rem;
            text-align: center;
            vertical-align: middle;
            border: 1px solid #dddbda;
            transition: border .15s linear;
            border-color: #dddbda;
            background-color: #fff;

        }

        select {
            cursor: pointer;
            background-color: #fff;
            border: 1px solid #dddbda;
            border-radius: .25rem;
            transition: border .1s linear, background-color .1s linear;
            height: 30px;
            padding-left: .5rem;
            padding-right: 1.5rem;
            text-align: center;
            vertical-align: middle;
            position: relative;
            display: inline-block;
            background-clip: border-box;
            text-decoration: none;
            color: rgb(8, 7, 7);
        }

        .blueSelect {
            padding-left: 1rem;
            padding-right: 1rem;
            text-align: center;
            vertical-align: middle;
            border: 1px solid #dddbda;
            transition: border .15s linear;
            background-color: #0070d2;
            border-color: #0070d2;
            color: #fff;
        }

        body {
            font-family: Arial, sans-serif;
            overflow: hidden;
        }

        span {
            font-size: 12px;
            display: inline-block;
        }

        span#drawingElement {
            margin-left: 10px;
            margin-right: 20px;
        }

        input {
            background-color: #fff;
            border: 1px solid #dddbda;
            border-radius: .25rem;

            transition: border .1s linear, background-color .1s linear;
            display: inline-block;
            padding: 0 1rem 0 .75rem;

            min-height: 30px;
        }

        .mr10 {
            margin-right: 10px;
        }

        button,
        select,
        input {
            margin-bottom: 5px;
        }

        #mydiv {
            position: relative;
        }

        #mydiv:before {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background-color: rgba(0,0,0,0.5);
            content: '';
            z-index: -1;
        }

        #mydiv,
        .cover_overlay {
            position: absolute;
            z-index: 9;
            background-color: #f1f1f1;
            text-align: center;
            border: 1px solid #d3d3d3;
            display: none;
        }

        #mydivheader {
            padding: 10px;
            cursor: move;
            z-index: 10;
            background-color: #2196F3;
            color: #fff;
        }

        #editlineTableContainer {
            background-color: #fff;
        }

        #editlineTableContainer table tr th {
            font-size: 14px;
            padding: 5px;
        }

        #editlineTableContainer table tr td {
            font-size: 12px;
            padding: 5px;
        }

        input[type=text]:disabled {
            background: #dddddd;
        }

        .modal-container,
        .prompt-container {
            display: none;
        }

        .modal-container:closed,
        .prompt-container:closed {
            display: none;
        }

        .modal,
        .prompt {
            position: fixed;
            top: 50px;
            left: 0px;
            right: 0px;
            margin: 0 auto;
            display: block;
            background: white;
            padding: 40px;

            width: 80%;
            z-index: 1;
        }

        #cropmodal {

            z-index: 99;
            position: relative;
        }

        #exportFileName {
            margin-left: 10px;
        }

        .cropmodal {
            position: fixed;
            top: 0px;
            left: 0px;
            right: 0px;
            margin: 0 auto;
            display: block;
            background: white;
            padding: 0px 40px;

            width: calc(100vw - 80px);
            z-index: 1;
            overflow: scroll;

        }

        .canvasContainer {
            padding-top: 70px;
        }
        .diabledClass{
            background-color: #ececec;
            color: #333;
            cursor: not-allowed;
        }
        .sticknav {
            POSITION: absolute;
            TOP: 0PX;
            left: 0px;
            width: calc(100% - 80px);
            background: white;
            z-index: 99;
            padding: 10px 40px;

        }

        .toolboxBar {
            position: fixed;
            top: 0px;
            left: 0px;
            width: 100%;
            height: auto;
            background-color: white;
            z-index: 9;
            padding: 10px;
            border: 1px solid rgb(221, 219, 218);
            width: calc(100% - 22px);
            margin-top: 5px;
        }

        canvas {
            border: none !important;
        }

        .canvasContainerDiv {
            position: absolute;
            top: 0;
            left: 0;
            height: 100vh;
            overflow: hidden;
            width: 100%;
            background-color: #fff;
            /*min-width: 100%;
    min-height: 100%;*/
            z-index: 0;
        }

        .redbutton {
            background-color: #c23934;
            border-color: #c23934;
            color: #fff;
        }

        .canvasButton {
            position: fixed;
            top: 36px;
            right: 36px;
            width: 72px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            border-radius: 50%;
            overflow: hidden;
            cursor: pointer;
            transform: rotate(45deg);
            background-color: #fff;
            border: 1px solid #9e9e9e;
        }

        .canvasButton.moveDown {
            top: auto;
            bottom: 96px;
        }

        .canvasButton.hidden {
            display: none;
        }

        .canvasButton div {
            width: 36px;
            height: 36px;
            font-size: 24px;
            color: #9e9e9e;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        #topCanvas {
            transform: rotate(-135deg);
        }

        #rightCanvas {
            transform: rotate(-45deg);
        }

        #bottomCanvas {
            transform: rotate(45deg);
        }

        #leftCanvas {
            transform: rotate(135deg);
        }

        @media screen and (max-width: 600px) {
            #exportMode {
                width: 100%;
            }

            #exportMode input {
                width: 100%;
                margin-left: 0px;
                margin-top: 5px;

            }

            .mr10 {
                margin-right: 0px;
            }

            #exportMode button {
                float: right;
                margin-left: 10px;
            }
        }
    </style>
</head>

<body>
</body>
<script>
    var line, isDown;
    var arr = new Array();
    var startx = new Array();
    var endx = new Array();
    var starty = new Array();
    var endy = new Array();
    var temp = 0;
    var lineCounter = 0;
    var gateCounter = 0;
    var postCounter = 0;
    var poolCircleSize = 25;
    var houseSize = 75;
    var imgMap={
        "extraline":'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAGYBAMAAABrGXULAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABtQTFRFAAAA3djUSkdFAAAAV1VSV1RSW1hW39fUS0dFN3Bj/AAAAAl0Uk5TAPX///X19fX/dLcShQAAADFJREFUeJxjYGAQMnZgAAEh44BRepQepUfpUXqUHqVH6VF6lB6lR2k60Qkkqa8AqQcAGUXt7wk/wSMAAAAASUVORK5CYII=',
        "house":'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAH7CAYAAAAQBuEBAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qzk0NkE0QTA0QUJFMTFFNkE4M0Q5NjFGRDUzMDVDMzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qzk0NkE0QTE0QUJFMTFFNkE4M0Q5NjFGRDUzMDVDMzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOTQ2QTQ5RTRBQkUxMUU2QTgzRDk2MUZENTMwNUMzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOTQ2QTQ5RjRBQkUxMUU2QTgzRDk2MUZENTMwNUMzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtsxgMEAABkJSURBVHja7N09chxn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',
        "other":'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWEAAAFhCAYAAACh/xvXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjI2QUM5MjAzNERCODExRTZCQzIxRjYxODgwNUM3ODNGIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI2QUM5MjAyNERCODExRTZCQzIxRjYxODgwNUM3ODNGIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ1dWlkOjlkZmM3YzAwLWI4Y2YtYWQ0OC1hODBjLWFiZTMyMzBjMjdmZiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGODdG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',
        'deck':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlUAAADbCAYAAABEI2QzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Qjk1NjBDMUU2QTA5MTFFNjlCNUVEMTJDOTE0MzIyMjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Qjk1NjBDMUY2QTA5MTFFNjlCNUVEMTJDOTE0MzIyMjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCOTU2MEMxQzZBMDkxMUU2OUI1RUQxMkM5MTQzMjIyMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCOTU2MEMxRDZBMDkxMUU2OUI1RUQxMkM5MTQzMjIyMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pof8WLYAAAPuSURBVHja7NbRTcMwFEDRZzshwBQdhVU6CSt1BLboL1MAIU2gldoBnH7g0nOkKP2x5CSv1k373fYlIk4XAADrvHXnoHr9+PyuXt33JfquNPEk43iIeVmq1pScYxi6JvY/HeaYprl63fPTQxP7X5af+Bqn6nWPQx85JzNkhv7FDN36OWqGzNC9n6NrZ+jyH8jCEgDgeqIKAEBUAQCIKgAAUQUAgKgCABBVAACiCgBAVAEAIKoAAEQVAICoAgAQVQAAiCoAAFEFACCqAABEFQAAogoAQFQBAIgqAABRBQCAqAIAEFUAAKIKAEBUAQAgqgAARBUAgKgCAEBUAQCIKgAAUQUAIKoAABBVAACiCgBAVAEAiCoAAEQVAICoAgAQVQAAogoAAFEFACCqAABEFQCAqAIAQFQBAIgqAABRBQAgqgAAEFUAAKIKAEBUAQCIKgAARBUAgKgCABBVAACIKgAAUQUAIKoAAEQVAACiCgBAVAEAiCoAAFEFAICoAgAQVQAAogoAQFQBACCqAABEFQCAqAIAEFUAAIgqAABRBQAgqgAARBUAAKIKAEBUAQCIKgAAUeUVAACIKgAAUQUAIKoAABBVAACiCgBAVAEAiCoAAEQVAICoAgAQVQAAogoAAFEFACCqAABEFQCAqAIAQFQBAIgqAABRBQAgqgAAEFUAAKIKAEBUAQCIKgAARBUAgKgCABBVAACIKgAAUQUAIKoAAEQVAACiCgBAVAEAiCoAAFEFAICoAgAQVQAAogoAQFQBACCqAABEFQCAqAIAEFUAAIgqAABRBQAgqgAARBUAAKIKAEBUAQCIKgAAUQUAgKgCABBVAACiCgAAUQUAIKoAAEQVAICoAgBAVAEAiCoAAFEFACCqAAAQVQAAogoAQFQBAIgqAABEFQCAqAIAEFUAAKIKAABRBQAgqgAARBUAgKgCAEBUAQCIKgAAUQUAIKoAABBVAACiCgBAVAEAIKoAAEQVAICoAgAQVQAAiCoAAFEFACCqAABEFQAAogoAQFQBAIgqAABRBQCAqAIAEFUAAKIKAEBUAQAgqgAARBUAgKgCABBVAACIKgAAUQUAIKoAABBVAACiCgBAVAEAiCoAAEQVAICoAgAQVQAAogoAAFEFACCqAABEFQCAqAIAQFQBAIgqAABRBQAgqgAAEFUAAKIKAEBUAQCIKgAARBUAgKgCABBVAACiCgAAUQUAIKoAAEQVAACiCgBAVAEAiCoAAFEFAICoAgAQVQAALeouP0qu76uUUjMPknKKUtmIpzXN7P/4Ltd8g5bc+v7NkBn6i/03dY6aITN05+fotTOU9rvt5njf6EsAgNXefwUYANOtTidJnIV+AAAAAElFTkSuQmCC',
        'patio':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlQAAADFCAIAAAAdX/uxAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6REVFRTMwMUQ2QTA5MTFFNkJGNDFBRjc5RTc2MDcxNzUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6REVFRTMwMUU2QTA5MTFFNkJGNDFBRjc5RTc2MDcxNzUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpERUVFMzAxQjZBMDkxMUU2QkY0MUFGNzlFNzYwNzE3NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpERUVFMzAxQzZBMDkxMUU2QkY0MUFGNzlFNzYwNzE3NSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgecFIQAAAjFSURBVHja7N1fb1P3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',
        'largepool':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY0AAADDCAYAAAB+gk15AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMyNjJFMzU4NERCNTExRTZCNjQyOTFFRUM3MkM1QTA2IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMyNjJFMzU3NERCNTExRTZCNjQyOTFFRUM3MkM1QTA2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ1dWlkOjlkZmM3YzAwLWI4Y2YtYWQ0OC1hODBjLWFiZTMyMzBjMjdmZiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGODdG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',
        'smallpool':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAYAAACJm/9dAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTQyRUJGNjM2QTBBMTFFNjkxM0NEQzM4QTUzNUQ0MEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTQyRUJGNjQ2QTBBMTFFNjkxM0NEQzM4QTUzNUQ0MEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxNDJFQkY2MTZBMEExMUU2OTEzQ0RDMzhBNTM1RDQwQSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxNDJFQkY2MjZBMEExMUU2OTEzQ0RDMzhBNTM1RDQwQSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pib14RQAABA8SURBVHja7J1PdhPH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',
        'swings':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAScAAADBCAYAAACNMHZqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjVEMjA4OTI0OTNCRkRCMTE5MTRBODU5MEQzMTUwOEM4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjA3MEQ4OUYzNERCODExRTZCRjcyQzAzNTk5QjE2NEIyIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjA3MEQ4OUYyNERCODExRTZCRjcyQzAzNTk5QjE2NEIyIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIElsbHVzdHJhdG9yIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ1dWlkOjlkZmM3YzAwLWI4Y2YtYWQ0OC1hODBjLWFiZTMyMzBjMjdmZiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGODdG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',
        'hottub':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAADKCAYAAADkZd+oAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0Q5NTNDMkQ2QTBBMTFFNjlFQTNBQkYwNzVENTIzNDQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0Q5NTNDMkU2QTBBMTFFNjlFQTNBQkYwNzVENTIzNDQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozRDk1M0MyQjZBMEExMUU2OUVBM0FCRjA3NUQ1MjM0NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozRDk1M0MyQzZBMEExMUU2OUVBM0FCRjA3NUQ1MjM0NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pl7B7wgAAA+kSURBVHja7J3NcxTH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',
        'tree':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANsAAAC5CAYAAAChv0oRAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjhBQkI2MTg2QTBBMTFFNkFENDdFQkZDNTc5REQ5NjYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjhBQkI2MTk2QTBBMTFFNkFENDdFQkZDNTc5REQ5NjYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2OEFCQjYxNjZBMEExMUU2QUQ0N0VCRkM1NzlERDk2NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2OEFCQjYxNzZBMEExMUU2QUQ0N0VCRkM1NzlERDk2NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhxO8AABHYSURBVHja7J1NbxvH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',
        'bush':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABOCAYAAACKX/AgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzkzOTBBODU2QTBBMTFFNjgzOEU5NTg5OTJFNDE2M0IiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzkzOTBBODY2QTBBMTFFNjgzOEU5NTg5OTJFNDE2M0IiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3OTM5MEE4MzZBMEExMUU2ODM4RTk1ODk5MkU0MTYzQiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3OTM5MEE4NDZBMEExMUU2ODM4RTk1ODk5MkU0MTYzQiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiN9ZC4AAAuYSURBVHja7FzbUxvX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',
        'rock':'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAAA6CAYAAADx2wT0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEM0QkEyNTQ2QTBBMTFFNkI2ODlDRjAzOUUyOUNCMUQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEM0QkEyNTU2QTBBMTFFNkI2ODlDRjAzOUUyOUNCMUQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4QzRCQTI1MjZBMEExMUU2QjY4OUNGMDM5RTI5Q0IxRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4QzRCQTI1MzZBMEExMUU2QjY4OUNGMDM5RTI5Q0IxRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtzkuAEAAAllSURBVHja7Fztb1vV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',
        'waterfeature':'data:image/png;base64,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',
        'garden':'data:image/png;base64,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',
        'landscapedarea':'data:image/png;base64,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'
    }
    var useIcon = "house";
    var houseImage =
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAS1BMVEUAAAD///91dXVhYWFeXl6vr6+3t7d4eHiTk5O7u7tKSkqlpaVbW1tXV1dWVlZlZWXQ0NCZmZmMjIxtbW3CwsI+Pj5DQ0MRERGenp7VEOwtAAAD2klEQVR4nO3d23LaQBCEYcUIx3YkDD4kfv8nTQ0uI5s9aJB2Z3tU/d9j8VUvW6lcQPdr63Wt30D1zIUv1g+0FvbdYPxEY+HQdd1o+0hbYd9JtiuaCofus4PlQy2FX0Dbg2oonICmRDvhd6DlQTUT9t3PzK4bK+HQXWd1UI2E1wvOr/j4/qTp78Pco22E4YKzK+6jLwm7m3u2iTC24NyKWuHvuYdbCOMLSpkb1ZMwDcwdVEfCHDBD9CPMA9MH1Y0wdclMJa4bL8K5BaX4QXUinF9Qiq7oQ6hZUIqt6EKoW1CKrOhBqF1QCm9UB8JbgJGDii+8DRgS4YW3AoODii7UXzJTP68bcOHtC0o/Diq2cMmC10Ro4bIFpW+fRWTh0gWlaUVg4fIFpcuKuMJ1wIkIK1wLvBBRheuBX0RQ4ZpLZmrEFZZYUDqgCsssKI2YwlILSgdEYbkFpR2esOSC0j80YWmgOithM6CVsB3QSFj2kgEUNlzQRthyQRNh0wUthG0XNBA2XrC+sDmwtrA9sLIQAFhX2PqSOVdTiLBgVSHEgjWFGAtWFIIsWE+IsmA1IQ6wkhAIWEeIBKwihLlkzlUQQi1YQ4i1YAUh2ILlhWgLFhfCLVhaCAgsK0QEFhVCAksK8S6Zc+WEmAsWFIIuWE6IumAxIeyCpYS4CxYSIgOLCKGBJYTYwAJC4Evm3NNaIfiC3fy3M8wI0ReUZr6dIS/EX1DKr5gVelhQyn51QU7oY0Ept2JG6AeY/SymhZ6AOWJS6AuY+SymhF4umanUigmhtwWlxIpxob8FpfiKUaHHBaXoijGhzwWl2IoRodcFpciKodAzMLZiIPQNjBCvhd6B4UG9Evq9ZKaGnND/gtKYFm5hQWlICbexoDTGhVtZUBpiwu0sKI2hcFvAbyt2GwVOxG6rwAux29wlM9VPwi0uKPVfwkPrd1Ktw6fw+PHnuv176/e2oPd94Pg4Jv8n6rn1213QLk5JCHet3+6CegophI9CCvGjkEL8KKQQPwopxI9CCvU9nx6Wdnp1IbyP/0lVjy6E+xXCewoppJBCCincnPD4qOvoVqj9N9irW+Gd8hXTL21SmItCCvVRGEahLgop1EdhGIW6KKRQH4VhFOqikEJ9FIZRqItCCvVRGEahLgop1EdhGIW6KKRQH4VhFOqikEJ9FIZRqItCCvVRGEahLgop1EdhGIW6KKRQH4VhFOqikEJ9FIZRqItCCvVRGEahLgop1EdhGIW6KKRQH4VhFOq6TbjmBy9aCRM/YpkQvvS7pY1vl79yGlSvGE6XV7yNi5/bv9wk3FDbF/4Hiy5jdNu+XOMAAAAASUVORK5CYII=';
    var linename;
    var partType;
    var graphtype;
    var isFreshStart = true;
    trigger = "1";
    var text;
    var lineColor = "red";
    var lineType = "fence";
    var canvas;
    var hasPreviousName = '';
    var hasPreviousFileType = '';
    var hasPreviousAttachId = '';
    var editLengthObject = [];
    var editCurrentLengthObject = {};
    var lengthUnit = "ft";
    var conversionRatio = 0.1;
    var gateThreshold = 5000;
    var fenceThreshold = 1000;
    var rect, origX, origY;
    var ellipse;
    var selectionActiveFlag = 0;
    var actions = [];
    var undoActions = [];
    var lastEditedText;
    var clickedObj;
    var activePost;
    var postArr = [];

    var mainPostData = [];

    // reset all variables to their initial values
    function resetVars() {
        line, isDown;
        arr = new Array();
        startx = new Array();
        endx = new Array();
        starty = new Array();
        endy = new Array();
        temp = 0;
        lineCounter = 0;
        gateCounter = 0;
        postCounter = 0;
        poolCircleSize = 25;
        houseSize = 75;
        houseImage =
        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAS1BMVEUAAAD///91dXVhYWFeXl6vr6+3t7d4eHiTk5O7u7tKSkqlpaVbW1tXV1dWVlZlZWXQ0NCZmZmMjIxtbW3CwsI+Pj5DQ0MRERGenp7VEOwtAAAD2klEQVR4nO3d23LaQBCEYcUIx3YkDD4kfv8nTQ0uI5s9aJB2Z3tU/d9j8VUvW6lcQPdr63Wt30D1zIUv1g+0FvbdYPxEY+HQdd1o+0hbYd9JtiuaCofus4PlQy2FX0Dbg2oonICmRDvhd6DlQTUT9t3PzK4bK+HQXWd1UI2E1wvOr/j4/qTp78Pco22E4YKzK+6jLwm7m3u2iTC24NyKWuHvuYdbCOMLSpkb1ZMwDcwdVEfCHDBD9CPMA9MH1Y0wdclMJa4bL8K5BaX4QXUinF9Qiq7oQ6hZUIqt6EKoW1CKrOhBqF1QCm9UB8JbgJGDii+8DRgS4YW3AoODii7UXzJTP68bcOHtC0o/Diq2cMmC10Ro4bIFpW+fRWTh0gWlaUVg4fIFpcuKuMJ1wIkIK1wLvBBRheuBX0RQ4ZpLZmrEFZZYUDqgCsssKI2YwlILSgdEYbkFpR2esOSC0j80YWmgOithM6CVsB3QSFj2kgEUNlzQRthyQRNh0wUthG0XNBA2XrC+sDmwtrA9sLIQAFhX2PqSOVdTiLBgVSHEgjWFGAtWFIIsWE+IsmA1IQ6wkhAIWEeIBKwihLlkzlUQQi1YQ4i1YAUh2ILlhWgLFhfCLVhaCAgsK0QEFhVCAksK8S6Zc+WEmAsWFIIuWE6IumAxIeyCpYS4CxYSIgOLCKGBJYTYwAJC4Evm3NNaIfiC3fy3M8wI0ReUZr6dIS/EX1DKr5gVelhQyn51QU7oY0Ept2JG6AeY/SymhZ6AOWJS6AuY+SymhF4umanUigmhtwWlxIpxob8FpfiKUaHHBaXoijGhzwWl2IoRodcFpciKodAzMLZiIPQNjBCvhd6B4UG9Evq9ZKaGnND/gtKYFm5hQWlICbexoDTGhVtZUBpiwu0sKI2hcFvAbyt2GwVOxG6rwAux29wlM9VPwi0uKPVfwkPrd1Ktw6fw+PHnuv176/e2oPd94Pg4Jv8n6rn1213QLk5JCHet3+6CegophI9CCvGjkEL8KKQQPwopxI9CCvU9nx6Wdnp1IbyP/0lVjy6E+xXCewoppJBCCincnPD4qOvoVqj9N9irW+Gd8hXTL21SmItCCvVRGEahLgop1EdhGIW6KKRQH4VhFOqikEJ9FIZRqItCCvVRGEahLgop1EdhGIW6KKRQH4VhFOqikEJ9FIZRqItCCvVRGEahLgop1EdhGIW6KKRQH4VhFOqikEJ9FIZRqItCCvVRGEahLgop1EdhGIW6KKRQH4VhFOq6TbjmBy9aCRM/YpkQvvS7pY1vl79yGlSvGE6XV7yNi5/bv9wk3FDbF/4Hiy5jdNu+XOMAAAAASUVORK5CYII=';
        linename;
        partType;
        graphtype;
        isFreshStart = true;
        trigger = "1";
        text;
        lineColor = "red";
        lineType = "fence";
        canvas;
        hasPreviousName = '';
        hasPreviousFileType = '';
        hasPreviousAttachId = '';
        editLengthObject = [];
        editCurrentLengthObject = {};
        lengthUnit = "ft";
        conversionRatio = 0.1;
        gateThreshold = 5000;
        fenceThreshold = 1000;
        rect, origX, origY;
        ellipse;
        selectionActiveFlag = 0;
        actions = [];
        undoActions = [];
        lastEditedText;
        clickedObj;
        activePost;
        postArr = [];

        mainPostData = [];
    }
    function drawgrid(){
        let lineDistance = 10;
        let gridLen = canvas.width / lineDistance;
        for (var i = 0; i < gridLen; i++) {
        let distance   = i * lineDistance;
        let hpoints = [distance,0,distance,canvas.height];
        let vpoints = [0,distance,canvas.width,distance];
        horizontal = new fabric.Line(hpoints, {
                        strokeWidth: 1,
                        stroke: '#ebebeb',
                        originX: 'center',
                        originY: 'center',
                        hasControls: false,
                        selectable: false,
                        isSelected: false,
                        isGrid:true
                        });
             vertical = new fabric.Line(vpoints, {
                        strokeWidth: 1,
                        stroke: '#ebebeb',
                        originX: 'center',
                        originY: 'center',
                        hasControls: false,
                        selectable: false,
                        isSelected: false,
                        isGrid:true
                        });                
                        if(i%5 === 0){
            horizontal.set({stroke: '#cccccc'});
            vertical.set({stroke: '#cccccc'});
          };
                    canvas.add(horizontal);
                    canvas.add(vertical);
    }
        canvas.renderAll();
    }
    function isEmpty(val) {
        if (val == undefined || val == null || val == '') {
            return true;
        }
        return false;
    }
    /*function changePostType(post,postType,fill){
        post.set({
            postType: postType,
            fill:fill
        });
    }
    */

    // configure a post
    function confPost() {
        console.log(postArr);

        postArr.map((elem) => {
            canvas.remove(elem);

            var tempfill = 'rgba(139,69,19,0.5)';
            var tempType = 'EP';
            for (var k = 0; k < elem.lines.length; k++) {

                if (elem.lines[k].lineType == 'gate') {
                    tempfill = 'blue';
                    tempType = 'GP';
                    console.log("set");
                    break;
                }
            }
            if (tempType != 'GP') {
                if (elem.lines.length > 1) {
                    tempfill = 'black';
                    tempType = 'CP';
                } else {
                    tempfill = 'rgba(139,69,19,0.5)';
                    tempType = 'EP';
                }
            }
            elem.set({
                fill: tempfill,
                originalfill: tempfill,
                postType: tempType

            });
            canvas.add(elem);
        });
    }

    function makePost(pleft, ptop, color, type, name, lines, isActive) {
        var temprect = new fabric.Rect({
            left: pleft,
            top: ptop,
            originX: 'left',
            originY: 'top',
            width: 10,
            height: 10,
            angle: 0,
            fill: color,
            originalfill: color,
            transparentCorners: false,
            drawFigure: "post",
            postType: type,
            hasControls: false,
            selectable: false,
            postname: name,
            lines: lines
        });
        canvas.add(temprect);
        postArr.push(temprect);
        postCounter++;
        if (isActive) {
            activePost = temprect;
        }
        return temprect;
        /*
        var indivText = new fabric.IText('P' + postCounter, {
            fontSize: 9
        });

        indivText.left = pointer.x - (indivText.width / 2);
        indivText.top = pointer.y - (indivText.height / 2);
        indivText.drawtype = "other";
        indivText.hasControls = false;
        indivText.selectable = true;
        canvas.add(indivText);
        */
    }

    function startCanvasInit() {
        document.body.innerHTML = `
    <div id="canvasContainerDiv" class="canvasContainerDiv">
        <canvas width="` + sw + `" height="` + sh +
            `" id="canvas" style="border:1px solid #ccc;"></canvas>
        <div id="canvasButton" class="canvasButton">
          <div id="topCanvas">></div>
          <div id="rightCanvas">></div>
          <div id="leftCanvas">></div>
          <div id="bottomCanvas">></div>
        </div>
    </div>
      <div id="mydiv"><div id="mydivheader">Click here to move</div><div id="editlineTableContainer"></div></div><div id="modal" class="modal-container"> <div class="modal"> <h2><span id="producttypeErr" style="font-size: inherit;"></span> Length Alert!</h2> <p>You are exceeding the max limit(<span id="productMaxLimit" style="font-size: inherit;"></span>) for a Gate. Please acknowledge the same and proceed.</p><button id="gotit" class="modalbutton" onclick="closePopUp()">GOT IT!</button> </div></div><div id="cropmodal" class="modal-container"> <div class="cropmodal"><div class="relativeDiv"><div class="sticknav"><span id="exportMode"> Filename: <input type="text" class="mr10" id="exportFileName"/></span></div><div class="canvasContainer"> <canvas id="cropcanvas">Your browser does not support the HTML5 canvas element.</canvas> </div></div></div></div>`;


        // add event listners for scroll buttons
        var leftCanvas = document.getElementById('leftCanvas');
        var topCanvas = document.getElementById('topCanvas');
        var rightCanvas = document.getElementById('rightCanvas');
        var bottomCanvas = document.getElementById('bottomCanvas');
        var canvasContainerDiv = document.getElementById('canvasContainerDiv');

        rightCanvas.addEventListener('click', function () {
            canvasContainerDiv.scrollBy({
                left: 40
            });
        });

        leftCanvas.addEventListener('click', function () {
            canvasContainerDiv.scrollBy({
                left: -40
            });
        });

        topCanvas.addEventListener('click', function () {
            canvasContainerDiv.scrollBy({
                top: -40
            });
        });

        bottomCanvas.addEventListener('click', function () {
            canvasContainerDiv.scrollBy({
                top: 40
            });
        });

        canvas = this.__canvas = new fabric.Canvas('canvas', {
            hoverCursor: 'default',
            selection: false
        });
        canvas.selection = false;
        fabric.Object.prototype.transparentCorners = false;
        drawgrid();
        canvas.on('mouse:down', function (o) {
            o.e.preventDefault();
            o.e.stopPropagation();


            if (canvas.selection == true) {
                return;
            }
            clickedObj = o.target;
            if (trigger == "1") {
                isDown = true;
                var pointer = canvas.getPointer(o.e);
                var activeObject = canvas.getActiveObject(),
                    activeGroup = canvas.getActiveGroup();
                if (activeObject || activeGroup) {
                    line = null;
                    rect = null;
                    ellipse = null;
                    selectionActiveFlag = 1;
                    return;
                }
                if (selectionActiveFlag == 1) {
                    selectionActiveFlag = 0;
                    return;
                }
                //console.log("activeObject", activeObject);
                //console.log("activeGroup", activeGroup);
                if (partType == "fence" || partType == "gate") {
                    if (activeObject) {
                        //console.log("ddddactiveObject", activeObject.drawtype);
                        if (activeObject.drawtype != undefined && activeObject.drawtype == "other") {
                            line = null;
                            return;
                        }
                    }
                    // if u have added a new post from button and then go to draw a fence or gate and click in the a post 
                    if (isFreshStart && clickedObj && clickedObj.drawFigure == "post") {
                        console.log("post fresh click");
                        isFreshStart = false;
                        activePost = clickedObj;
                        if (isEmpty(startx[temp]) && isEmpty(starty[temp])) {
                            startx[temp] = pointer.x;
                            starty[temp] = pointer.y;
                            line = null;
                            return;
                        } else {
                            endx[temp] = pointer.x;
                            endy[temp] = pointer.y;
                            return;
                        }


                    }
                    if (isEmpty(startx[temp]) && isEmpty(starty[temp])) {
                        isFreshStart = true;
                        startx[temp] = pointer.x;
                        starty[temp] = pointer.y;
                        line = null;
                        return;
                    } else {
                        if (!isEmpty(endx[temp])) {
                            startx[temp] = endx[temp];
                            endx[temp] = pointer.x;

                        } else {
                            endx[temp] = pointer.x;
                        }
                        if (!isEmpty(endy[temp])) {
                            starty[temp] = endy[temp];
                            endy[temp] = pointer.y;
                            isFreshStart = false;
                            console.log("1");
                        } else {
                            endy[temp] = pointer.y;
                            console.log("2");
                        }
                    }

                    var points = [startx[temp], starty[temp], endx[temp], endy[temp]];

                    console.log("1",lineCounter);
                    if (lineType == 'fence') {
                        lineCounter++;
                        linename = "L" + lineCounter;
                    } else {
                        gateCounter++;
                        linename = "G" + gateCounter;
                    }
                    console.log("1",lineCounter);
                    // creates a new fence or a gate
                    line = new fabric.Line(points, {
                        strokeWidth: 2,
                        stroke: lineColor,
                        originX: 'center',
                        originY: 'center',
                        lineType: lineType,
                        lineName: linename,
                        hasControls: false,
                        selectable: false,
                        isSelected: false,
                        product: '',
                        productId: '',
                        productGroup: '',
                        productType: '',
                        laborCost: 0,
                        postType: '',
                        topType: '',
                        productHeight: 0,
                        BOM: ''
                    });
                    canvas.add(line);
                } else if (partType == "rectangle") {
                    var activeObject = canvas.getActiveObject();
                    if (activeObject) {
                        if (activeObject.drawtype != undefined && activeObject.drawtype == "other") {
                            rect = null;
                            return;
                        }
                    }
                    origX = pointer.x;
                    origY = pointer.y;

                    /*rect = new fabric.Rect({
                        left: origX,
                        top: origY,
                        originX: 'left',
                        originY: 'top',
                        width: pointer.x-origX,
                        height: pointer.y-origY,
                        angle: 0,
                        fill: 'rgba(0,255,0,0.5)',
                        transparentCorners: false,
                        drawFigure:"rectangle"
                    });*/
                    if(useIcon=='extraline'){
                        new fabric.Image.fromURL(imgMap[useIcon], function (img) {
                            rect = img.set({
                                left: origX,
                                top: origY,
                                originX: 'left',
                                originY: 'top',
                                width: 10,
                                height: 400,
                                _drawFigure: "rectangle",
                                iconname:useIcon
                            });
    
                            canvas.add(img);
                        });
                    }
                    else{
                        new fabric.Image.fromURL(imgMap[useIcon], function (img) {
                            rect = img.set({
                                left: origX,
                                top: origY,
                                originX: 'left',
                                originY: 'top',
                                width: houseSize,
                                height: houseSize,
                                _drawFigure: "rectangle",
                                iconname:useIcon
                            });
    
                            canvas.add(img);
                        });
                    }
                    

                    //canvas.add(rect);
                } else if (partType == "circle") {
                    var activeObject = canvas.getActiveObject();
                    if (activeObject) {
                        if (activeObject.drawtype != undefined && activeObject.drawtype == "other") {
                            ellipse = null;
                            return;
                        }
                    }
                    origX = pointer.x;
                    origY = pointer.y;

                    ellipse = new fabric.Ellipse({
                        top: origY,
                        left: origX,
                        rx: poolCircleSize,
                        ry: poolCircleSize,
                        transparentCorners: false,
                        hasControls: false,
                        stroke: 'rgba(0,0,255,0.5)',
                        strokeWidth: 5,
                        fill: 'rgba(0,0,255,0.5)',
                        drawFigure: "circle",
                        originX: 'center',
                        originY: 'center'
                    });

                    canvas.add(ellipse);
                } else if (partType == "landscapeObject") {
                    var indivText = new fabric.Text("X", {
                        fontSize: 16
                    });
                    indivText.left = (pointer.x) - (indivText.width / 2);
                    indivText.top = (pointer.y) - (indivText.height / 2);
                    indivText.drawFigure = "landscapeObject";
                    indivText.hasControls = false;
                    indivText.selectable = true;
                    canvas.add(indivText);
                } else if (partType == "post") {
                    isFreshStart = true;
                    endx[temp] = pointer.x;
                    endy[temp] = pointer.y;
                    if (clickedObj && clickedObj.drawFigure == "post") {
                        activePost = clickedObj;
                    } else {
                        makePost(pointer.x - 5, pointer.y - 5, 'rgba(139,69,19,0.5)', 'EP', 'P' + postCounter,
                        [], true);
                    }
                    if (isEmpty(startx[temp]) && isEmpty(starty[temp])) {
                        startx[temp] = pointer.x;
                        starty[temp] = pointer.y;
                        return;
                    }



                    /*
                    var indivText = new fabric.IText('P' + postCounter, {
                        fontSize: 9
                    });

                    indivText.left = pointer.x - (indivText.width / 2);
                    indivText.top = pointer.y - (indivText.height / 2);
                    indivText.drawtype = "other";
                    indivText.hasControls = false;
                    indivText.selectable = true;
                    canvas.add(indivText);
                    */

                }
            } else {
                canvas.forEachObject(function (o) {
                    o.setCoords();
                });
            }
        });

        canvas.on('mouse:move', function (o) {
            o.e.preventDefault();
            o.e.stopPropagation();
            if (canvas.selection == true) {
                return;
            }
            canvas.remove(text);
            canvas.renderAll();
            if (!isDown) return;
            var pointer = canvas.getPointer(o.e);
            if (partType == "fence" || partType == "gate") {
                if (line == null) {
                    if (isEmpty(endx[temp]) && isEmpty(endy[temp])) {
                        var points = [startx[temp], starty[temp], pointer.x, pointer.y];


                        if (lineType == 'fence') {
                            lineCounter++;
                            linename = "L" + lineCounter;
                        } else {
                            gateCounter++;
                            linename = "G" + gateCounter;
                        }
                        // creates a new fence or a gate
                        line = new fabric.Line(points, {
                            strokeWidth: 2,
                            stroke: lineColor,
                            originX: 'center',
                            originY: 'center',
                            lineType: lineType,
                            lineName: linename,
                            hasControls: false,
                            selectable: false,
                            isSelected: false,
                            product: '',
                            productId: '',
                            productGroup: '',
                            productType: '',
                            laborCost: 0,
                            postType: '',
                            topType: '',
                            productHeight: 0,
                            BOM: ''
                        });
                        canvas.add(line);

                    } else {
                        return;
                    }




                }
                line.set({
                    x2: pointer.x,
                    y2: pointer.y
                });

                endx[temp] = pointer.x;
                endy[temp] = pointer.y;


                if (trigger == "1") {
                    var px = Calculate.lineLength(startx[temp], starty[temp], endx[temp], endy[temp]).toFixed(
                        2);
                    text = new fabric.Text('Length ' + (px * conversionRatio).toFixed(2) + lengthUnit, {
                        left: endx[temp],
                        top: endy[temp],
                        fontSize: 12
                    });
                    canvas.add(text);

                }
            }
            // resize the house
            else if (partType == "rectangle") {
                if (rect == null) {
                    return;
                }
              /*  var activeObject = canvas.getActiveObject();
                if (activeObject) {
                    if (activeObject.drawtype != undefined && activeObject.drawtype == "other") {
                        canvas.remove(rect);
                        return;
                    }
                }

                if (origX > pointer.x) {
                    rect.set({
                        left: Math.abs(pointer.x)
                    });
                }
                if (origY > pointer.y) {
                    rect.set({
                        top: Math.abs(pointer.y)
                    });
                }

                rect.set({
                    width: Math.abs(origX - pointer.x)
                });
                rect.set({
                    height: Math.abs(origY - pointer.y)
                });
*/
            }
            // or more accurately the pool
            /*else if(partType == "circle") {
        if(ellipse == null){
          return;
        }

        var activeObject = canvas.getActiveObject();
        if (activeObject) {
          console.log("activeObject",activeObject.drawtype);
          if(activeObject.drawtype != undefined && activeObject.drawtype == "other"){
              canvas.remove(ellipse);
              return;
          }
        }

        var activeObj = ellipse;
        
        activeObj.stroke = 'rgba(0,0,255,0.5)';
        activeObj.strokeWidth = 5;
        activeObj.fill = 'rgba(0,0,255,0.5)';
    
        if (origX > pointer.x) {
          activeObj.set({
            left: Math.abs(pointer.x)
          });
        }
    
        if (origY > pointer.y) {
          activeObj.set({
            top: Math.abs(pointer.y)
          });
        }
    
        activeObj.set({
          rx: poolCircleSize
        });
        
        activeObj.set({
          ry: poolCircleSize
        });

        activeObj.setCoords();
      }*/

            canvas.renderAll();
        });


        canvas.on('mouse:up', function (o) {
            o.e.preventDefault();
            o.e.stopPropagation();
            isDown = false;
            if (partType == "fence" || partType == "gate") {
                if (line == null) {
                    return;
                }
                var pointer = canvas.getPointer(o.e);
                if (startx[temp] == null || starty[temp] == null || endx[temp] == null || endy[temp] == null) {
                    if (lineType == 'fence') {
                        console.log("hjere 1");
                        lineCounter--;

                    } else {
                        gateCounter--;

                    }
                    return;
                }

                if (canvas.selection == true) {
                   /* if (lineType == 'fence') {
                        console.log("hjere 2");
                        lineCounter--;

                    } else {
                        gateCounter--;

                    }*/
                    return;
                }


                var px = Calculate.lineLength(startx[temp], starty[temp], endx[temp], endy[temp]).toFixed(2);
                line.set({
                    length: (px * (conversionRatio)).toFixed(2)
                });

                // opens the line add length popup here with the current length
                editCurrentLineLength();

                if (partType == "gate" && parseFloat((px * (conversionRatio)).toFixed(2)) > gateThreshold) {
                    document.getElementById("producttypeErr").innerHTML = "Gate";
                    document.getElementById("productMaxLimit").innerHTML = gateThreshold + lengthUnit;
                    document.getElementById("modal").style.display = "block";
                }
                /*if(partType == "fence" && parseFloat((px*(conversionRatio)).toFixed(2))>fenceThreshold){
                 document.getElementById("producttypeErr").innerHTML="Fence";
                 document.getElementById("productMaxLimit").innerHTML = fenceThreshold + lengthUnit;
                 document.getElementById("modal").style.display="block";
                }*/
                if (px > 0) {

                    var tempangle = angle(startx[temp], starty[temp], endx[temp], endy[temp]);
                    var lineShowText = linename + ': ' + (px * (conversionRatio)).toFixed(2) + lengthUnit;

                    // if the angle of the line falls in a certain range then flip the text
                    /*if ((tempangle > -180 && tempangle < -90) || (tempangle <= 180 && tempangle > 90)) {
                        //indivText.flipX = true;
                        //indivText.flipY = true;
                        tempangle = tempangle + 180;
                    }
                    */

                    var indivText = new fabric.Text(lineShowText, {
                        fontSize: 12,
                        angle: tempangle
                    });
                    var newDistance = (px / 2) - (indivText.width / 2);

                    var disRatio = newDistance / px;
                    var newX = ((1 - disRatio) * startx[temp]) + (disRatio * endx[temp]);
                    var newY = ((1 - disRatio) * starty[temp]) + (disRatio * endy[temp]);

                    indivText.left = newX;
                    indivText.top = newY;
                    indivText.belongsToLine = line.lineName;
                    indivText.dataText = lineShowText;
                    indivText.hasControls = false;
                    indivText.selectable = false;
                    line.belongsToText = lineShowText;
                    if ((tempangle > -180 && tempangle < -90) || (tempangle <= 180 && tempangle > 90)) {
                        indivText.flipX = true;
                        indivText.flipY = true;
                        //tempangle = tempangle + 180;
                    }
                    // add this to global last edited text
                    lastEditedText = indivText;
                } else {
                    // removing line
                    if (lineType == 'fence') {
                        lineCounter--;
                    } else {
                        gateCounter--;
                    }
                }
                //startx[temp] = null;
                //starty[temp] = null;
                // endx[temp] = null;
                // endy[temp] = null;
            } else if (partType == "rectangle") {
                if (rect == null) {
                    return;
                }
                if (canvas.selection == true) {
                    return;
                }
                /*if(rect.width < 5 && rect.height < 5){
                  canvas.remove(rect);
                  return;
                }*/
                /*var lineShowText = "house";
                var indivText = new fabric.IText(lineShowText, {
                    fontSize: 12
                });

                indivText.left = origX + (rect.width / 2) - (indivText.width / 2);
                indivText.top = origY + rect.height + (indivText.width / 2);
                indivText.drawtype = "other";
                indivText.hasControls = false;
                indivText.selectable = false;

                // reference the current in div text
                rect._indivText = indivText;
                // add them both into a group first
                var group = new fabric.Group([rect, indivText], {
                    left: rect.left,
                    top: rect.top,
                    _drawFigure: 'rectangle'
                });
                
                // remove the original ellipse, instead add a ellipsis group
                canvas.remove(rect);
                canvas.add(group);*/
            } else if (partType == "circle") {
                if (ellipse == null) {
                    return;
                }
                if (canvas.selection == true) {
                    return;
                }
                if (ellipse.rx < 5 && ellipse.ry < 5) {
                    canvas.remove(ellipse);
                    return;
                }

                var lineShowText = "pool";
                var indivText = new fabric.IText(lineShowText, {
                    fontSize: 12
                });

                indivText.left = ellipse.left - (indivText.width / 2);
                indivText.top = ellipse.top - (indivText.height / 2);
                indivText.drawtype = "other";
                indivText.hasControls = false;
                indivText.selectable = false;
                
                // add them both into a group first
                var group = new fabric.Group([ellipse, indivText], {
                    left: ellipse.left,
                    top: ellipse.top,
                    _drawFigure: 'circle',
                    originX: 'center',
                    originY: 'center'
                });
                
                // remove the original ellipse, instead add a ellipsis group
                canvas.remove(ellipse);
                canvas.add(group);
            }
        });

        canvas.on('mouse:over', function (e) {
            e.target.setStroke('blue');
            canvas.renderAll();
        });

        canvas.on('mouse:out', function (e) {
            e.target.setStroke('red');
            canvas.renderAll();
        });

        // this is function to select the relate text or object related when one is selected
        function onObjectSelected(e) {
            // for line selection
            if (e.target.get('type') == "line" || (e.target.get('type') == "text" && e.target.dataText != undefined)) {
                let selectedObjects = [e.target];
                if (e.target.get('type') == "line") {
                    let maplinetextObj = canvas._objects.filter(
                        obj => (obj.get('type') == "text" && obj.belongsToLine == e.target.lineName)
                    );
                    maplinetextObj.map(obj => {
                        console.log("s");
                        obj.lockMovementX = true;
                        obj.lockMovementY = true;
                        selectedObjects.push(obj);
                    });
                } else if (e.target.get('type') == "text" && e.target.dataText != undefined) {
                    let maplinetextObj = canvas._objects.filter(
                        obj => (obj.get('type') == "line" && obj.belongsToText == e.target.dataText)
                    );
                    maplinetextObj.map(obj => {
                        console.log("s");
                        obj.lockMovementX = true;
                        obj.lockMovementY = true;
                        selectedObjects.push(obj);
                    });
                }


                var objs = selectedObjects.map(function (o) {
                    return o.set('active', true); //return objects that you want to select
                });

                //create group
                var group = new fabric.Group(objs, {
                    originX: 'center',
                    originY: 'center'
                });

                canvas._activeObject = null;
                group.setCoords();
                canvas.setActiveGroup(group).renderAll();
            } else {
                console.log("govind", e.target)
                return;
            }
        }

        canvas.on('object:selected', onObjectSelected);

        function onSelectionCreated(e) {
            var lineObjectArr = [];
            var textObjectArr = [];
            let selectedObjects = [];
            console.log("e.target._objects", e.target._objects);
            e.target._objects.map((o) => {
                if (o.get('type') == "line") {
                    lineObjectArr.push(o);
                } else if (o.get('type') == "text") {
                    textObjectArr.push(o);
                }
                selectedObjects.push(o);
            });
            let tempLineObjectArr = [];
            let tempTextObjectArr = [];
            Object.assign(tempLineObjectArr, lineObjectArr);
            Object.assign(tempTextObjectArr, textObjectArr);
            tempTextObjectArr.map((textObj) => {
                tempLineObjectArr.map((lineobj) => {
                    if (textObj.belongsToLine == lineobj.lineName) {
                        console.log("lineObjectArr.indexOf(lineobj)", lineObjectArr.indexOf(lineobj));
                        console.log("textObjectArr.indexOf(textObj)", textObjectArr.indexOf(textObj));
                        lineObjectArr.splice(lineObjectArr.indexOf(lineobj), 1);
                        textObjectArr.splice(textObjectArr.indexOf(textObj), 1);

                    }
                });
            });
            console.log("lineObjectArr", lineObjectArr);
            lineObjectArr.map((remLineObj) => {
                let maplinetextObj = canvas._objects.filter(
                    obj => (obj.get('type') == "text" && obj.belongsToLine == remLineObj.lineName)
                );
                maplinetextObj.map(obj => selectedObjects.push(obj));
            });
            console.log("textObjectArr", textObjectArr);
            textObjectArr.map((remTextObj) => {
                let maplinetextObj = canvas._objects.filter(
                    obj => (obj.get('type') == "line" && obj.belongsToText == remTextObj.dataText)
                );
                maplinetextObj.map(obj => selectedObjects.push(obj));
            });
            console.log("selectedObjects", selectedObjects);
            canvas.deactivateAll().renderAll();
            var objs = selectedObjects.map(function (o) {
                return o.set('active', true); //return objects that you want to select
            });

            //create group

            var group = new fabric.Group(objs, {
                originX: 'center',
                originY: 'center'
            });

            canvas._activeObject = null;
            group.setCoords();
            canvas.setActiveGroup(group).renderAll();

        }
        canvas.on('selection:created', onSelectionCreated);
        //canvas.on('object:moving', function(e){console.log("object:moving");});
    }

    // handle incoming events from salesforce
    addMessageHandler(function (message) {
        console.log('message', message);
        if (message.action == "partType") {
            if(message.icon){
                console.log(message.icon);
                useIcon = message.icon;
            }
            setPartType(message.data);
            return;
        } else if (message.action == "mode") {
            setMode(message.data);
            return;
        } else if(message.action == "fitimage"){
             calcDiagramDimension();
             return;
        }
        else if(message.action == "selectall"){
             selectAllElements();
             return;
        }
        else if (message.action == "deleteObjects") {
            deleteObjects();
            return;
        } else if (message.action == "deleteAll") {
            canvas.clear();
            resetVars();
            drawgrid();
            return;
        } else if (message.action == "json") {
            var fullJsonData = generateJSONData();
            sendMessage({
                "event": "json",
                "data": fullJsonData
            });
            return;
        } else if (message.action == "grayjson") {
            var fullJsonData = generateGrayscaleJSONData(generateJSONData());
            sendMessage({
                "event": "json",
                "data": fullJsonData
            });
            return;
        } else if (message.action == "moveDown") {
            var canvasButton = document.getElementById('canvasButton');
            canvasButton.classList.add('moveDown');
            return;
        } else if (message.action == "hidden") {
            var canvasButton = document.getElementById('canvasButton');
            canvasButton.classList.add('hidden');
            return;
        } else if (message.action == "centerCanvas") {
            var canvasContainerDiv = document.getElementById('canvasContainerDiv');
            canvasContainerDiv.scrollTo({
                left: leftMostPoint() - 30
            });
            return;
        } else if (message.action == "convertToPng") {
            convertToPng();
            return;
        } else if (message.action == "opencropmodal") {
            opencropmodal();
            return;
        } else if (message.action == "editSelectedLineLength") {
            editSelectedLineLength();
            return;
        }

        var ourconstraints = message.constraints;
        gateThreshold = ourconstraints.gate;
        fenceThreshold = ourconstraints.fence;

        if (message.action == "new") {
            // add drawing mode as the default mode
            setPartType('fence');
            startCanvasInit();
            setMode('Drawing mode');
            dragElement(document.getElementById("mydiv"));
        } else if (message.action == "edit") {
            reCreateDiagram(message);
           
        }
    });


    var Calculate = {
        lineLength: function (x1, y1, x2, y2) {
            return Math.sqrt(Math.pow(x2 * 1 - x1 * 1, 2) + Math.pow(y2 * 1 - y1 * 1, 2));
        }
    }
    function selectAllElements(){
            setMode("Selection mode");
             let alltheobjects =  [];
             canvas.getObjects().map((item,index)=>{
                  if(!item.isGrid){
                    alltheobjects.push(item);  
                  }
             });
                var objs = alltheobjects.map(function(o) {
                return o.set('active', true);
                });

                var group = new fabric.Group(objs, {
                originX: 'center', 
                originY: 'center'
                });

                canvas._activeObject = null;

                canvas.setActiveGroup(group.setCoords()).renderAll();
    }

    function angle(cx, cy, ex, ey) {
        var dy = ey - cy;
        var dx = ex - cx;
        var theta = Math.atan2(dy, dx); // range (-PI, PI]
        theta *= 180 / Math.PI; // rads to degs, range (-180, 180]
        //if (theta < 0) theta = 360 + theta; // range [0, 360)
        return theta;
    }
    function calcDiagramDimension(){
    var djson = generateJSONData();
    var minX=0;
    var minY=0;
    var maxX=0;
    var maxY=0;
    var alllinearr = djson.diagram.fence.concat(djson.diagram.gate);
    alllinearr.map((item,index)=>{
        if(item.x1<minX){
            minX=item.x1;
        }
        if(item.x2<minX){
            minX=item.x2;
        }

        if(item.y1<minY){
            minY=item.y1;
        }
        if(item.y2<minY){
            minY=item.y2;
        }

        if(item.x1>maxX){
            maxX=item.x1;
        }
        if(item.x2>maxX){
            maxX=item.x2;
        }
        if(item.y1>maxY){
            maxY=item.y1;
        }
        if(item.y2>maxY){
            maxY=item.y2;
        }
    });
    
    let isDimensionchanged = false;
    console.log("djson.canvas.height",djson.canvas.height);
    console.log("(maxY-minY)",maxY,minY,(maxY - minY));
    
        if((maxY - minY)>djson.canvas.height){
            djson.canvas.height = (maxY-minY)+500;
            isDimensionchanged = true;
        }
        if((maxX-minX)>djson.canvas.width){
            djson.canvas.width = (maxX-minX)+500;
            isDimensionchanged = true;
        }
        if(minY<0 || minX<0 ){

            canvas.getObjects().map((item,index)=>{
                if(!item.isGrid){
                    if(minY<0 ){
                        if(item.y1){
                            item.y1= item.y1 - minY + 100;
                        }
                        if(item.y2){
                            item.y2= item.y2 - minY + 100;
                        }
                        if(item.top){
                            item.top= item.top - minY + 100;
                        } 
                       
                        
        
                    }
                    if(minX<0 ){
                        
                        if(item.x1){
                            item.x1= item.x1 - minX + 100;
                        }
                        if(item.x2){
                            item.x2= item.x2 - minX + 100;
                        }
                        if(item.left){
                            item.left= item.left - minX + 100;
                        } 
                    }
                }
            });
            
        }
        if(isDimensionchanged){
        
            djson1 = generateJSONData();
            djson1.canvas.height = djson.canvas.height;
            djson1.canvas.width = djson.canvas.width;
            canvas.clear();
            resetVars();
            drawgrid();
            var message = {};
            message.data = djson1;
          
            /*let tempstartX = startx[temp];
            let tempendX = endx[temp];
            let tempstartY = starty[temp];
            let tempendY = endy[temp];*/
            reCreateDiagram(message);
            /*endx[temp] = tempendX;
            startx[temp] = tempstartX;
            endy[temp] = tempendY;
            starty[temp] = tempstartY;*/

        }
        else{
            canvas.renderAll();
        }
        isFreshStart=true;
        endx[temp] = null;
        startx[temp] = null;
        endy[temp] = null;
        starty[temp] = null;

    }
    function reCreateDiagram(message){
         sw = message.data.canvas.width;
            sh = message.data.canvas.height;

            mainPostData = message.data.diagram.postData;

            lineCounter = (message.data.imgMeta.lineCounter) ? message.data.imgMeta.lineCounter : 0;
            gateCounter = (message.data.imgMeta.gateCounter) ? message.data.imgMeta.gateCounter : 0;
            postCounter = (message.data.imgMeta.postCounter) ? message.data.imgMeta.postCounter : 0;

            if (message.data.attachmentInfo != undefined) {
                hasPreviousName = message.data.attachmentInfo.filename;
                hasPreviousFileType = message.data.attachmentInfo.fileType;
                hasPreviousAttachId = message.data.attachmentInfo.attachId;
            }

            startCanvasInit();
            dragElement(document.getElementById("mydiv"));

            if (message.data.attachmentInfo != undefined) {
                document.getElementById("exportFileName").value = hasPreviousName;
                document.getElementById("exportFileName").disabled = true;
            }
            var lineTextMap = {};
            var lineTextArr = message.data.diagram.texts;
            for (var i = 0; i < lineTextArr.length; i++) {
                var templineTextObj = lineTextArr[i];
                var tempIndivText = new fabric.Text(templineTextObj.dataText, {
                    fontSize: 12,
                    angle: templineTextObj.angle
                });
                tempIndivText.left = templineTextObj.left;
                tempIndivText.top = templineTextObj.top;
                tempIndivText.dataText = templineTextObj.dataText;
                tempIndivText.hasControls = false;
                tempIndivText.selectable = false;
                if (templineTextObj.belongsToLine) {
                    tempIndivText.belongsToLine = templineTextObj.belongsToLine;
                } else {
                    tempIndivText.belongsToLine = (templineTextObj.dataText.substring(0, templineTextObj
                        .dataText.indexOf(":"))).trim();
                }
                lineTextMap[tempIndivText.belongsToLine] = templineTextObj.dataText;
                canvas.add(tempIndivText);

            }
            var lineNameObj = {};
            // re creates lines or fences
            var linearr = message.data.diagram.fence.concat(message.data.diagram.gate);
            for (var i = 0; i < linearr.length; i++) {
                var lineObj = linearr[i];
                var temppoints = [lineObj.x1, lineObj.y1, lineObj.x2, lineObj.y2];
                var templine = new fabric.Line(temppoints, {
                    strokeWidth: lineObj.strokeWidth,
                    stroke: lineObj.stroke,
                    originX: lineObj.originX,
                    originY: lineObj.originY,
                    lineType: lineObj.type,
                    lineName: lineObj.name,
                    length: lineObj.length,
                    hasControls: false,
                    selectable: false,
                    isSelected: lineObj.isSelected || false,
                    product: lineObj.product || '',
                    productId: lineObj.productId || '',
                    productType: lineObj.productType || '',
                    laborCost: lineObj.laborCost || 0,
                    productHeight: lineObj.productHeight || 0,
                    topType: lineObj.topType || '',
                    productGroup: lineObj.productGroup || '',
                    postType: lineObj.postType || '',
                    BOM: lineObj.BOM || '',
                    originalstroke: lineObj.originalstroke || '',
                    originalfill: lineObj.originalfill || ''
                });
                if (lineObj.belongsToText) {
                    templine.belongsToText = lineObj.belongsToText;
                } else {
                    templine.belongsToText = (lineTextMap[lineObj.name]) ? lineTextMap[lineObj.name] : null;
                }
                canvas.add(templine);
                lineNameObj[lineObj.name] = templine;
            }

            var rectArr = message.data.diagram.rectangles;
            for (var i = 0; i < rectArr.length; i++) {
                var templineTextObj = rectArr[i];

                //closure, create a scope for specific variables
                (function (obj) {
                    new fabric.Image.fromURL(imgMap[obj.iconname], function (img) {
                        img.set({
                            angle:obj.angle,
                            flipX:obj.flipX,
                            left: obj.left,
                            top: obj.top,
                            originX: 'left',
                            originY: 'top',
                            width: obj.width,
                            height: obj.height,
                            _drawFigure: "rectangle",
                            iconname:obj.iconname
                        });

                        
                        
                        canvas.add(img);
                    });
                })(templineTextObj);
            }

            // redraw posts
            var rectArr = message.data.diagram.post;
            for (var i = 0; i < rectArr.length; i++) {
                var tempAssociateLines = [];
                var templineTextObj = rectArr[i];
                templineTextObj['associatelines'].map((l) => {
                    tempAssociateLines.push(lineNameObj[l.name]);
                })
                var temprect = new fabric.Rect({
                    left: templineTextObj.left,
                    top: templineTextObj.top,
                    originX: 'left',
                    originY: 'top',
                    width: 10,
                    height: 10,
                    angle: 0,
                    fill: templineTextObj.fill,
                    originalfill: templineTextObj.fill,
                    transparentCorners: false,
                    drawFigure: "post",
                    postType: templineTextObj.postType,
                    postname: templineTextObj.postname,
                    hasControls: false,
                    selectable: true,
                    product: '',
                    productId: '',
                    productGroup: '',
                    productType: '',
                    laborCost: 0,
                    topType: '',
                    productHeight: 0,
                    BOM: '',
                    quantity: 0,
                    lines: tempAssociateLines
                });

                canvas.add(temprect);
                postArr.push(temprect);
            }

            var circleArr = message.data.diagram.circles;
            for (var i = 0; i < circleArr.length; i++) {
                var templineTextObj = circleArr[i];
                var tempellipse = new fabric.Ellipse({
                    top: templineTextObj.top,
                    left: templineTextObj.left,
                    rx: templineTextObj.rx,
                    ry: templineTextObj.ry,
                    transparentCorners: false,
                    hasControls: false,
                    selectable: false,
                    stroke: 'rgba(0,0,255,0.5)',
                    strokeWidth: 5,
                    fill: 'rgba(0,0,255,0.5)',
                    drawFigure: "circle",
                    originX: 'center',
                    originY: 'center'
                });

                var lineShowText = "pool";
                var indivText = new fabric.IText(lineShowText, {
                    fontSize: 12
                });

                indivText.left = tempellipse.left - (indivText.width / 2);
                indivText.top = tempellipse.top - (indivText.height / 2);
                indivText.drawtype = "other";
                indivText.hasControls = false;
                indivText.selectable = false;
                
                // add them both into a group first
                var group = new fabric.Group([tempellipse, indivText], {
                    left: tempellipse.left,
                    top: tempellipse.top,
                    _drawFigure: 'circle'
                });
                
                canvas.add(group);
            }

            var lineTextArr = message.data.diagram.landscapeObject;
            for (var i = 0; i < lineTextArr.length; i++) {
                var templineTextObj = lineTextArr[i];
                var tempIndivText = new fabric.Text("X", {
                    fontSize: 16
                });
                tempIndivText.left = templineTextObj.left;
                tempIndivText.top = templineTextObj.top;
                tempIndivText.drawFigure = "landscapeObject";
                tempIndivText.hasControls = false;
                tempIndivText.selectable = true;
                canvas.add(tempIndivText);
            }

            var lineTextArr = message.data.diagram.otherTexts;
            for (var i = 0; i < lineTextArr.length; i++) {
                var templineTextObj = lineTextArr[i];
                var tempIndivText = new fabric.IText(templineTextObj.text, {
                    fontSize: 12
                });
                tempIndivText.left = templineTextObj.left;
                tempIndivText.top = templineTextObj.top;
                tempIndivText.drawtype = "other";
                tempIndivText.hasControls = false;
                tempIndivText.selectable = true;
                canvas.add(tempIndivText);
            }

            // add drawing mode as the default mode
            setMode('Drawing mode');
    }
    function setPartType(type) {
        lineType = type;
        partType = type
        if (lineType == "fence") {
            lineColor = 'red';
        } else if (lineType == "gate") {
            lineColor = 'blue';
        }
    }

    function closeCropPopUp() {
        document.getElementById("cropmodal").style.display = "none";
    }

    // find the left most point in the canvas
    function leftMostPoint() {
        var left = 9999;

        canvas.getObjects().forEach(function (o) {
            if (o.x1 && o.x1 < left) {
                left = o.x1
            }
            if (o.x2 && o.x2 < left) {
                left = o.x2;
            }
            if (o.left && o.left < left) {
                left = o.left;
            }
        });

        return left;
    }

    // opens the cropper image
    function opencropmodal() {
        document.getElementById("cropmodal").style.display = "block";
        var cropcanvas = $("#cropcanvas"),
            context = cropcanvas.get(0).getContext("2d");
        var originalimage = new Image();

        originalimage.onload = function () {
            context.canvas.height = originalimage.height;
            context.canvas.width = originalimage.width;
            context.drawImage(originalimage, 0, 0);
            var cropper = cropcanvas.cropper({
                zoomable: false,
                zoomOnTouch: false,
                zoomOnWheel: false
            });

        };
        originalimage.src = document.getElementById('canvas').toDataURL();
    }

    // returns a exportable json formatted data of the canvas
    function generateJSONData() {
        var exportCanvasData = {
            'canvas': {
                'width': sw,
                'height': sh
            },
            'imgMeta': {
                'lineCounter': lineCounter,
                'gateCounter': gateCounter,
                'postCounter': postCounter
            },
            'diagram': {
                'fence': [],
                'gate': [],
                'texts': [],
                'rectangles': [],
                'circles': [],
                'otherTexts': [],
                'post': [],
                'postData': mainPostData,
                'landscapeObject': []
            }
        };
        if (hasPreviousName != '' && hasPreviousName != undefined && hasPreviousFileType != '' && hasPreviousFileType !=
            undefined && hasPreviousAttachId != '' && hasPreviousAttachId != undefined) {
            exportCanvasData['attachmentInfo'] = {};
            exportCanvasData['attachmentInfo']['filename'] = hasPreviousName;
            exportCanvasData['attachmentInfo']['fileType'] = hasPreviousFileType;
            exportCanvasData['attachmentInfo']['attachId'] = hasPreviousAttachId;
        }

        canvas.getObjects().forEach(function (o) {
            if(!o.isGrid){
              
           
            if (o.lineType !== undefined && o.length !== undefined) {
                console.log(o);
                console.log(JSON.stringify(o));
                var lineObj = {
                    'type': o.lineType,
                    'length': o.length,
                    'name': o.lineName,
                    'x1': o.x1,
                    'x2': o.x2,
                    'y1': o.y1,
                    'y2': o.y2,
                    'originY': o.originY,
                    'originX': o.originX,
                    'stroke': o.stroke,
                    'strokeWidth': o.strokeWidth,
                    'belongsToText': o.belongsToText,
                    'selected': o.isSelected,
                    'product': o.product,
                    'productId': o.productId,
                    'productGroup': o.productGroup,
                    'laborCost': o.laborCost,
                    'productType': o.productType,
                    'postType': o.postType,
                    'topType': o.topType,
                    'productHeight': o.productHeight,
                    'BOM': o.BOM
                };

                exportCanvasData.diagram[o.lineType].push(lineObj);
            }
            if (o.dataText != undefined) {
                var textObj = {
                    'dataText': o.dataText,
                    'angle': o.angle,
                    'top': o.top,
                    'left': o.left,
                    'belongsToLine': o.belongsToLine
                }
                exportCanvasData.diagram.texts.push(textObj);
            }
            if (o.drawtype != undefined && o.drawtype == "other") {
                var textObj = {
                    'text': o.text,
                    'top': o.top,
                    'left': o.left,
                    'drawtype': "other"
                }
                exportCanvasData.diagram.otherTexts.push(textObj);
            }
            if (o.drawFigure != undefined && o.drawFigure == "landscapeObject") {
                var textObj = {
                    'text': o.text,
                    'top': o.top,
                    'left': o.left,
                    'drawFigure': "landscapeObject"
                }
                exportCanvasData.diagram.landscapeObject.push(textObj);
            }
            // house is saved here
            //if ((o.drawFigure != undefined || o._drawFigure != undefined) && (o.drawFigure == "rectangle" || o
            if (o._drawFigure != undefined && o._drawFigure == "rectangle") {
                console.log(o);
                var rectObj = {
                    'angle':o.angle,
                    'flipX':o.flipX,
                    'left': o.left,
                    'top': o.top,
                    'originX': 'left',
                    'originY': 'top',
                    'width': o.currentWidth,
                    'height': o.currentHeight,
                    '_drawFigure': "rectangle",
                    'iconname': o.iconname
                }

                exportCanvasData.diagram.rectangles.push(rectObj);
            }
            if (o.drawFigure != undefined && o.drawFigure == "post") {
                var templinesArr = [];
                o.lines.map((elem) => {
                    var templineObj = {
                        'type': elem.lineType,
                        'length': elem.length,
                        'name': elem.lineName,
                        'x1': elem.x1,
                        'x2': elem.x2,
                        'y1': elem.y1,
                        'y2': elem.y2,
                        'originY': elem.originY,
                        'originX': elem.originX,
                        'stroke': elem.stroke,
                        'strokeWidth': elem.strokeWidth,
                        'belongsToText': elem.belongsToText,
                        'selected': elem.isSelected,
                        'product': elem.product,
                        'productId': elem.productId,
                        'productGroup': elem.productGroup,
                        'laborCost': elem.laborCost,
                        'productType': elem.productType,
                        'postType': elem.postType,
                        'topType': elem.topType,
                        'productHeight': elem.productHeight,
                        'BOM': elem.BOM
                    };
                    templinesArr.push(templineObj);

                });
                console.log(JSON.stringify(templinesArr));
                var rectObj = {
                    'left': o.left,
                    'top': o.top,
                    'originX': 'left',
                    'originY': 'top',
                    'width': 10,
                    'height': 10,
                    'angle': 0,
                    'fill': o.fill,
                    'transparentCorners': false,
                    'drawFigure': "post",
                    'postType': o.postType,
                    'postname': o.postname,
                    'associatelines': templinesArr
                }
                exportCanvasData.diagram.post.push(rectObj);
            }
            //if (o.drawFigure != undefined && o.drawFigure == "circle") {
            if (o._drawFigure != undefined && o._drawFigure == "circle") {
                var circleObj = {
                    'top': o.top,
                    'left': o.left,
                    'rx': o._objects[0].rx,
                    'ry': o._objects[0].ry,
                    'transparentCorners': false,
                    'hasBorders': false,
                    'hasControls': false,
                    'stroke': 'rgba(0,0,255,0.5)',
                    'strokeWidth': 5,
                    'fill': 'rgba(0,0,255,0.5)',
                    'drawFigure': "circle"
                }
                exportCanvasData.diagram.circles.push(circleObj);
            }

        }
        });
        console.log("rectObj",JSON.stringify(exportCanvasData));
        return exportCanvasData;
    }

    // returns a grayscale version of the json canvas
    function generateGrayscaleJSONData(originalJson) {
        let { diagram: { fence, gate } } = originalJson;

        // loop and change fill of the fence and gates
        fence.map((item) => {
            return {
                ...item,
                stroke: rgba(0,0,0,0.5)
            }
        });

        gate.map((item) => {
            return {
                ...item,
                stroke: rgba(0,0,0,0.5)
            }
        });

        // update the original data
        originalJson.fence = fence;
        originalJson.gate = gate;
        // replace all fills and strokes
        //jsonData = jsonData.replace(/("fill":)(".*?")/ig, '$1"rgba(0,0,0,0.5)"');
        //jsonData = jsonData.replace(/("stroke":)(".*?")/ig, '$1"rgba(0,0,0,0.5)"');
        return originalJson;
    }

    // exports a png based and JSON based output using a cropper
    function convertToPng() {
        var exportCanvasData = generateJSONData();
        var can = document.getElementById('canvas');
        var cropcanvas = $("#cropcanvas")
        cropurl = cropcanvas.cropper('getCroppedCanvas').toDataURL("image/png");

        var exportingfilename = document.getElementById("exportFileName").value;
        if (exportingfilename == '') {
            sendMessage({
                "event": "errorcrop",
                "data": "Filename cannot be empty!"
            });
            return;
        } else if (!Validate(exportingfilename)) {
            sendMessage({
                "event": "errorcrop",
                "data": "Only Alphabets, Numbers and dash are allowed!"
            });
            return;
        }

        console.log("exportCanvasData", JSON.stringify(exportCanvasData));
        sendMessage({
            "event": "action",
            "info": {
                "saveimage": {
                    data: {
                        name: "" + exportingfilename,
                        value: "" + cropurl
                    }
                },
                "savedata": {
                    data: exportCanvasData
                }
            }
        });
    }

    // close the modal window
    function closePopUp() {
        document.getElementById("modal").style.display = "none";
    }

    // set drawing or selection mode
    function setMode(mode) {
        if (mode == "Selection mode") {
            canvas.selection = true;
            canvas.hasControls = false;
            canvas.getObjects().forEach(function (o) {
                if(!o.isGrid){
                o.selectable = true;
                o.hasControls = false;
                }
                
            });
            //document.getElementById("drawingElement").style.display='none';
            //document.getElementById("selectionFeatures").style.display='inline-block';

        } else {
            canvas.selection = false;
            canvas.hasControls = false;
            canvas.getObjects().forEach(function (o) {
                o.selectable = false;
                o.hasControls = false;
            });
            //document.getElementById("drawingElement").style.display='inline-block';
            //document.getElementById("selectionFeatures").style.display='none';
        }
    }

    function editSelectedLineLength() {
        editLengthObject = [];
        var activeObject = canvas.getActiveObject(),
            activeGroup = canvas.getActiveGroup();
        if (activeObject) {
            if (activeObject.dataText != undefined) {
                editLengthObject.push(activeObject);
            }
        } else if (activeGroup) {
            var objectsInGroup = activeGroup.getObjects();
            canvas.discardActiveGroup();
            objectsInGroup.forEach(function (object) {
                if (object.dataText != undefined) {
                    editLengthObject.push(object);
                }
            });
        }
        if (editLengthObject.length > 0) {
            var editLineTab = '<table><tr><th>Line Name</th><th>Line Length('+lengthUnit+')</th></tr>';
            for (var i = 0; i < editLengthObject.length; i++) {
                var forLine = editLengthObject[i].dataText.substring(0, editLengthObject[i].dataText.indexOf(":"));
                var forlineLength = parseFloat(editLengthObject[i].dataText.substring(editLengthObject[i].dataText
                    .indexOf(":") + 1, editLengthObject[i].dataText.indexOf(lengthUnit)));
                console.log("forLine", forLine);
                console.log("forlineLength", forlineLength);
                editLineTab = editLineTab + '<tr><td>' + forLine +
                    '</td><td><input type="number" class="slds-input" id="e' + forLine + '" value="' + forlineLength +
                    '" /></td></tr>';
            }
            editLineTab = editLineTab +
                '<tr><td colspan="2" style="text-align:center;"><button id="saveEditedLengths" onclick="saveEditedLength()" style="margin-right:5px;"/>Save</button><button id="cancelEditedLengths" onclick="cancelEditedLength()"/>Cancel</button></td></tr></table>'
            console.log("editLineTab", editLineTab);
            document.getElementById("editlineTableContainer").innerHTML = editLineTab;
            document.getElementById("mydiv").style.display = 'block';
            document.getElementById("mydiv").style.position = 'fixed';
            //document.getElementById("mydiv").style.top = (sh / 2 - (parseFloat(document.getElementById("mydiv")
              //  .offsetHeight) / 2)) + "px";
            //document.getElementById("mydiv").style.left = (sw / 2 - (parseFloat(document.getElementById("mydiv")
              //  .offsetWidth) / 2)) + "px";
             document.getElementById("mydiv").style.top = "30px";
            document.getElementById("mydiv").style.left = "calc(50vw - "+(parseFloat(document.getElementById("mydiv")
                .offsetWidth) / 2) + "px";
        }
    }

    // edits the length of the currently drawn line
    function editCurrentLineLength() {
        if ((partType == "fence" || partType == "gate") && line !== null) {
            console.log(line);
            var editLineTab = '<table><tr><th>Line Name</th><th>Line Length('+lengthUnit+')</th></tr>';
            var forLine = line.lineName;
            var forlineLength = parseFloat(line.length);
            editLineTab = editLineTab + '<tr><td>' + forLine +
                '</td><td><input type="number" class="slds-input" id="e' + forLine + '" value="' + forlineLength +
                '" /></td></tr>';

            editLineTab = editLineTab +
                '<tr><td colspan="2" style="text-align:center;"><button id="saveEditedLengths" onclick="saveCurrentEditedLength()" style="margin-right:5px;"/>Save</button><button id="cancelEditedLengths" onclick="cancelEditedLength()"/>Cancel</button></td></tr></table>'
            console.log("editLineTab", editLineTab);
            document.getElementById("editlineTableContainer").innerHTML = editLineTab;
            document.getElementById("mydiv").style.display = 'block';
            document.getElementById("mydiv").style.position = 'fixed';
            document.getElementById("mydiv").style.top = "30px";
            document.getElementById("mydiv").style.left = "calc(50vw - "+(parseFloat(document.getElementById("mydiv")
                .offsetWidth) / 2) + "px";
        }
    }

    // edits the most recently drawn line i.e fence
    function saveCurrentEditedLength() {
        document.getElementById("saveEditedLengths").disabled=true;
        document.getElementById("saveEditedLengths").innerHTML="saving...";
        document.getElementById("cancelEditedLengths").disabled=true;
        document.getElementById("saveEditedLengths").classList.add("diabledClass");
        document.getElementById("cancelEditedLengths").classList.add("diabledClass");

        var forLine = line.lineName;

        var estr = document.getElementById("e" + forLine).value;
        document.getElementById("e" + forLine).style.border = "1px solid #dddbda";
        var patt = /^[1-9]\d*(\.\d+)?$/g;
        console.log("estr",estr);
        if (estr != '' && patt.test(estr)) {
            console.log("indie");
            var lineShowText = forLine + ': ' + estr + ' ' + lengthUnit;

            // set the display text to current reading
            lastEditedText.setText(lineShowText);
            lastEditedText.dataText = lineShowText;

            var prevDistance = parseFloat(line.length) / (conversionRatio);
            var nowDistance = parseFloat(estr) / (conversionRatio);

            var disRatio = nowDistance / prevDistance;
            var newX = ((1 - disRatio) * (line.x1)) + (disRatio * (line.x2));
            var newY = ((1 - disRatio) * (line.y1)) + (disRatio * (line.y2));
            var temppoints = [line.x1, line.y1, newX, newY];
            var templine = new fabric.Line(temppoints, {
                strokeWidth: line.strokeWidth,
                stroke: line.stroke,
                originX: line.originX,
                originY: line.originY,
                lineType: line.lineType,
                lineName: line.lineName,
                length: parseFloat(estr),
                hasControls: false,
                selectable: false,
                product: line.product,
                productId: line.productId,
                productGroup: line.productGroup,
                productType: line.productType,
                laborCost: line.laborCost,
                topType: line.topType,
                postType: line.postType,
                productHeight: line.productHeight,
                BOM: line.BOM,
                belongsToText: line.belongsToText
            });
            canvas.remove(line);
            canvas.add(templine);
            endx[temp] = newX; 
            endy[temp] = newY;
            if (isFreshStart) {
                console.log("q2");
                makePost(line.x1 - 5, line.y1 - 5, 'rgba(139,69,19,0.5)', 'EP', 'P' + postCounter, [templine], false);
            } else {
                var tempLineArr = activePost.lines;
                tempLineArr.push(templine);
                activePost.set({
                    lines: tempLineArr
                });
            }
            if (clickedObj && clickedObj.drawFigure == "post") {
                var tempLineArr = clickedObj.lines;
                tempLineArr.push(templine);
                clickedObj.set({
                    lines: tempLineArr
                })
                activePost = clickedObj;
            } else {
                makePost(newX - 5, newY - 5, 'rgba(139,69,19,0.5)', 'EP', 'P' + postCounter, [templine], true);
            }


            var newTextDistance = (nowDistance / 2) - (lastEditedText.width / 2);

            var disRatio = newTextDistance / nowDistance;
            var newTextX = ((1 - disRatio) * line.x1) + (disRatio * newX);
            var newTextY = ((1 - disRatio) * line.y1) + (disRatio * newY);
            lastEditedText.left = newTextX;
            lastEditedText.top = newTextY;
            lastEditedText.belongsToLine = templine.lineName;
            templine.belongsToText = lineShowText;

            canvas.add(lastEditedText)
            canvas.renderAll();
            // close the line modal
            confPost();
            isFreshStart = false;
            cancelEditedLength(1);
             

           
        }
        else{
            document.getElementById("e" + forLine).style.border = "1px solid red";
             
           
        }
        document.getElementById("saveEditedLengths").disabled=false;
        document.getElementById("saveEditedLengths").innerHTML="Save";
        document.getElementById("cancelEditedLengths").disabled=false;
        document.getElementById("saveEditedLengths").classList.remove("diabledClass");
        document.getElementById("cancelEditedLengths").classList.remove("diabledClass");

    }


    function cancelEditedLength(val = 0) {
        // discard the line
        
        canvas.remove(line);
        document.getElementById("mydiv").style.display = 'none';
        if (val != 1) {
            endx[temp] = startx[temp];
            endy[temp] = starty[temp];
        }        
        if (isFreshStart) {
            endx[temp] = null;
            startx[temp] = null;
            endy[temp] = null;
            starty[temp] = null;
        }
        if (val != 1) {
        if (lineType == 'fence') {
            console.log("hjere 1");
            lineCounter--;

        } else {
            gateCounter--;

        }
        }
    }

    function saveEditedLength() {
        var lineTreeObj = {};
        console.log("r");
        canvas.getObjects().forEach(function (o) {
            if (o.lineType !== undefined && o.length !== undefined) {
                lineTreeObj[o.lineName] = o;
            }
        });

        for (var i = 0; i < editLengthObject.length; i++) {
            var forLine = editLengthObject[i].dataText.substring(0, editLengthObject[i].dataText.indexOf(":"));

            var estr = document.getElementById("e" + forLine).value;
            var patt = /^[1-9]\d*(\.\d+)?$/g;

            if (estr != '' && patt.test(estr)) {
                var lineShowText = forLine + ': ' + estr + ' ' + lengthUnit;
                editLengthObject[i].setText('' + lineShowText);
                editLengthObject[i].dataText = lineShowText;

                if (lineTreeObj[forLine.trim()] != undefined) {
                    console.log("q6");
                    var lineObj = lineTreeObj[forLine.trim()];
                    /*var prevDistance = parseFloat(lineTreeObj[forLine.trim()].length) / (conversionRatio);
                    var nowDistance = parseFloat(estr) / (conversionRatio);

                    var disRatio = nowDistance / prevDistance;
                    var newX = ((1 - disRatio) * (lineObj.x1)) + (disRatio * (lineObj.x2));
                    var newY = ((1 - disRatio) * (lineObj.y1)) + (disRatio * (lineObj.y2));
                    var temppoints = [lineObj.x1, lineObj.y1, newX, newY];
                    var templine = new fabric.Line(temppoints, {
                        strokeWidth: lineObj.strokeWidth,
                        stroke: lineObj.stroke,
                        originX: lineObj.originX,
                        originY: lineObj.originY,
                        lineType: lineObj.lineType,
                        lineName: lineObj.lineName,
                        length: parseFloat(estr),
                        hasControls: false,
                        selectable: false
                    });
                    canvas.remove(lineObj);
                    canvas.add(templine);*/
                    console.log("q1");
                    lineObj.set({
                        length: parseFloat(estr)
                    });

                    /*

                    var newTextDistance = (nowDistance / 2) - (editLengthObject[i].width / 2);

                    var disRatio = newTextDistance / nowDistance;
                    var newTextX = ((1 - disRatio) * lineObj.x1) + (disRatio * newX);
                    var newTextY = ((1 - disRatio) * lineObj.y1) + (disRatio * newY);
                    editLengthObject[i].left = newTextX;
                    editLengthObject[i].top = newTextY;
                    editLengthObject.belongsToLine = templine.lineName;
                    templine.belongsToText = lineShowText;*/
                }
                canvas.renderAll();
            }

        }
        confPost();
        cancelEditedLength();
    }

    function deleteObjects() {
        var activeObject = canvas.getActiveObject(),
            activeGroup = canvas.getActiveGroup();
        if (activeObject) {
            canvas.remove(activeObject);
            if(activeObject.drawFigure == "post"){
                console.log("its a post",activeObject.postname);
                var newPostArray = postArr.slice();
                postArr = [];
                newPostArray.map((dp,index) => {
                    if(dp.postname != activeObject.postname){
                        postArr.push(dp);
                    }
                });
                if(activePost && activePost.postname == activeObject.postname){
                    if(postArr.length>0){
                        activePost = postArr[postArr.length - 1];
                    }
                    else{
                        activePost = null;
                    startx = new Array();
                    endx = new Array();
                    starty = new Array();
                    endy = new Array();
                    isFreshStart = true;
                    }
                    
                }
            }
            if (activeObject.lineType == 'fence' || activeObject.lineType == 'gate') {
                console.log(activeObject.lineName);

                postArr.map((p) => {
                    var newPostArr = [];
                    p.lines.map((l) => {
                        if (l.lineName != activeObject.lineName) {
                            newPostArr.push(l);
                        }
                    });
                    p.lines = newPostArr.slice();
                });

                // only readd posts if necessary
                confPost();
            }
        } else if (activeGroup) {
            var objectsInGroup = activeGroup.getObjects();
            canvas.discardActiveGroup();
            var isActivePostDeleted = false;
            objectsInGroup.forEach(function (object) {
                console.log(object);
                canvas.remove(object);
                if(object.drawFigure == "post"){
                console.log("its a post",object.postname);
                var newPostArray = postArr.slice();
                postArr = [];
                newPostArray.map((dp,index) => {
                    if(dp.postname != object.postname){
                        postArr.push(dp);
                    }
                });
                if(activePost && activePost.postname == object.postname){
                  isActivePostDeleted = true;
                    
                }
            }
                if (object.lineType == 'fence' || object.lineType == 'gate') {

                    console.log(object.lineName);

                    postArr.map((p) => {
                        var newPostArr = [];
                        p.lines.map((l) => {
                            console.log()
                            if (l.lineName != object.lineName) {
                                newPostArr.push(l);
                            }
                        });
                        p.lines = newPostArr.slice();
                    });
                }
            });
            if(isActivePostDeleted){
                if(postArr.length>0){
                    activePost = postArr[postArr.length - 1];
                }
                else{
                    activePost = null;
                    startx = new Array();
                    endx = new Array();
                    starty = new Array();
                    endy = new Array();
                    isFreshStart = true;
                }
            }
            // only readd posts if necessary
            confPost();
        }

        // force a canvas re-render
        canvas.renderAll();
        console.log(lineCounter);
    }

    function changeMode(showmode, hidemode) {
        document.getElementById("" + showmode).style.display = 'inline-block';
        document.getElementById("" + hidemode).style.display = 'none';
        document.getElementById("errorRow").style.display = 'none';
        document.getElementById("errorMessage").innerHTML = "";
        if (!(hasPreviousName != '' && hasPreviousName != undefined && hasPreviousFileType != '' &&
                hasPreviousFileType != undefined && hasPreviousAttachId != '' && hasPreviousAttachId != undefined)) {
            document.getElementById("exportFileName").value = "";
        }
    }

    function Validate(str) {
        //Regex for Valid Characters i.e. Alphabets, Numbers and dash.
        var regex = /^[A-Za-z0-9_]+$/


        var isValid = regex.test(str);

        // isValid == false : contains other characters
        return isValid;
    }

    // making a dragable line edit table

    function dragElement(elmnt) {
        var pos1 = 0,
            pos2 = 0,
            pos3 = 0,
            pos4 = 0;
        if (document.getElementById(elmnt.id + "header")) {
            /* if present, the header is where you move the DIV from:*/
            document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
        } else {
            /* otherwise, move the DIV from anywhere inside the DIV:*/
            elmnt.onmousedown = dragMouseDown;
        }

        function dragMouseDown(e) {
            e = e || window.event;
            e.preventDefault();
            // get the mouse cursor position at startup:
            pos3 = e.clientX;
            pos4 = e.clientY;
            document.onmouseup = closeDragElement;
            // call a function whenever the cursor moves:
            document.onmousemove = elementDrag;
        }

        function elementDrag(e) {
            e = e || window.event;
            e.preventDefault();
            // calculate the new cursor position:
            pos1 = pos3 - e.clientX;
            pos2 = pos4 - e.clientY;
            pos3 = e.clientX;
            pos4 = e.clientY;
            // set the element's new position:
            elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
            elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
        }

        function closeDragElement() {
            /* stop moving when mouse button is released:*/
            document.onmouseup = null;
            document.onmousemove = null;
        }
    }


    // The basic check
    if (document.readyState === 'complete') {
        sendMessage({
            "event": "ack",
            "info": ""
        });
        console.log("mesage sent");
    } else {
        var interval = setInterval(function () {
            if (document.readyState === 'complete') {
                sendMessage({
                    "event": "ack",
                    "info": ""
                });
                clearInterval(interval);
                console.log("mesage sent in interval");

            }
        }, 100);
    }
    fabric.Group.prototype.lockScalingX = true;
    fabric.Group.prototype.lockScalingY = true;

    // simuluation code starts
/*
    var message = {};
    message["data"] = {"canvas":{"width":1420,"height":546},"imgMeta":{"lineCounter":4,"gateCounter":0,"postCounter":5},"diagram":{"fence":[{"type":"fence","length":37.8,"name":"L1","x1":279,"x2":657,"y1":117,"y2":117,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L1: 37.8 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""},{"type":"fence","length":20.15,"name":"L2","x1":657,"x2":671,"y1":117,"y2":318,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L2: 20.15 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""},{"type":"fence","length":18.8,"name":"L3","x1":671,"x2":483,"y1":318,"y2":316,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L3: 18.8 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""},{"type":"fence","length":7.74,"name":"L4","x1":483,"x2":520,"y1":316,"y2":384,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L4: 7.74 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""}],"gate":[],"texts":[{"dataText":"L1: 37.8 ft","angle":0,"top":117,"left":442.5029296875,"belongsToLine":"L1"},{"dataText":"L2: 20.15 ft","angle":86.01568399762778,"top":189.07364202078162,"left":662.0200546681142,"belongsToLine":"L2"},{"dataText":"L3: 18.8 ft","angle":-179.3904934233248,"top":317.2712454288564,"left":602.4970703125,"belongsToLine":"L3"},{"dataText":"L4: 7.74 ft","angle":61.44860812703981,"top":327.5994731104651,"left":489.31147801598837,"belongsToLine":"L4"}],"rectangles":[],"circles":[],"otherTexts":[],"post":[{"left":274,"top":112,"originX":"left","originY":"top","width":10,"height":10,"angle":0,"fill":"rgba(139,69,19,0.5)","transparentCorners":false,"drawFigure":"post","postType":"EP","postname":"P0","associatelines":[{"type":"fence","length":37.8,"name":"L1","x1":279,"x2":657,"y1":117,"y2":117,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L1: 37.8 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""}]},{"left":652,"top":112,"originX":"left","originY":"top","width":10,"height":10,"angle":0,"fill":"black","transparentCorners":false,"drawFigure":"post","postType":"CP","postname":"P1","associatelines":[{"type":"fence","length":37.8,"name":"L1","x1":279,"x2":657,"y1":117,"y2":117,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L1: 37.8 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""},{"type":"fence","length":20.15,"name":"L2","x1":657,"x2":671,"y1":117,"y2":318,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L2: 20.15 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""}]},{"left":666,"top":313,"originX":"left","originY":"top","width":10,"height":10,"angle":0,"fill":"black","transparentCorners":false,"drawFigure":"post","postType":"CP","postname":"P2","associatelines":[{"type":"fence","length":20.15,"name":"L2","x1":657,"x2":671,"y1":117,"y2":318,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L2: 20.15 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""},{"type":"fence","length":18.8,"name":"L3","x1":671,"x2":483,"y1":318,"y2":316,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L3: 18.8 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""}]},{"left":478,"top":311,"originX":"left","originY":"top","width":10,"height":10,"angle":0,"fill":"black","transparentCorners":false,"drawFigure":"post","postType":"CP","postname":"P3","associatelines":[{"type":"fence","length":18.8,"name":"L3","x1":671,"x2":483,"y1":318,"y2":316,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L3: 18.8 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""},{"type":"fence","length":7.74,"name":"L4","x1":483,"x2":520,"y1":316,"y2":384,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L4: 7.74 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""}]},{"left":515,"top":379,"originX":"left","originY":"top","width":10,"height":10,"angle":0,"fill":"rgba(139,69,19,0.5)","transparentCorners":false,"drawFigure":"post","postType":"EP","postname":"P4","associatelines":[{"type":"fence","length":7.74,"name":"L4","x1":483,"x2":520,"y1":316,"y2":384,"originY":"center","originX":"center","stroke":"red","strokeWidth":2,"belongsToText":"L4: 7.74 ft","product":"","productId":"","productGroup":"","laborCost":0,"productType":"","postType":"","topType":"","productHeight":0,"BOM":""}]}],"postData":[],"landscapeObject":[]}};


    sw = message.data.canvas.width;
    sh = message.data.canvas.height;

    mainPostData = message.data.diagram.postData;

    lineCounter = (message.data.imgMeta.lineCounter) ? message.data.imgMeta.lineCounter : 0;
    gateCounter = (message.data.imgMeta.gateCounter) ? message.data.imgMeta.gateCounter : 0;
    postCounter = (message.data.imgMeta.postCounter) ? message.data.imgMeta.postCounter : 0;

    if (message.data.attachmentInfo != undefined) {
        hasPreviousName = message.data.attachmentInfo.filename;
        hasPreviousFileType = message.data.attachmentInfo.fileType;
        hasPreviousAttachId = message.data.attachmentInfo.attachId;
    }

    startCanvasInit();
    dragElement(document.getElementById("mydiv"));

    if (message.data.attachmentInfo != undefined) {
        document.getElementById("exportFileName").value = hasPreviousName;
        document.getElementById("exportFileName").disabled = true;
    }
    var lineTextMap = {};
    var lineTextArr = message.data.diagram.texts;
    for (var i = 0; i < lineTextArr.length; i++) {
        var templineTextObj = lineTextArr[i];
        var tempIndivText = new fabric.Text(templineTextObj.dataText, {
            fontSize: 12,
            angle: templineTextObj.angle
        });
        tempIndivText.left = templineTextObj.left;
        tempIndivText.top = templineTextObj.top;
        tempIndivText.dataText = templineTextObj.dataText;
        tempIndivText.hasControls = false;
        tempIndivText.selectable = false;
        if (templineTextObj.belongsToLine) {
            tempIndivText.belongsToLine = templineTextObj.belongsToLine;
        } else {
            tempIndivText.belongsToLine = (templineTextObj.dataText.substring(0, templineTextObj
                .dataText.indexOf(":"))).trim();
        }
        lineTextMap[tempIndivText.belongsToLine] = templineTextObj.dataText;
        canvas.add(tempIndivText);

    }
    var lineNameObj = {};
    // re creates lines or fences
    var linearr = message.data.diagram.fence.concat(message.data.diagram.gate);
    for (var i = 0; i < linearr.length; i++) {
        var lineObj = linearr[i];
        var temppoints = [lineObj.x1, lineObj.y1, lineObj.x2, lineObj.y2];
        var templine = new fabric.Line(temppoints, {
            strokeWidth: lineObj.strokeWidth,
            stroke: lineObj.stroke,
            originX: lineObj.originX,
            originY: lineObj.originY,
            lineType: lineObj.type,
            lineName: lineObj.name,
            length: lineObj.length,
            hasControls: false,
            selectable: false,
            isSelected: lineObj.isSelected || false,
            product: lineObj.product || '',
            productId: lineObj.productId || '',
            productType: lineObj.productType || '',
            laborCost: lineObj.laborCost || 0,
            productHeight: lineObj.productHeight || 0,
            topType: lineObj.topType || '',
            productGroup: lineObj.productGroup || '',
            postType: lineObj.postType || '',
            BOM: lineObj.BOM || '',
            originalstroke: lineObj.originalstroke || '',
            originalfill: lineObj.originalfill || ''
        });
        if (lineObj.belongsToText) {
            templine.belongsToText = lineObj.belongsToText;
        } else {
            templine.belongsToText = (lineTextMap[lineObj.name]) ? lineTextMap[lineObj.name] : null;
        }
        canvas.add(templine);
        lineNameObj[lineObj.name] = templine;
    }

    var rectArr = message.data.diagram.rectangles;
    for (var i = 0; i < rectArr.length; i++) {
        var templineTextObj = rectArr[i];


        //closure, create a scope for specific variables
        (function (obj) {
            new fabric.Image.fromURL(houseImage, function (img) {
                img.set({
                    left: obj.left,
                    top: obj.top,
                    originX: 'left',
                    originY: 'top',
                    width: obj.width,
                    height: obj.height,
                    _drawFigure: "rectangle"
                });

                canvas.add(img);
            });
        })(templineTextObj);
        //canvas.add(temprect);
    }

    // redraw posts
    var rectArr = message.data.diagram.post;
    for (var i = 0; i < rectArr.length; i++) {
        var tempAssociateLines = [];
        var templineTextObj = rectArr[i];
        templineTextObj['associatelines'].map((l) => {
            tempAssociateLines.push(lineNameObj[l.name]);
        })
        var temprect = new fabric.Rect({
            left: templineTextObj.left,
            top: templineTextObj.top,
            originX: 'left',
            originY: 'top',
            width: 10,
            height: 10,
            angle: 0,
            fill: templineTextObj.fill,
            transparentCorners: false,
            drawFigure: "post",
            postType: templineTextObj.postType,
            postname: templineTextObj.postname,
            hasControls: false,
            selectable: true,
            product: '',
            productId: '',
            productGroup: '',
            productType: '',
            laborCost: 0,
            topType: '',
            productHeight: 0,
            BOM: '',
            quantity: 0,
            lines: tempAssociateLines
        });

        canvas.add(temprect);
        postArr.push(temprect);
    }

    var circleArr = message.data.diagram.circles;
    for (var i = 0; i < circleArr.length; i++) {
        var templineTextObj = circleArr[i];
        var tempellipse = new fabric.Ellipse({
            top: templineTextObj.top,
            left: templineTextObj.left,
            rx: templineTextObj.rx,
            ry: templineTextObj.ry,
            transparentCorners: false,
            hasControls: false,
            selectable: false,
            stroke: 'rgba(0,0,255,0.5)',
            strokeWidth: 5,
            fill: 'rgba(0,0,255,0.5)',
            drawFigure: "circle",
            originX: 'center',
            originY: 'center'
        });

        canvas.add(tempellipse);

    }

    var lineTextArr = message.data.diagram.landscapeObject;
    for (var i = 0; i < lineTextArr.length; i++) {
        var templineTextObj = lineTextArr[i];
        var tempIndivText = new fabric.Text("X", {
            fontSize: 16
        });
        tempIndivText.left = templineTextObj.left;
        tempIndivText.top = templineTextObj.top;
        tempIndivText.drawFigure = "landscapeObject";
        tempIndivText.hasControls = false;
        tempIndivText.selectable = true;
        canvas.add(tempIndivText);
    }

    var lineTextArr = message.data.diagram.otherTexts;
    for (var i = 0; i < lineTextArr.length; i++) {
        var templineTextObj = lineTextArr[i];
        var tempIndivText = new fabric.IText(templineTextObj.text, {
            fontSize: 12
        });
        tempIndivText.left = templineTextObj.left;
        tempIndivText.top = templineTextObj.top;
        tempIndivText.drawtype = "other";
        tempIndivText.hasControls = false;
        tempIndivText.selectable = true;
        canvas.add(tempIndivText);
    }

    // add drawing mode as the default mode
    setMode('Selection mode');
    setPartType('fence');
*/
    
      
        /*setPartType('fence');
        startCanvasInit();
        setMode('Drawing mode');
        dragElement(document.getElementById("mydiv"));*/
      
        
</script>





</html>